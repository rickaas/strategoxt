module stratego/xtc/posix/Proc

imports
  org.strategoxt.imp.debuggers.stratego.runtime


strategies
  read-from :
    FILE(name) -> <r-exit(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "read-from", "13,2,15,46")> t
    where r-enter(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "read-from", "13,2,15,46")
          <+ r-exit(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "read-from", "13,2,15,46")
             ; fail
    where s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "15,10,15,46")
          ; (s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "15,10,15,41")
             ; <(s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "15,11,15,35")
                 ; (s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "15,11,15,21") ; file-exists)
                 ; s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "15,24,15,35")
                 ; ReadFromFile)> name) => t
          <+ r-exit(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "read-from", "13,2,15,46")
             ; fail


strategies
  xtc-command(tool) =
    s-enter(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "xtc-command", "31,2,34,30")
    ; s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "32,6,34,30")
    ; (s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "32,6,32,41")
       ; where(s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "32,12,32,40")
               ; (s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "32,12,32,15") ; tool)
               ; s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "32,18,32,40")
               ; (s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "32,18,32,33") ; xtc-find-warning) => loc))
    ; s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "33,6,34,30")
    ; (s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "33,6,33,105")
       ; log(
         | Debug()
         , <s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "33,20,33,33") ; concat-strings> [ "Invoking tool "
                                                                                                                          , <s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "33,54,33,57") ; tool>
                                                                                                                          , " at location "
                                                                                                                          , loc
                                                                                                                          , " with arguments: "
                                                                                                                          ]
         , <s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "33,102,33,103") ; id>
         ))
    ; s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "34,6,34,30")
    ; where(s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "34,12,34,29")
            ; <(s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "34,13,34,16") ; call)> ( loc
                                                                                                                     , <s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "34,26,34,27") ; id>
                                                                                                                     ))
    < s-exit(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "xtc-command", "31,2,34,30")
    + s-exit(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "xtc-command", "31,2,34,30")
      ; fail

  xtc-transform(tool) =
    s-enter(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "xtc-transform", "48,2,49,27")
    ; s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "49,4,49,27")
    ; xtc-transform(
        s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "49,18,49,21") ; tool
      , s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "49,24,49,26")
        ; ![]
      )
    < s-exit(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "xtc-transform", "48,2,49,27")
    + s-exit(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "xtc-transform", "48,2,49,27")
      ; fail

  xtc-transform(tool, args) =
    s-enter(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "xtc-transform", "62,2,65,35")
    ; s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "63,4,65,35")
    ; (s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "63,5,63,20")
       ; (s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "63,5,63,12")
          ; FILE(
              s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "63,10,63,11") ; id
            )
          + s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "63,16,63,20") ; stdin)
       < s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "64,6,64,35")
         ; xtc-transform-file(
             s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "64,25,64,28") ; tool
           , s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "64,31,64,34") ; args
           )
       + s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "65,6,65,35")
         ; xtc-transform-term(
             s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "65,25,65,28") ; tool
           , s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "65,31,65,34") ; args
           ))
    < s-exit(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "xtc-transform", "62,2,65,35")
    + s-exit(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "xtc-transform", "62,2,65,35")
      ; fail


strategies
  xtc-transform-file =
    s-enter(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "xtc-transform-file", "70,2,71,22")
    ; s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "71,4,71,22")
    ; ?(tool, args, file)
    < s-exit(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "xtc-transform-file", "70,2,71,22")
    + s-exit(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "xtc-transform-file", "70,2,71,22")
      ; fail

  xtc-transform-file(tool) =
    s-enter(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "xtc-transform-file", "83,2,84,32")
    ; s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "84,4,84,32")
    ; xtc-transform-file(
        s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "84,23,84,26") ; tool
      , s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "84,29,84,31")
        ; ![]
      )
    < s-exit(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "xtc-transform-file", "83,2,84,32")
    + s-exit(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "xtc-transform-file", "83,2,84,32")
      ; fail

  xtc-transform-file(tool, args) :
    FILE(f) -> <r-exit(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "xtc-transform-file", "98,2,101,63")> FILE(g)
    where r-enter(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "xtc-transform-file", "98,2,101,63")
          <+ r-exit(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "xtc-transform-file", "98,2,101,63")
             ; fail
    where s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "100,10,101,63")
          ; (s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "100,10,100,30")
             ; (s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "100,10,100,25")
                ; <(s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "100,11,100,22") ; xtc-new-file)> f) => g)
          ; s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "101,10,101,63")
          ; <(s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "101,11,101,33")
              ; (s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "101,11,101,14") ; conc)
              ; s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "101,17,101,33")
              ; xtc-command(
                  s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "101,29,101,32") ; tool
                ))> ( <s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "101,38,101,41") ; args>
                    , ["-i", f, "-o", g]
                    )
          <+ r-exit(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "xtc-transform-file", "98,2,101,63")
             ; fail

  xtc-transform-file(tool, args) :
    stdin() -> <r-exit(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "xtc-transform-file", "103,2,106,54")> FILE(g)
    where r-enter(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "xtc-transform-file", "103,2,106,54")
          <+ r-exit(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "xtc-transform-file", "103,2,106,54")
             ; fail
    where s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "105,10,106,54")
          ; (s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "105,10,105,26")
             ; (s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "105,10,105,21") ; xtc-new-file) => g)
          ; s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "106,10,106,54")
          ; <(s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "106,11,106,33")
              ; (s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "106,11,106,14") ; conc)
              ; s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "106,17,106,33")
              ; xtc-command(
                  s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "106,29,106,32") ; tool
                ))> ( <s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "106,38,106,41") ; args>
                    , ["-o", g]
                    )
          <+ r-exit(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "xtc-transform-file", "103,2,106,54")
             ; fail

  xtc-transform-term(tool, args) =
    s-enter(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "xtc-transform-term", "120,2,123,14")
    ; s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "121,4,123,14")
    ; (s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "121,4,121,11") ; write-to)
    ; s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "122,6,123,14")
    ; (s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "122,6,122,35")
       ; xtc-transform-file(
           s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "122,25,122,28") ; tool
         , s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "122,31,122,34") ; args
         ))
    ; s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "123,6,123,14")
    ; read-from
    < s-exit(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "xtc-transform-term", "120,2,123,14")
    + s-exit(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "xtc-transform-term", "120,2,123,14")
      ; fail

  xtc-io-transform(s) =
    s-enter(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "xtc-io-transform", "133,2,134,25")
    ; s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "134,4,134,25")
    ; (s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "134,4,134,12") ; read-from)
    ; s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "134,15,134,25")
    ; (s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "134,15,134,15") ; s)
    ; s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "134,18,134,25")
    ; write-to
    < s-exit(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "xtc-io-transform", "133,2,134,25")
    + s-exit(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "xtc-io-transform", "133,2,134,25")
      ; fail

  xtc-io-transform-text(s) =
    s-enter(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "xtc-io-transform-text", "145,2,146,27")
    ; s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "146,6,146,27")
    ; (s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "146,6,146,14") ; read-from)
    ; s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "146,17,146,27")
    ; (s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "146,17,146,17") ; s)
    ; s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "146,20,146,27")
    ; print-to
    < s-exit(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "xtc-io-transform-text", "145,2,146,27")
    + s-exit(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "xtc-io-transform-text", "145,2,146,27")
      ; fail

  xtc-generate(tool) =
    s-enter(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "xtc-generate", "158,2,159,26")
    ; s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "159,4,159,26")
    ; xtc-generate(
        s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "159,17,159,20") ; tool
      , s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "159,23,159,25")
        ; ![]
      )
    < s-exit(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "xtc-generate", "158,2,159,26")
    + s-exit(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "xtc-generate", "158,2,159,26")
      ; fail

  xtc-generate(tool, args) :
    _ -> <r-exit(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "xtc-generate", "171,2,174,54")> FILE(g)
    where r-enter(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "xtc-generate", "171,2,174,54")
          <+ r-exit(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "xtc-generate", "171,2,174,54")
             ; fail
    where s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "173,10,174,54")
          ; (s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "173,10,173,31")
             ; (s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "173,10,173,26")
                ; <(s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "173,11,173,22") ; xtc-new-file)> ()) => g)
          ; s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "174,10,174,54")
          ; <(s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "174,11,174,33")
              ; (s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "174,11,174,14") ; conc)
              ; s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "174,17,174,33")
              ; xtc-command(
                  s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "174,29,174,32") ; tool
                ))> ( <s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "174,38,174,41") ; args>
                    , ["-o", g]
                    )
          <+ r-exit(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "xtc-generate", "171,2,174,54")
             ; fail


strategies
  File-as-fd(s) =
    s-enter(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "File-as-fd", "190,2,192,46")
    ; s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "191,6,192,46")
    ; (s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "191,6,191,22")
       ; (s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "191,6,191,16") ; xtc-open-fd) => fd)
    ; s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "192,6,192,46")
    ; finally(
        s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "192,14,192,14") ; s
      , s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "192,17,192,45")
        ; where(s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "192,23,192,44")
                ; try(
                    s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "192,27,192,43")
                    ; <(s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "192,28,192,39") ; xtc-close-fd)> fd
                  ))
      )
    < s-exit(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "File-as-fd", "190,2,192,46")
    + s-exit(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "File-as-fd", "190,2,192,46")
      ; fail

  xtc-open-fd =
    s-enter(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "xtc-open-fd", "202,2,206,39")
    ; s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "203,6,206,39")
    ; (s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "203,6,203,29")
       ; \ FILE(s) -> <s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "203,21,203,24") ; open> s \
       + s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "204,6,206,39")
         ; (s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "204,6,204,39")
            ; \ stdin() -> <s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "204,22,204,33") ; STDIN_FILENO> () \
            + s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "205,6,206,39")
              ; (s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "205,6,205,39")
                 ; \ stdout() -> <s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "205,21,205,33") ; STDOUT_FILENO> () \
                 + s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "206,6,206,39")
                   ; \ stderr() -> <s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "206,21,206,33") ; STDERR_FILENO> () \)))
    < s-exit(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "xtc-open-fd", "202,2,206,39")
    + s-exit(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "xtc-open-fd", "202,2,206,39")
      ; fail

  xtc-close-fd =
    s-enter(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "xtc-close-fd", "216,2,222,9")
    ; s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "217,4,222,9")
    ; finally(
        s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "218,6,221,15")
        ; (s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "218,8,220,45")
           ; (s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "218,8,218,45")
              ; where(s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "218,14,218,44")
                      ; <(s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "218,15,218,16") ; eq)> ( <s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "218,21,218,22") ; id>
                                                                                                                               , <s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "218,28,218,39") ; STDIN_FILENO> ()
                                                                                                                               ))
              + s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "219,8,220,45")
                ; (s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "219,8,219,45")
                   ; where(s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "219,14,219,44")
                           ; <(s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "219,15,219,16") ; eq)> ( <s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "219,21,219,22") ; id>
                                                                                                                                    , <s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "219,27,219,39") ; STDOUT_FILENO> ()
                                                                                                                                    ))
                   + s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "220,8,220,45")
                     ; where(s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "220,14,220,44")
                             ; <(s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "220,15,220,16") ; eq)> ( <s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "220,21,220,22") ; id>
                                                                                                                                      , <s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "220,27,220,39") ; STDERR_FILENO> ()
                                                                                                                                      ))))
           <+ s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "221,11,221,15") ; close)
      , s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "222,6,222,8")
        ; !()
      )
    < s-exit(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "xtc-close-fd", "216,2,222,9")
    + s-exit(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "xtc-close-fd", "216,2,222,9")
      ; fail

  xtc-new-file-name =
    s-enter(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "xtc-new-file-name", "233,2,237,13")
    ; s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "234,4,237,13")
    ; (s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "234,4,234,51")
       ; obsolete(
           s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "234,13,234,50")
           ; !"xtc-new-file-name; use xtc-new-file"
         ))
    ; s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "235,6,237,13")
    ; (s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "235,6,235,18")
       ; (s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "235,6,235,13") ; new-file) => f)
    ; s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "236,6,237,13")
    ; (s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "236,6,236,42")
       ; where(s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "236,12,236,41")
               ; <(s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "236,13,236,32")
                   ; assert(
                       s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "236,20,236,31")
                       ; !TempFiles()
                     ))> (f, ())))
    ; s-step(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "237,6,237,13")
    ; !FILE(f)
    < s-exit(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "xtc-new-file-name", "233,2,237,13")
    + s-exit(|"strategoxt/stratego-libraries/xtc/lib/stratego/xtc/posix/Proc.str", "xtc-new-file-name", "233,2,237,13")
      ; fail