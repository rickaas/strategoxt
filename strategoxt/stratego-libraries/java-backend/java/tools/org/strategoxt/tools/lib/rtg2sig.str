module rtg2sig

imports
  org.strategoxt.imp.debuggers.stratego.runtime


imports
  libstratego-lib
  libstratego-xtc
  libstratego-tool-doc
  regular-xtc-tools
  lib/core-rtg2sig
  lib/module-option
  Sdf2
  Stratego


strategies
  main-rtg2sig =
    s-enter(
    | "strategoxt/stratego-libraries/java-backend/java/tools/org/strategoxt/tools/lib/rtg2sig.str"
    , "main-rtg2sig"
    , "19"
    , "2"
    , "28"
    , "4"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/java-backend/java/tools/org/strategoxt/tools/lib/rtg2sig.str"
      , "20"
      , "4"
      , "28"
      , "4"
      )
    ; xtc-io-wrap(
        s-step(
        | "strategoxt/stratego-libraries/java-backend/java/tools/org/strategoxt/tools/lib/rtg2sig.str"
        , "21"
        , "6"
        , "21"
        , "18"
        )
        ; module-option
      , s-step(
        | "strategoxt/stratego-libraries/java-backend/java/tools/org/strategoxt/tools/lib/rtg2sig.str"
        , "22"
        , "6"
        , "22"
        , "18"
        )
        ; rtg2sig-usage
      , s-step(
        | "strategoxt/stratego-libraries/java-backend/java/tools/org/strategoxt/tools/lib/rtg2sig.str"
        , "23"
        , "6"
        , "23"
        , "18"
        )
        ; rtg2sig-about
      , s-step(
        | "strategoxt/stratego-libraries/java-backend/java/tools/org/strategoxt/tools/lib/rtg2sig.str"
        , "24"
        , "6"
        , "24"
        , "8"
        )
        ; ![]
      , s-step(
        | "strategoxt/stratego-libraries/java-backend/java/tools/org/strategoxt/tools/lib/rtg2sig.str"
        , "25"
        , "6"
        , "27"
        , "31"
        )
        ; (s-step(
           | "strategoxt/stratego-libraries/java-backend/java/tools/org/strategoxt/tools/lib/rtg2sig.str"
           , "25"
           , "6"
           , "25"
           , "22"
           )
           ; xtc-rtg-front-end)
        ; s-step(
          | "strategoxt/stratego-libraries/java-backend/java/tools/org/strategoxt/tools/lib/rtg2sig.str"
          , "26"
          , "8"
          , "27"
          , "31"
          )
        ; (s-step(
           | "strategoxt/stratego-libraries/java-backend/java/tools/org/strategoxt/tools/lib/rtg2sig.str"
           , "26"
           , "8"
           , "26"
           , "41"
           )
           ; core-rtg2sig(
             | <s-step(
                | "strategoxt/stratego-libraries/java-backend/java/tools/org/strategoxt/tools/lib/rtg2sig.str"
                , "26"
                , "23"
                , "26"
                , "39"
                )
                ; guess-module-name>
             ))
        ; s-step(
          | "strategoxt/stratego-libraries/java-backend/java/tools/org/strategoxt/tools/lib/rtg2sig.str"
          , "27"
          , "8"
          , "27"
          , "31"
          )
        ; xtc-pp-abstract-stratego
      )
    < s-exit(
      | "strategoxt/stratego-libraries/java-backend/java/tools/org/strategoxt/tools/lib/rtg2sig.str"
      , "main-rtg2sig"
      , "19"
      , "2"
      , "28"
      , "4"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/java-backend/java/tools/org/strategoxt/tools/lib/rtg2sig.str"
      , "main-rtg2sig"
      , "19"
      , "2"
      , "28"
      , "4"
      )
      ; fail

  rtg2sig-usage =
    s-enter(
    | "strategoxt/stratego-libraries/java-backend/java/tools/org/strategoxt/tools/lib/rtg2sig.str"
    , "rtg2sig-usage"
    , "30"
    , "2"
    , "43"
    , "6"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/java-backend/java/tools/org/strategoxt/tools/lib/rtg2sig.str"
      , "31"
      , "4"
      , "43"
      , "6"
      )
    ; <(s-step(
        | "strategoxt/stratego-libraries/java-backend/java/tools/org/strategoxt/tools/lib/rtg2sig.str"
        , "31"
        , "5"
        , "31"
        , "12"
        )
        ; tool-doc)> [ Usage("rtg2sig [OPTIONS]")
                     , Summary("Generates a Stratego Signature from a Regular Tree Grammar (RTG).")
                     , OptionUsage()
                     , Description(["The name of the resulting Stratego module is determined by
           (1) the specified module name with the --module option.
           (2) The name of the output file.
           (3) The name of the input file."])
                     , AutoReportBugs()
                     ]
    < s-exit(
      | "strategoxt/stratego-libraries/java-backend/java/tools/org/strategoxt/tools/lib/rtg2sig.str"
      , "rtg2sig-usage"
      , "30"
      , "2"
      , "43"
      , "6"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/java-backend/java/tools/org/strategoxt/tools/lib/rtg2sig.str"
      , "rtg2sig-usage"
      , "30"
      , "2"
      , "43"
      , "6"
      )
      ; fail

  rtg2sig-about =
    s-enter(
    | "strategoxt/stratego-libraries/java-backend/java/tools/org/strategoxt/tools/lib/rtg2sig.str"
    , "rtg2sig-about"
    , "45"
    , "2"
    , "54"
    , "6"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/java-backend/java/tools/org/strategoxt/tools/lib/rtg2sig.str"
      , "46"
      , "4"
      , "54"
      , "6"
      )
    ; <(s-step(
        | "strategoxt/stratego-libraries/java-backend/java/tools/org/strategoxt/tools/lib/rtg2sig.str"
        , "46"
        , "5"
        , "46"
        , "12"
        )
        ; tool-doc)> [ AutoProgram()
                     , Author(Person("Martin Bravenboer", "martin.bravenboer@gmail.com"))
                     , GNU_LGPL("2002-2008", "Martin Bravenboer <martin.bravenboer@gmail.com>")
                     , Config([DefaultXTCRepository(), CurrentXTCRepository()])
                     ]
    < s-exit(
      | "strategoxt/stratego-libraries/java-backend/java/tools/org/strategoxt/tools/lib/rtg2sig.str"
      , "rtg2sig-about"
      , "45"
      , "2"
      , "54"
      , "6"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/java-backend/java/tools/org/strategoxt/tools/lib/rtg2sig.str"
      , "rtg2sig-about"
      , "45"
      , "2"
      , "54"
      , "6"
      )
      ; fail