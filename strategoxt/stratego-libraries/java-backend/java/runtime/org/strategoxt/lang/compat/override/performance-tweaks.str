module performance-tweaks

imports
  org.strategoxt.imp.debuggers.stratego.runtime


imports
  libstratego-lib


signature
  constructors
    Cons   : Term * List -> List
    Nil    : List
    Stream : Int -> Stream


strategies
  override map(s) =
             s-enter(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "map", "18,11,18,41")
             ; s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "18,20,18,41")
             ; (s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "18,20,18,27")
                ; ?[_|_]
                < s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "18,31,18,36")
                  ; all(s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "18,35,18,35") ; s)
                + s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "18,40,18,41") ; [])
             < s-exit(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "map", "18,11,18,41")
             + s-exit(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "map", "18,11,18,41")
               ; fail

  override getfirst(s) =
             s-enter(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "getfirst", "20,11,20,55")
             ; s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "20,25,20,55")
             ; (s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "20,25,20,32")
                ; ?[_|_])
             ; s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "20,35,20,55")
             ; (s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "20,35,20,51")
                ; one(s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "20,39,20,50")
                      ; where(s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "20,45,20,49")
                              ; (s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "20,45,20,45") ; s)
                              ; s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "20,48,20,49")
                              ; ?x)))
             ; s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "20,54,20,55")
             ; !x
             < s-exit(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "getfirst", "20,11,20,55")
             + s-exit(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "getfirst", "20,11,20,55")
               ; fail

  override fetch-elem(s) =
             s-enter(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "fetch-elem", "22,11,22,37")
             ; s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "22,27,22,37")
             ; getfirst(
                 s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "22,36,22,36") ; s
               )
             < s-exit(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "fetch-elem", "22,11,22,37")
             + s-exit(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "fetch-elem", "22,11,22,37")
               ; fail

  override fetch(s) =
             s-enter(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "fetch", "24,11,24,38")
             ; s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "24,23,24,38")
             ; (s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "24,23,24,30")
                ; ?[_|_])
             ; s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "24,33,24,38")
             ; one(s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "24,37,24,37") ; s)
             < s-exit(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "fetch", "24,11,24,38")
             + s-exit(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "fetch", "24,11,24,38")
               ; fail

  override list-loop(s) =
             s-enter(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "list-loop", "26,11,26,54")
             ; s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "26,26,26,54")
             ; (s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "26,26,26,33")
                ; ?[_|_]
                < s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "26,37,26,49")
                  ; all(s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "26,41,26,48")
                        ; where(s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "26,47,26,47") ; s))
                + s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "26,53,26,54") ; [])
             < s-exit(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "list-loop", "26,11,26,54")
             + s-exit(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "list-loop", "26,11,26,54")
               ; fail

  override read-text-from-stream =
             s-enter(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "read-text-from-stream", "28,11,30,48")
             ; s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "29,4,30,48")
             ; (s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "29,4,29,18")
                ; ?Stream(stream))
             ; s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "30,4,30,48")
             ; prim("SSL_EXT_read_text_from_stream", stream)
             < s-exit(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "read-text-from-stream", "28,11,30,48")
             + s-exit(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "read-text-from-stream", "28,11,30,48")
               ; fail

  override string-replace(|s1, s2) =
             s-enter(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "string-replace", "34,11,35,35")
             ; s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "35,4,35,35")
             ; SRTS-EXT-string-replace(|s1, s2)
             < s-exit(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "string-replace", "34,11,35,35")
             + s-exit(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "string-replace", "34,11,35,35")
               ; fail

  override crush(nul, sum) =
             s-enter(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "crush", "37,11,38,31")
             ; s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "38,4,38,31")
             ; SRTS-EXT-crush(
                 s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "38,19,38,21") ; nul
               , s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "38,24,38,26") ; sum
               , s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "38,29,38,30") ; id
               )
             < s-exit(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "crush", "37,11,38,31")
             + s-exit(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "crush", "37,11,38,31")
               ; fail

  override crush(nul, sum, s) =
             s-enter(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "crush", "40,11,41,30")
             ; s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "41,4,41,30")
             ; SRTS-EXT-crush(
                 s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "41,19,41,21") ; nul
               , s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "41,24,41,26") ; sum
               , s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "41,29,41,29") ; s
               )
             < s-exit(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "crush", "40,11,41,30")
             + s-exit(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "crush", "40,11,41,30")
               ; fail

  override topdown(s) =
             s-enter(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "topdown", "43,11,44,23")
             ; s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "44,4,44,23")
             ; rec rec (
                 s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "44,12,44,22")
                 ; (s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "44,12,44,12") ; s)
                 ; s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "44,15,44,22")
                 ; all(s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "44,19,44,21") ; rec)
               )
             < s-exit(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "topdown", "43,11,44,23")
             + s-exit(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "topdown", "43,11,44,23")
               ; fail

  override foldr(nul, sum) =
             s-enter(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "foldr", "46,11,47,52")
             ; s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "47,4,47,52")
             ; (s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "47,4,47,11")
                ; ?[_|_]
                < s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "47,15,47,42")
                  ; SRTS-EXT-crush(
                      s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "47,30,47,32") ; nul
                    , s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "47,35,47,37") ; sum
                    , s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "47,40,47,41") ; id
                    )
                + s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "47,46,47,52")
                  ; (s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "47,46,47,47") ; [])
                  ; s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "47,50,47,52")
                  ; nul)
             < s-exit(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "foldr", "46,11,47,52")
             + s-exit(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "foldr", "46,11,47,52")
               ; fail

  override foldr(nul, sum, s) =
             s-enter(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "foldr", "49,11,50,51")
             ; s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "50,4,50,51")
             ; (s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "50,4,50,11")
                ; ?[_|_]
                < s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "50,15,50,41")
                  ; SRTS-EXT-crush(
                      s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "50,30,50,32") ; nul
                    , s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "50,35,50,37") ; sum
                    , s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "50,40,50,40") ; s
                    )
                + s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "50,45,50,51")
                  ; (s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "50,45,50,46") ; [])
                  ; s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "50,49,50,51")
                  ; nul)
             < s-exit(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "foldr", "49,11,50,51")
             + s-exit(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "foldr", "49,11,50,51")
               ; fail

  override repeat(s) =
             s-enter(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "repeat", "52,11,53,21")
             ; s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "53,4,53,21")
             ; SRTS-EXT-repeat(
                 s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "53,20,53,20") ; s
               )
             < s-exit(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "repeat", "52,11,53,21")
             + s-exit(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "repeat", "52,11,53,21")
               ; fail

  override filter(s) =
             s-enter(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "filter", "55,11,56,21")
             ; s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "56,4,56,21")
             ; SRTS-EXT-filter(
                 s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "56,20,56,20") ; s
               )
             < s-exit(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "filter", "55,11,56,21")
             + s-exit(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "filter", "55,11,56,21")
               ; fail

  override at-end(s) =
             s-enter(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "at-end", "58,11,59,21")
             ; s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "59,4,59,21")
             ; SRTS-EXT-at-end(
                 s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "59,20,59,20") ; s
               )
             < s-exit(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "at-end", "58,11,59,21")
             + s-exit(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "at-end", "58,11,59,21")
               ; fail

  override flatten-list =
             s-enter(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "flatten-list", "61,11,62,24")
             ; s-step(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "62,4,62,24")
             ; SRTS-EXT-flatten-list
             < s-exit(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "flatten-list", "61,11,62,24")
             + s-exit(|"strategoxt/stratego-libraries/java-backend/java/runtime/org/strategoxt/lang/compat/override/performance-tweaks.str", "flatten-list", "61,11,62,24")
               ; fail

  external SRTS-EXT-string-replace(|s1, s2)

  external SRTS-EXT-crush(nul, sum, s|)

  external SRTS-EXT-filter(s|)

  external SRTS-EXT-at-end(s|)

  external SRTS-EXT-repeat(s|)

  external SRTS-EXT-flatten-list(|)