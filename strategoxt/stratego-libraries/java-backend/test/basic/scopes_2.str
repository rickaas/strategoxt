module scopes_2

imports
  org.strategoxt.imp.debuggers.stratego.runtime


imports
  libstratego-lib


rules

  main-scopes_2 =
    s-enter(|"strategoxt/stratego-libraries/java-backend/test/basic/scopes_2.str", "main-scopes_2", "7,2,16,4")
    ; s-step(|"strategoxt/stratego-libraries/java-backend/test/basic/scopes_2.str", "8,4,16,4")
    ; {x:
        s-step(|"strategoxt/stratego-libraries/java-backend/test/basic/scopes_2.str", "9,6,15,7")
        ; (s-step(|"strategoxt/stratego-libraries/java-backend/test/basic/scopes_2.str", "9,6,14,8")
           ; if s-step(|"strategoxt/stratego-libraries/java-backend/test/basic/scopes_2.str", "9,9,9,13") ; debug then
               s-step(|"strategoxt/stratego-libraries/java-backend/test/basic/scopes_2.str", "10,8,13,8")
               ; {y:
                   s-step(|"strategoxt/stratego-libraries/java-backend/test/basic/scopes_2.str", "11,10,12,15")
                   ; (s-step(|"strategoxt/stratego-libraries/java-backend/test/basic/scopes_2.str", "11,10,11,23")
                      ; y := <s-step(|"strategoxt/stratego-libraries/java-backend/test/basic/scopes_2.str", "11,16,11,20") ; debug> 1)
                   ; s-step(|"strategoxt/stratego-libraries/java-backend/test/basic/scopes_2.str", "12,10,12,15")
                   ; x := y
                 }
             end)
        ; s-step(|"strategoxt/stratego-libraries/java-backend/test/basic/scopes_2.str", "15,6,15,7")
        ; !x
      }
    < s-exit(|"strategoxt/stratego-libraries/java-backend/test/basic/scopes_2.str", "main-scopes_2", "7,2,16,4")
    + s-exit(|"strategoxt/stratego-libraries/java-backend/test/basic/scopes_2.str", "main-scopes_2", "7,2,16,4")
      ; fail