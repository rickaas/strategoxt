module test51

imports
  org.strategoxt.imp.debuggers.stratego.runtime


imports
  libstratego-lib


strategies
  main-test51 =
    s-enter(|"strategoxt/stratego-libraries/java-backend/test/strc1/test51.str", "main-test51", "5,2,8,4")
    ; s-step(|"strategoxt/stratego-libraries/java-backend/test/strc1/test51.str", "6,4,8,4")
    ; test-suite(
        s-step(|"strategoxt/stratego-libraries/java-backend/test/strc1/test51.str", "6,15,6,23")
        ; !"test51"
      , s-step(|"strategoxt/stratego-libraries/java-backend/test/strc1/test51.str", "7,6,7,13") ; test51-1
      )
    < s-exit(|"strategoxt/stratego-libraries/java-backend/test/strc1/test51.str", "main-test51", "5,2,8,4")
    + s-exit(|"strategoxt/stratego-libraries/java-backend/test/strc1/test51.str", "main-test51", "5,2,8,4")
      ; fail

  test51-1 =
    s-enter(|"strategoxt/stratego-libraries/java-backend/test/strc1/test51.str", "test51-1", "10,2,15,1")
    ; s-step(|"strategoxt/stratego-libraries/java-backend/test/strc1/test51.str", "11,4,15,1")
    ; apply-test(
        s-step(|"strategoxt/stratego-libraries/java-backend/test/strc1/test51.str", "11,15,11,25")
        ; !"test51-1"
      , s-step(|"strategoxt/stratego-libraries/java-backend/test/strc1/test51.str", "12,3,12,18")
        ; ![<s-step(|"strategoxt/stratego-libraries/java-backend/test/strc1/test51.str", "12,6,12,8") ; Fst>|<s-step(|"strategoxt/stratego-libraries/java-backend/test/strc1/test51.str", "12,14,12,16") ; Snd>]
      , s-step(|"strategoxt/stratego-libraries/java-backend/test/strc1/test51.str", "13,3,13,12")
        ; !("a", [])
      , s-step(|"strategoxt/stratego-libraries/java-backend/test/strc1/test51.str", "14,3,14,8")
        ; !["a"]
      )
    < s-exit(|"strategoxt/stratego-libraries/java-backend/test/strc1/test51.str", "test51-1", "10,2,15,1")
    + s-exit(|"strategoxt/stratego-libraries/java-backend/test/strc1/test51.str", "test51-1", "10,2,15,1")
      ; fail