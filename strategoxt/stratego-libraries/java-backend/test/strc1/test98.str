module test98

imports
  org.strategoxt.imp.debuggers.stratego.runtime


imports
  collection/list/cons
  collection/tuple/cons


strategies
  say(s) =
    s-enter(|"strategoxt/stratego-libraries/java-backend/test/strc1/test98.str", "say", "5,1,5,10")
    ; s-step(|"strategoxt/stratego-libraries/java-backend/test/strc1/test98.str", "5,10,5,10")
    ; s
    < s-exit(|"strategoxt/stratego-libraries/java-backend/test/strc1/test98.str", "say", "5,1,5,10")
    + s-exit(|"strategoxt/stratego-libraries/java-backend/test/strc1/test98.str", "say", "5,1,5,10")
      ; fail

  main-test98 =
    s-enter(|"strategoxt/stratego-libraries/java-backend/test/strc1/test98.str", "main-test98", "7,1,9,18")
    ; s-step(|"strategoxt/stratego-libraries/java-backend/test/strc1/test98.str", "8,3,9,18")
    ; (s-step(|"strategoxt/stratego-libraries/java-backend/test/strc1/test98.str", "8,3,8,16")
       ; (s-step(|"strategoxt/stratego-libraries/java-backend/test/strc1/test98.str", "8,3,8,11")
          ; <(s-step(|"strategoxt/stratego-libraries/java-backend/test/strc1/test98.str", "8,4,8,8") ; test1)> 1) => 3)
    ; s-step(|"strategoxt/stratego-libraries/java-backend/test/strc1/test98.str", "9,5,9,18")
    ; (s-step(|"strategoxt/stratego-libraries/java-backend/test/strc1/test98.str", "9,5,9,13")
       ; <(s-step(|"strategoxt/stratego-libraries/java-backend/test/strc1/test98.str", "9,6,9,10") ; test2)> 1) => 3
    < s-exit(|"strategoxt/stratego-libraries/java-backend/test/strc1/test98.str", "main-test98", "7,1,9,18")
    + s-exit(|"strategoxt/stratego-libraries/java-backend/test/strc1/test98.str", "main-test98", "7,1,9,18")
      ; fail

  test1 =
    s-enter(|"strategoxt/stratego-libraries/java-backend/test/strc1/test98.str", "test1", "11,1,12,39")
    ; s-step(|"strategoxt/stratego-libraries/java-backend/test/strc1/test98.str", "12,3,12,39")
    ; (s-step(|"strategoxt/stratego-libraries/java-backend/test/strc1/test98.str", "12,4,12,11")
       ; (s-step(|"strategoxt/stratego-libraries/java-backend/test/strc1/test98.str", "12,4,12,5")
          ; ?1
          <+ s-step(|"strategoxt/stratego-libraries/java-backend/test/strc1/test98.str", "12,10,12,11") ; ?a))
    ; s-step(|"strategoxt/stratego-libraries/java-backend/test/strc1/test98.str", "12,15,12,39")
    ; if s-step(|"strategoxt/stratego-libraries/java-backend/test/strc1/test98.str", "12,18,12,19") ; !a then
        s-step(|"strategoxt/stratego-libraries/java-backend/test/strc1/test98.str", "12,26,12,27")
        ; !2
      else
        s-step(|"strategoxt/stratego-libraries/java-backend/test/strc1/test98.str", "12,34,12,35")
        ; !3
      end
    < s-exit(|"strategoxt/stratego-libraries/java-backend/test/strc1/test98.str", "test1", "11,1,12,39")
    + s-exit(|"strategoxt/stratego-libraries/java-backend/test/strc1/test98.str", "test1", "11,1,12,39")
      ; fail

  test2 =
    s-enter(|"strategoxt/stratego-libraries/java-backend/test/strc1/test98.str", "test2", "15,1,16,44")
    ; s-step(|"strategoxt/stratego-libraries/java-backend/test/strc1/test98.str", "16,3,16,44")
    ; (s-step(|"strategoxt/stratego-libraries/java-backend/test/strc1/test98.str", "16,4,16,11")
       ; (s-step(|"strategoxt/stratego-libraries/java-backend/test/strc1/test98.str", "16,4,16,5")
          ; ?1
          <+ s-step(|"strategoxt/stratego-libraries/java-backend/test/strc1/test98.str", "16,10,16,11") ; ?a))
    ; s-step(|"strategoxt/stratego-libraries/java-backend/test/strc1/test98.str", "16,15,16,44")
    ; say(
        s-step(|"strategoxt/stratego-libraries/java-backend/test/strc1/test98.str", "16,19,16,43")
        ; if s-step(|"strategoxt/stratego-libraries/java-backend/test/strc1/test98.str", "16,22,16,23") ; !a then
            s-step(|"strategoxt/stratego-libraries/java-backend/test/strc1/test98.str", "16,30,16,31")
            ; !2
          else
            s-step(|"strategoxt/stratego-libraries/java-backend/test/strc1/test98.str", "16,38,16,39")
            ; !3
          end
      )
    < s-exit(|"strategoxt/stratego-libraries/java-backend/test/strc1/test98.str", "test2", "15,1,16,44")
    + s-exit(|"strategoxt/stratego-libraries/java-backend/test/strc1/test98.str", "test2", "15,1,16,44")
      ; fail