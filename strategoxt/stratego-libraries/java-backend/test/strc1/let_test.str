module let-test

imports
  org.strategoxt.imp.debuggers.stratego.runtime


imports
  libstratego-lib


strategies
  main-let_test =
    s-enter(
    | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
    , "main-let_test"
    , "6"
    , "2"
    , "6"
    , "25"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
      , "6"
      , "18"
      , "6"
      , "25"
      )
    ; let-test
    < s-exit(
      | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
      , "main-let_test"
      , "6"
      , "2"
      , "6"
      , "25"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
      , "main-let_test"
      , "6"
      , "2"
      , "6"
      , "25"
      )
      ; fail

  let-test =
    s-enter(
    | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
    , "let-test"
    , "8"
    , "2"
    , "16"
    , "4"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
      , "9"
      , "4"
      , "16"
      , "4"
      )
    ; test-suite(
        s-step(
        | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
        , "10"
        , "6"
        , "10"
        , "22"
        )
        ; !"Let test suite"
      , s-step(
        | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
        , "11"
        , "6"
        , "15"
        , "20"
        )
        ; (s-step(
           | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
           , "11"
           , "6"
           , "11"
           , "24"
           )
           ; let-test-strategy-1)
        ; s-step(
          | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
          , "12"
          , "6"
          , "15"
          , "20"
          )
        ; (s-step(
           | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
           , "12"
           , "6"
           , "12"
           , "24"
           )
           ; let-test-strategy-2)
        ; s-step(
          | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
          , "13"
          , "6"
          , "15"
          , "20"
          )
        ; (s-step(
           | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
           , "13"
           , "6"
           , "13"
           , "24"
           )
           ; let-test-strategy-3)
        ; s-step(
          | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
          , "14"
          , "6"
          , "15"
          , "20"
          )
        ; (s-step(
           | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
           , "14"
           , "6"
           , "14"
           , "20"
           )
           ; let-test-rule-1)
        ; s-step(
          | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
          , "15"
          , "6"
          , "15"
          , "20"
          )
        ; let-test-rule-2
      )
    < s-exit(
      | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
      , "let-test"
      , "8"
      , "2"
      , "16"
      , "4"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
      , "let-test"
      , "8"
      , "2"
      , "16"
      , "4"
      )
      ; fail

  let-test-strategy-1 =
    s-enter(
    | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
    , "let-test-strategy-1"
    , "18"
    , "2"
    , "27"
    , "4"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
      , "19"
      , "4"
      , "27"
      , "4"
      )
    ; apply-test(
        s-step(
        | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
        , "20"
        , "6"
        , "20"
        , "25"
        )
        ; !"let-test-strategy"
      , s-step(
        | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
        , "21"
        , "6"
        , "24"
        , "8"
        )
        ; let Foo =
                s-enter(
                | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
                , "Foo"
                , "21"
                , "10"
                , "21"
                , "17"
                )
                ; s-step(
                  | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
                  , "21"
                  , "16"
                  , "21"
                  , "17"
                  )
                ; !2
                < s-exit(
                  | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
                  , "Foo"
                  , "21"
                  , "10"
                  , "21"
                  , "17"
                  )
                + s-exit(
                  | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
                  , "Foo"
                  , "21"
                  , "10"
                  , "21"
                  , "17"
                  )
                  ; fail
          in
            s-step(
            | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
            , "23"
            , "8"
            , "23"
            , "10"
            )
            ; Foo
          end
      , s-step(
        | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
        , "25"
        , "6"
        , "25"
        , "7"
        )
        ; !1
      , s-step(
        | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
        , "26"
        , "6"
        , "26"
        , "7"
        )
        ; !2
      )
    < s-exit(
      | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
      , "let-test-strategy-1"
      , "18"
      , "2"
      , "27"
      , "4"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
      , "let-test-strategy-1"
      , "18"
      , "2"
      , "27"
      , "4"
      )
      ; fail

  let-test-strategy-2 =
    s-enter(
    | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
    , "let-test-strategy-2"
    , "29"
    , "2"
    , "38"
    , "4"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
      , "30"
      , "4"
      , "38"
      , "4"
      )
    ; apply-test(
        s-step(
        | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
        , "31"
        , "6"
        , "31"
        , "25"
        )
        ; !"let-test-strategy"
      , s-step(
        | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
        , "32"
        , "6"
        , "35"
        , "8"
        )
        ; let Foo =
                s-enter(
                | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
                , "Foo"
                , "32"
                , "10"
                , "32"
                , "22"
                )
                ; s-step(
                  | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
                  , "32"
                  , "16"
                  , "32"
                  , "22"
                  )
                ; (s-step(
                   | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
                   , "32"
                   , "16"
                   , "32"
                   , "17"
                   )
                   ; ?t)
                ; s-step(
                  | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
                  , "32"
                  , "21"
                  , "32"
                  , "22"
                  )
                ; !2
                < s-exit(
                  | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
                  , "Foo"
                  , "32"
                  , "10"
                  , "32"
                  , "22"
                  )
                + s-exit(
                  | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
                  , "Foo"
                  , "32"
                  , "10"
                  , "32"
                  , "22"
                  )
                  ; fail
          in
            s-step(
            | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
            , "34"
            , "8"
            , "34"
            , "10"
            )
            ; Foo
          end
      , s-step(
        | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
        , "36"
        , "6"
        , "36"
        , "7"
        )
        ; !1
      , s-step(
        | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
        , "37"
        , "6"
        , "37"
        , "7"
        )
        ; !2
      )
    < s-exit(
      | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
      , "let-test-strategy-2"
      , "29"
      , "2"
      , "38"
      , "4"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
      , "let-test-strategy-2"
      , "29"
      , "2"
      , "38"
      , "4"
      )
      ; fail

  let-test-strategy-3 =
    s-enter(
    | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
    , "let-test-strategy-3"
    , "40"
    , "2"
    , "48"
    , "4"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
      , "41"
      , "4"
      , "48"
      , "4"
      )
    ; apply-and-fail(
        s-step(
        | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
        , "42"
        , "6"
        , "42"
        , "27"
        )
        ; !"let-test-strategy-3"
      , s-step(
        | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
        , "43"
        , "6"
        , "46"
        , "8"
        )
        ; let Foo =
                s-enter(
                | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
                , "Foo"
                , "43"
                , "10"
                , "43"
                , "26"
                )
                ; s-step(
                  | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
                  , "43"
                  , "16"
                  , "43"
                  , "26"
                  )
                ; (s-step(
                   | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
                   , "43"
                   , "16"
                   , "43"
                   , "17"
                   )
                   ; ?t)
                ; s-step(
                  | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
                  , "43"
                  , "21"
                  , "43"
                  , "26"
                  )
                ; !(t, t)
                < s-exit(
                  | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
                  , "Foo"
                  , "43"
                  , "10"
                  , "43"
                  , "26"
                  )
                + s-exit(
                  | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
                  , "Foo"
                  , "43"
                  , "10"
                  , "43"
                  , "26"
                  )
                  ; fail
          in
            s-step(
            | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
            , "45"
            , "8"
            , "45"
            , "15"
            )
            ; map(
                s-step(
                | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
                , "45"
                , "12"
                , "45"
                , "14"
                )
                ; Foo
              )
          end
      , s-step(
        | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
        , "47"
        , "6"
        , "47"
        , "13"
        )
        ; ![1, 2, 3]
      )
    < s-exit(
      | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
      , "let-test-strategy-3"
      , "40"
      , "2"
      , "48"
      , "4"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
      , "let-test-strategy-3"
      , "40"
      , "2"
      , "48"
      , "4"
      )
      ; fail

  let-test-rule-1 =
    s-enter(
    | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
    , "let-test-rule-1"
    , "50"
    , "2"
    , "59"
    , "4"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
      , "51"
      , "4"
      , "59"
      , "4"
      )
    ; apply-test(
        s-step(
        | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
        , "52"
        , "6"
        , "52"
        , "23"
        )
        ; !"let-test-rule-1"
      , s-step(
        | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
        , "53"
        , "6"
        , "56"
        , "8"
        )
        ; let Foo :
                t -> <r-exit(
                      | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
                      , "Foo"
                      , "53"
                      , "10"
                      , "53"
                      , "21"
                      )> 2
                where r-enter(|"strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str", "Foo", "53,10,53,21")
                      <+ r-exit(
                         | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
                         , "Foo"
                         , "53"
                         , "10"
                         , "53"
                         , "21"
                         )
                         ; fail
          in
            s-step(
            | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
            , "55"
            , "8"
            , "55"
            , "10"
            )
            ; Foo
          end
      , s-step(
        | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
        , "57"
        , "6"
        , "57"
        , "7"
        )
        ; !1
      , s-step(
        | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
        , "58"
        , "6"
        , "58"
        , "7"
        )
        ; !2
      )
    < s-exit(
      | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
      , "let-test-rule-1"
      , "50"
      , "2"
      , "59"
      , "4"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
      , "let-test-rule-1"
      , "50"
      , "2"
      , "59"
      , "4"
      )
      ; fail

  let-test-rule-2 =
    s-enter(
    | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
    , "let-test-rule-2"
    , "61"
    , "2"
    , "69"
    , "4"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
      , "62"
      , "4"
      , "69"
      , "4"
      )
    ; apply-and-fail(
        s-step(
        | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
        , "63"
        , "6"
        , "63"
        , "23"
        )
        ; !"let-test-rule-2"
      , s-step(
        | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
        , "64"
        , "6"
        , "67"
        , "8"
        )
        ; let Foo :
                t -> <r-exit(
                      | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
                      , "Foo"
                      , "64"
                      , "10"
                      , "64"
                      , "25"
                      )> (t, t)
                where r-enter(|"strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str", "Foo", "64,10,64,25")
                      <+ r-exit(
                         | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
                         , "Foo"
                         , "64"
                         , "10"
                         , "64"
                         , "25"
                         )
                         ; fail
          in
            s-step(
            | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
            , "66"
            , "8"
            , "66"
            , "15"
            )
            ; map(
                s-step(
                | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
                , "66"
                , "12"
                , "66"
                , "14"
                )
                ; Foo
              )
          end
      , s-step(
        | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
        , "68"
        , "6"
        , "68"
        , "13"
        )
        ; ![1, 2, 3]
      )
    < s-exit(
      | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
      , "let-test-rule-2"
      , "61"
      , "2"
      , "69"
      , "4"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/java-backend/test/strc1/let_test.str"
      , "let-test-rule-2"
      , "61"
      , "2"
      , "69"
      , "4"
      )
      ; fail