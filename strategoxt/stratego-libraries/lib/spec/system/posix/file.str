module system/posix/file

imports
  org.strategoxt.imp.debuggers.stratego.runtime


imports
  system/posix/error
  term/string


strategies
  STDIN_FILENO =
    s-enter(
    | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
    , "STDIN_FILENO"
    , "12"
    , "2"
    , "13"
    , "27"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "13"
      , "4"
      , "13"
      , "27"
      )
    ; prim("SSL_STDIN_FILENO")
    < s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "STDIN_FILENO"
      , "12"
      , "2"
      , "13"
      , "27"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "STDIN_FILENO"
      , "12"
      , "2"
      , "13"
      , "27"
      )
      ; fail

  STDOUT_FILENO =
    s-enter(
    | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
    , "STDOUT_FILENO"
    , "16"
    , "2"
    , "17"
    , "28"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "17"
      , "4"
      , "17"
      , "28"
      )
    ; prim("SSL_STDOUT_FILENO")
    < s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "STDOUT_FILENO"
      , "16"
      , "2"
      , "17"
      , "28"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "STDOUT_FILENO"
      , "16"
      , "2"
      , "17"
      , "28"
      )
      ; fail

  STDERR_FILENO =
    s-enter(
    | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
    , "STDERR_FILENO"
    , "20"
    , "2"
    , "21"
    , "28"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "21"
      , "4"
      , "21"
      , "28"
      )
    ; prim("SSL_STDERR_FILENO")
    < s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "STDERR_FILENO"
      , "20"
      , "2"
      , "21"
      , "28"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "STDERR_FILENO"
      , "20"
      , "2"
      , "21"
      , "28"
      )
      ; fail


strategies
  isatty =
    s-enter(
    | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
    , "isatty"
    , "31"
    , "2"
    , "32"
    , "45"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "32"
      , "4"
      , "32"
      , "45"
      )
    ; (s-step(
       | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
       , "32"
       , "4"
       , "32"
       , "11"
       )
       ; ?filedes)
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "32"
      , "14"
      , "32"
      , "45"
      )
    ; (s-step(
       | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
       , "32"
       , "14"
       , "32"
       , "40"
       )
       ; prim("SSL_isatty", filedes)) => 1
    < s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "isatty"
      , "31"
      , "2"
      , "32"
      , "45"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "isatty"
      , "31"
      , "2"
      , "32"
      , "45"
      )
      ; fail


strategies
  modification-time =
    s-enter(
    | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
    , "modification-time"
    , "48"
    , "2"
    , "49"
    , "45"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "49"
      , "4"
      , "49"
      , "45"
      )
    ; (s-step(
       | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
       , "49"
       , "4"
       , "49"
       , "8"
       )
       ; ?file)
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "49"
      , "11"
      , "49"
      , "45"
      )
    ; prim("SSL_modification_time", file)
    < s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "modification-time"
      , "48"
      , "2"
      , "49"
      , "45"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "modification-time"
      , "48"
      , "2"
      , "49"
      , "45"
      )
      ; fail


strategies
  link-file =
    s-enter(
    | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
    , "link-file"
    , "59"
    , "2"
    , "60"
    , "42"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "60"
      , "4"
      , "60"
      , "42"
      )
    ; (s-step(
       | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
       , "60"
       , "4"
       , "60"
       , "14"
       )
       ; ?(old, new))
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "60"
      , "17"
      , "60"
      , "42"
      )
    ; prim("SSL_link", old, new)
    < s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "link-file"
      , "59"
      , "2"
      , "60"
      , "42"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "link-file"
      , "59"
      , "2"
      , "60"
      , "42"
      )
      ; fail


strategies
  readdir =
    s-enter(
    | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
    , "readdir"
    , "73"
    , "2"
    , "74"
    , "33"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "74"
      , "4"
      , "74"
      , "33"
      )
    ; (s-step(
       | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
       , "74"
       , "4"
       , "74"
       , "7"
       )
       ; ?dir)
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "74"
      , "10"
      , "74"
      , "33"
      )
    ; prim("SSL_readdir", dir)
    < s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "readdir"
      , "73"
      , "2"
      , "74"
      , "33"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "readdir"
      , "73"
      , "2"
      , "74"
      , "33"
      )
      ; fail

  getcwd =
    s-enter(
    | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
    , "getcwd"
    , "79"
    , "2"
    , "80"
    , "21"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "80"
      , "4"
      , "80"
      , "21"
      )
    ; prim("SSL_getcwd")
    < s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "getcwd"
      , "79"
      , "2"
      , "80"
      , "21"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "getcwd"
      , "79"
      , "2"
      , "80"
      , "21"
      )
      ; fail

  chdir =
    s-enter(
    | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
    , "chdir"
    , "87"
    , "2"
    , "89"
    , "99"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "88"
      , "4"
      , "89"
      , "99"
      )
    ; (s-step(
       | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
       , "88"
       , "4"
       , "88"
       , "46"
       )
       ; (s-step(
          | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
          , "88"
          , "4"
          , "88"
          , "12"
          )
          ; ?pathname)
       ; s-step(
         | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
         , "88"
         , "15"
         , "88"
         , "46"
         )
       ; (s-step(
          | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
          , "88"
          , "15"
          , "88"
          , "41"
          )
          ; prim("SSL_chdir", pathname)) => 0
       <+ s-step(
          | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
          , "89"
          , "7"
          , "89"
          , "99"
          )
          ; <(s-step(
              | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
              , "89"
              , "8"
              , "89"
              , "33"
              )
              ; (s-step(
                 | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
                 , "89"
                 , "8"
                 , "89"
                 , "19"
                 )
                 ; conc-strings)
              ; s-step(
                | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
                , "89"
                , "22"
                , "89"
                , "33"
                )
              ; (s-step(
                 | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
                 , "89"
                 , "22"
                 , "89"
                 , "27"
                 )
                 ; perror)
              ; s-step(
                | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
                , "89"
                , "30"
                , "89"
                , "33"
                )
              ; fail)> ( "SSL/chdir: Cannot change current working directory to "
                       , <s-step(
                          | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
                          , "89"
                          , "96"
                          , "89"
                          , "97"
                          )
                          ; id>
                       ))
    < s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "chdir"
      , "87"
      , "2"
      , "89"
      , "99"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "chdir"
      , "87"
      , "2"
      , "89"
      , "99"
      )
      ; fail

  mkdir(|mode) =
    s-enter(
    | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
    , "mkdir"
    , "96"
    , "2"
    , "100"
    , "4"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "97"
      , "4"
      , "100"
      , "4"
      )
    ; where(s-step(
            | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
            , "98"
            , "6"
            , "99"
            , "82"
            )
            ; (s-step(
               | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
               , "98"
               , "6"
               , "98"
               , "54"
               )
               ; (s-step(
                  | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
                  , "98"
                  , "6"
                  , "98"
                  , "14"
                  )
                  ; ?pathname)
               ; s-step(
                 | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
                 , "98"
                 , "17"
                 , "98"
                 , "54"
                 )
               ; (s-step(
                  | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
                  , "98"
                  , "17"
                  , "98"
                  , "49"
                  )
                  ; prim("SSL_mkdir", pathname, mode)) => 0
               <+ s-step(
                  | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
                  , "99"
                  , "9"
                  , "99"
                  , "82"
                  )
                  ; <(s-step(
                      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
                      , "99"
                      , "10"
                      , "99"
                      , "35"
                      )
                      ; (s-step(
                         | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
                         , "99"
                         , "10"
                         , "99"
                         , "21"
                         )
                         ; conc-strings)
                      ; s-step(
                        | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
                        , "99"
                        , "24"
                        , "99"
                        , "35"
                        )
                      ; (s-step(
                         | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
                         , "99"
                         , "24"
                         , "99"
                         , "29"
                         )
                         ; perror)
                      ; s-step(
                        | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
                        , "99"
                        , "32"
                        , "99"
                        , "35"
                        )
                      ; fail)> ( "SSL/mkdir: Cannot create directory "
                               , <s-step(
                                  | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
                                  , "99"
                                  , "79"
                                  , "99"
                                  , "80"
                                  )
                                  ; id>
                               )))
    < s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "mkdir"
      , "96"
      , "2"
      , "100"
      , "4"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "mkdir"
      , "96"
      , "2"
      , "100"
      , "4"
      )
      ; fail

  mkdir =
    s-enter(
    | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
    , "mkdir"
    , "102"
    , "2"
    , "103"
    , "39"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "103"
      , "4"
      , "103"
      , "39"
      )
    ; mkdir(
      | [Read(), Write(), Execute()]
      )
    < s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "mkdir"
      , "102"
      , "2"
      , "103"
      , "39"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "mkdir"
      , "102"
      , "2"
      , "103"
      , "39"
      )
      ; fail

  rmdir =
    s-enter(
    | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
    , "rmdir"
    , "110"
    , "2"
    , "112"
    , "80"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "111"
      , "4"
      , "112"
      , "80"
      )
    ; (s-step(
       | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
       , "111"
       , "4"
       , "111"
       , "46"
       )
       ; (s-step(
          | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
          , "111"
          , "4"
          , "111"
          , "12"
          )
          ; ?pathname)
       ; s-step(
         | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
         , "111"
         , "15"
         , "111"
         , "46"
         )
       ; (s-step(
          | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
          , "111"
          , "15"
          , "111"
          , "41"
          )
          ; prim("SSL_rmdir", pathname)) => 0
       <+ s-step(
          | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
          , "112"
          , "7"
          , "112"
          , "80"
          )
          ; <(s-step(
              | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
              , "112"
              , "8"
              , "112"
              , "33"
              )
              ; (s-step(
                 | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
                 , "112"
                 , "8"
                 , "112"
                 , "19"
                 )
                 ; conc-strings)
              ; s-step(
                | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
                , "112"
                , "22"
                , "112"
                , "33"
                )
              ; (s-step(
                 | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
                 , "112"
                 , "22"
                 , "112"
                 , "27"
                 )
                 ; perror)
              ; s-step(
                | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
                , "112"
                , "30"
                , "112"
                , "33"
                )
              ; fail)> ( "SSL/rmdir: Cannot delete directory "
                       , <s-step(
                          | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
                          , "112"
                          , "77"
                          , "112"
                          , "78"
                          )
                          ; id>
                       ))
    < s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "rmdir"
      , "110"
      , "2"
      , "112"
      , "80"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "rmdir"
      , "110"
      , "2"
      , "112"
      , "80"
      )
      ; fail


strategies
  creat =
    s-enter(
    | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
    , "creat"
    , "124"
    , "2"
    , "125"
    , "41"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "125"
      , "4"
      , "125"
      , "41"
      )
    ; (s-step(
       | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
       , "125"
       , "4"
       , "125"
       , "12"
       )
       ; ?pathname)
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "125"
      , "15"
      , "125"
      , "41"
      )
    ; prim("SSL_creat", pathname)
    < s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "creat"
      , "124"
      , "2"
      , "125"
      , "41"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "creat"
      , "124"
      , "2"
      , "125"
      , "41"
      )
      ; fail

  open =
    s-enter(
    | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
    , "open"
    , "128"
    , "2"
    , "129"
    , "40"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "129"
      , "4"
      , "129"
      , "40"
      )
    ; (s-step(
       | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
       , "129"
       , "4"
       , "129"
       , "12"
       )
       ; ?pathname)
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "129"
      , "15"
      , "129"
      , "40"
      )
    ; prim("SSL_open", pathname)
    < s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "open"
      , "128"
      , "2"
      , "129"
      , "40"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "open"
      , "128"
      , "2"
      , "129"
      , "40"
      )
      ; fail

  close =
    s-enter(
    | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
    , "close"
    , "136"
    , "2"
    , "137"
    , "29"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "137"
      , "4"
      , "137"
      , "29"
      )
    ; (s-step(
       | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
       , "137"
       , "4"
       , "137"
       , "6"
       )
       ; ?fd)
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "137"
      , "9"
      , "137"
      , "29"
      )
    ; prim("SSL_close", fd)
    < s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "close"
      , "136"
      , "2"
      , "137"
      , "29"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "close"
      , "136"
      , "2"
      , "137"
      , "29"
      )
      ; fail

  dup =
    s-enter(
    | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
    , "dup"
    , "142"
    , "2"
    , "143"
    , "27"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "143"
      , "4"
      , "143"
      , "27"
      )
    ; (s-step(
       | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
       , "143"
       , "4"
       , "143"
       , "6"
       )
       ; ?fd)
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "143"
      , "9"
      , "143"
      , "27"
      )
    ; prim("SSL_dup", fd)
    < s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "dup"
      , "142"
      , "2"
      , "143"
      , "27"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "dup"
      , "142"
      , "2"
      , "143"
      , "27"
      )
      ; fail

  dup2 =
    s-enter(
    | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
    , "dup2"
    , "145"
    , "2"
    , "146"
    , "42"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "146"
      , "4"
      , "146"
      , "42"
      )
    ; (s-step(
       | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
       , "146"
       , "4"
       , "146"
       , "14"
       )
       ; ?(fd1, fd2))
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "146"
      , "17"
      , "146"
      , "42"
      )
    ; prim("SSL_dup2", fd1, fd2)
    < s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "dup2"
      , "145"
      , "2"
      , "146"
      , "42"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "dup2"
      , "145"
      , "2"
      , "146"
      , "42"
      )
      ; fail

  access =
    s-enter(
    | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
    , "access"
    , "157"
    , "2"
    , "158"
    , "62"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "158"
      , "4"
      , "158"
      , "62"
      )
    ; (s-step(
       | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
       , "158"
       , "4"
       , "158"
       , "23"
       )
       ; ?(path, permissions))
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "158"
      , "26"
      , "158"
      , "62"
      )
    ; prim("SSL_access", path, permissions)
    < s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "access"
      , "157"
      , "2"
      , "158"
      , "62"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "access"
      , "157"
      , "2"
      , "158"
      , "62"
      )
      ; fail


signature
  constructors
    F_OK : AccessPermission
    R_OK : AccessPermission
    W_OK : AccessPermission
    X_OK : AccessPermission


strategies
  fdopen =
    s-enter(
    | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
    , "fdopen"
    , "181"
    , "2"
    , "182"
    , "59"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "182"
      , "4"
      , "182"
      , "59"
      )
    ; (s-step(
       | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
       , "182"
       , "4"
       , "182"
       , "14"
       )
       ; ?(fd, mode))
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "182"
      , "17"
      , "182"
      , "59"
      )
    ; (s-step(
       | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
       , "182"
       , "17"
       , "182"
       , "44"
       )
       ; prim("SSL_fdopen", fd, mode))
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "182"
      , "47"
      , "182"
      , "59"
      )
    ; !Stream(
         <s-step(
          | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
          , "182"
          , "56"
          , "182"
          , "57"
          )
          ; id>
       )
    < s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "fdopen"
      , "181"
      , "2"
      , "182"
      , "59"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "fdopen"
      , "181"
      , "2"
      , "182"
      , "59"
      )
      ; fail

  fileno =
    s-enter(
    | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
    , "fileno"
    , "191"
    , "2"
    , "192"
    , "46"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "192"
      , "4"
      , "192"
      , "46"
      )
    ; (s-step(
       | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
       , "192"
       , "4"
       , "192"
       , "18"
       )
       ; ?Stream(stream))
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "192"
      , "21"
      , "192"
      , "46"
      )
    ; prim("SSL_fileno", stream)
    < s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "fileno"
      , "191"
      , "2"
      , "192"
      , "46"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "fileno"
      , "191"
      , "2"
      , "192"
      , "46"
      )
      ; fail

  filemode =
    s-enter(
    | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
    , "filemode"
    , "198"
    , "2"
    , "200"
    , "84"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "199"
      , "4"
      , "200"
      , "84"
      )
    ; (s-step(
       | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
       , "199"
       , "4"
       , "199"
       , "56"
       )
       ; (s-step(
          | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
          , "199"
          , "4"
          , "199"
          , "12"
          )
          ; ?pathname)
       ; s-step(
         | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
         , "199"
         , "15"
         , "199"
         , "56"
         )
       ; (s-step(
          | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
          , "199"
          , "15"
          , "199"
          , "44"
          )
          ; prim("SSL_filemode", pathname))
       ; s-step(
         | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
         , "199"
         , "47"
         , "199"
         , "56"
         )
       ; ?( <s-step(
             | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
             , "199"
             , "50"
             , "199"
             , "51"
             )
             ; id>
          , 0
          )
       <+ s-step(
          | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
          , "200"
          , "7"
          , "200"
          , "84"
          )
          ; <(s-step(
              | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
              , "200"
              , "8"
              , "200"
              , "33"
              )
              ; (s-step(
                 | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
                 , "200"
                 , "8"
                 , "200"
                 , "19"
                 )
                 ; conc-strings)
              ; s-step(
                | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
                , "200"
                , "22"
                , "200"
                , "33"
                )
              ; (s-step(
                 | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
                 , "200"
                 , "22"
                 , "200"
                 , "27"
                 )
                 ; perror)
              ; s-step(
                | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
                , "200"
                , "30"
                , "200"
                , "33"
                )
              ; fail)> ( "SSL/filemode: Cannot get filemode from "
                       , <s-step(
                          | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
                          , "200"
                          , "81"
                          , "200"
                          , "82"
                          )
                          ; id>
                       ))
    < s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "filemode"
      , "198"
      , "2"
      , "200"
      , "84"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "filemode"
      , "198"
      , "2"
      , "200"
      , "84"
      )
      ; fail

  isreg =
    s-enter(
    | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
    , "isreg"
    , "205"
    , "2"
    , "206"
    , "35"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "206"
      , "4"
      , "206"
      , "35"
      )
    ; (s-step(
       | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
       , "206"
       , "4"
       , "206"
       , "8"
       )
       ; ?mode)
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "206"
      , "11"
      , "206"
      , "35"
      )
    ; prim("SSL_S_ISREG", mode)
    < s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "isreg"
      , "205"
      , "2"
      , "206"
      , "35"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "isreg"
      , "205"
      , "2"
      , "206"
      , "35"
      )
      ; fail

  isdir =
    s-enter(
    | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
    , "isdir"
    , "215"
    , "2"
    , "216"
    , "35"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "216"
      , "4"
      , "216"
      , "35"
      )
    ; (s-step(
       | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
       , "216"
       , "4"
       , "216"
       , "8"
       )
       ; ?mode)
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "216"
      , "11"
      , "216"
      , "35"
      )
    ; prim("SSL_S_ISDIR", mode)
    < s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "isdir"
      , "215"
      , "2"
      , "216"
      , "35"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "isdir"
      , "215"
      , "2"
      , "216"
      , "35"
      )
      ; fail

  ischr =
    s-enter(
    | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
    , "ischr"
    , "221"
    , "2"
    , "222"
    , "35"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "222"
      , "4"
      , "222"
      , "35"
      )
    ; (s-step(
       | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
       , "222"
       , "4"
       , "222"
       , "8"
       )
       ; ?mode)
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "222"
      , "11"
      , "222"
      , "35"
      )
    ; prim("SSL_S_ISCHR", mode)
    < s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "ischr"
      , "221"
      , "2"
      , "222"
      , "35"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "ischr"
      , "221"
      , "2"
      , "222"
      , "35"
      )
      ; fail

  isblk =
    s-enter(
    | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
    , "isblk"
    , "227"
    , "2"
    , "228"
    , "35"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "228"
      , "4"
      , "228"
      , "35"
      )
    ; (s-step(
       | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
       , "228"
       , "4"
       , "228"
       , "8"
       )
       ; ?mode)
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "228"
      , "11"
      , "228"
      , "35"
      )
    ; prim("SSL_S_ISBLK", mode)
    < s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "isblk"
      , "227"
      , "2"
      , "228"
      , "35"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "isblk"
      , "227"
      , "2"
      , "228"
      , "35"
      )
      ; fail

  isfifo =
    s-enter(
    | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
    , "isfifo"
    , "233"
    , "2"
    , "234"
    , "36"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "234"
      , "4"
      , "234"
      , "36"
      )
    ; (s-step(
       | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
       , "234"
       , "4"
       , "234"
       , "8"
       )
       ; ?mode)
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "234"
      , "11"
      , "234"
      , "36"
      )
    ; prim("SSL_S_ISFIFO", mode)
    < s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "isfifo"
      , "233"
      , "2"
      , "234"
      , "36"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "isfifo"
      , "233"
      , "2"
      , "234"
      , "36"
      )
      ; fail

  islnk =
    s-enter(
    | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
    , "islnk"
    , "239"
    , "2"
    , "240"
    , "35"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "240"
      , "4"
      , "240"
      , "35"
      )
    ; (s-step(
       | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
       , "240"
       , "4"
       , "240"
       , "8"
       )
       ; ?mode)
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "240"
      , "11"
      , "240"
      , "35"
      )
    ; prim("SSL_S_ISLNK", mode)
    < s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "islnk"
      , "239"
      , "2"
      , "240"
      , "35"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "islnk"
      , "239"
      , "2"
      , "240"
      , "35"
      )
      ; fail

  issock =
    s-enter(
    | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
    , "issock"
    , "245"
    , "2"
    , "246"
    , "36"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "246"
      , "4"
      , "246"
      , "36"
      )
    ; (s-step(
       | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
       , "246"
       , "4"
       , "246"
       , "8"
       )
       ; ?mode)
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "246"
      , "11"
      , "246"
      , "36"
      )
    ; prim("SSL_S_ISSOCK", mode)
    < s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "issock"
      , "245"
      , "2"
      , "246"
      , "36"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "issock"
      , "245"
      , "2"
      , "246"
      , "36"
      )
      ; fail


strategies
  pipe =
    s-enter(
    | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
    , "pipe"
    , "260"
    , "2"
    , "261"
    , "19"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "261"
      , "4"
      , "261"
      , "19"
      )
    ; prim("SSL_pipe")
    < s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "pipe"
      , "260"
      , "2"
      , "261"
      , "19"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/lib/spec/system/posix/file.str"
      , "pipe"
      , "260"
      , "2"
      , "261"
      , "19"
      )
      ; fail


signature
  constructors
    Pipe : Int * Int -> Pipe