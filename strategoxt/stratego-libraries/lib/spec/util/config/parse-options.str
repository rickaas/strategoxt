module util/config/parse-options

imports
  org.strategoxt.imp.debuggers.stratego.runtime


imports
  util/config/common


signature
  sorts
    Option

  constructors
    Program   : String -> Option
    Undefined : String -> Option


strategies
  system-usage-switch =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "system-usage-switch", "79,2,83,6")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "80,6,83,6")
    ; Option(
        s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "80,13,80,34")
        ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "80,13,80,20") ; "--help"
           + s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "80,24,80,34")
             ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "80,24,80,27") ; "-h"
                + s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "80,31,80,34") ; "-?"))
      , s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "81,8,81,34")
        ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "81,9,81,18") ; set-config)> ("--help", ())
      , s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "82,8,82,52")
        ; !"-h|-?|--help     Display usage information"
      )
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "system-usage-switch", "79,2,83,6")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "system-usage-switch", "79,2,83,6")
      ; fail

  system-about-switch =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "system-about-switch", "88,2,96,6")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "89,6,96,6")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "89,6,92,6")
       ; Option(
           s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "89,14,89,22") ; "--about"
         , s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "90,8,90,35")
           ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "90,9,90,18") ; set-config)> ("--about", ())
         , s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "91,8,91,65")
           ; !"--about          Display information about this program"
         )
       + s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "93,6,96,6")
         ; Option(
             s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "93,13,93,23") ; "--version"
           , s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "94,8,94,66")
             ; where(s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "94,14,94,65")
                     ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "94,14,94,41")
                        ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "94,15,94,24") ; set-config)> ("--about", ()))
                     ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "94,44,94,65")
                     ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "94,45,94,54") ; set-config)> ("-v", ()))
           , s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "95,8,95,42")
             ; !"--version        Same as --about"
           ))
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "system-about-switch", "88,2,96,6")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "system-about-switch", "88,2,96,6")
      ; fail


strategies
  parse-options(s) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "parse-options", "106,2,107,47")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "107,4,107,47")
    ; parse-options(
        s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "107,18,107,18") ; s
      , s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "107,21,107,32") ; system-usage
      , s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "107,35,107,46") ; system-about
      )
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "parse-options", "106,2,107,47")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "parse-options", "106,2,107,47")
      ; fail

  parse-options(s, usage, about) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "parse-options", "113,2,128,41")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "114,4,128,41")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "114,4,114,50")
       ; where(s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "114,10,114,49")
               ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "114,11,114,19") ; table-put)> ("usage-table", "usage", [])))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "115,6,128,41")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "115,6,115,68")
       ; parse-options'(
           s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "115,21,115,67")
           ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "115,21,115,21") ; s
              <+ s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "115,26,115,67")
                 ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "115,26,115,44") ; system-usage-switch
                    <+ s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "115,49,115,67") ; system-about-switch))
         ))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "116,6,128,41")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "116,6,127,6")
       ; try(
           s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "117,10,126,17")
           ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "117,10,119,17")
              ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "117,10,117,37")
                 ; where(s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "117,16,117,36")
                         ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "117,17,117,26") ; get-config)> "--help"))
              ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "118,10,119,17")
              ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "118,10,118,14") ; usage)
              ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "119,10,119,17")
              ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "119,11,119,14") ; exit)> 0
              <+ s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "120,10,126,17")
                 ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "120,10,122,17")
                    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "120,10,120,38")
                       ; where(s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "120,16,120,37")
                               ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "120,17,120,26") ; get-config)> "--about"))
                    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "121,10,122,17")
                    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "121,10,121,14") ; about)
                    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "122,10,122,17")
                    ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "122,11,122,14") ; exit)> 0
                    <+ s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "123,10,126,17")
                       ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "123,10,123,34")
                          ; fetch(
                              s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "123,16,123,33")
                              ; Undefined(
                                  s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "123,26,123,32") ; ?option
                                )
                            ))
                       ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "124,10,126,17")
                       ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "124,10,124,60")
                          ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "124,11,124,18") ; fprintnl)> (stderr(), ["Invalid option: ", option]))
                       ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "125,10,126,17")
                       ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "125,10,125,14") ; usage)
                       ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "126,10,126,17")
                       ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "126,11,126,14") ; exit)> 1))
         ))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "128,6,128,41")
    ; where(s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "128,12,128,40")
            ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "128,13,128,25") ; table-destroy)> "usage-table")
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "parse-options", "113,2,128,41")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "parse-options", "113,2,128,41")
      ; fail

  parse-options'(s) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "parse-options'", "134,2,155,6")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "135,4,155,6")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "135,4,135,20")
       ; ?[program|args])
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "136,6,155,6")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "136,6,136,45")
       ; where(s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "136,12,136,44")
               ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "136,13,136,22") ; set-config)> ("program", program)))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "138,6,155,6")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "138,6,144,5")
       ; where(s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "138,12,143,46")
               ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "138,12,138,13") ; id)
               ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "140,10,143,46")
               ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "140,10,140,39")
                  ; try(
                      s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "140,14,140,38")
                      ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "140,15,140,15") ; s)> "register-usage-info"
                    ))
               ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "143,10,143,46")
               ; try(
                   s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "143,14,143,45")
                   ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "143,15,143,15") ; s)> ("handle-init-action", args)
                 )))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "147,6,155,6")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "147,6,147,66")
       ; [s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "147,7,147,20")
          ; !Program(
               <s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "147,17,147,18") ; id>
             )|s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "147,24,147,65")
               ; rec x (
                   s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "147,30,147,64")
                   ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "147,31,147,44")
                      ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "147,31,147,32") ; []
                         + s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "147,36,147,44")
                           ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "147,36,147,36") ; s)
                           ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "147,39,147,44")
                           ; [s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "147,40,147,41") ; id|s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "147,43,147,43") ; x])
                      <+ s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "147,50,147,64") ; UndefinedOption)
                 )])
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "149,6,155,6")
    ; where(s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "149,12,154,47")
            ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "149,12,149,13") ; id)
            ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "151,10,154,47")
            ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "151,10,151,49")
               ; try(
                   s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "151,14,151,48")
                   ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "151,15,151,15") ; s)> ("handle-default-action", args)
                 ))
            ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "154,10,154,47")
            ; try(
                s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "154,14,154,46")
                ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "154,15,154,15") ; s)> ("handle-check-action", args)
              ))
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "parse-options'", "134,2,155,6")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "parse-options'", "134,2,155,6")
      ; fail


strategies
  register-usage(s) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "register-usage", "164,2,166,9")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "165,6,166,9")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "165,6,165,48")
       ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "165,7,165,16") ; table-push)> ( "usage-table"
                                                                                                                          , "usage"
                                                                                                                          , <s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "165,44,165,44") ; s> ()
                                                                                                                          ))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "166,6,166,9")
    ; fail
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "register-usage", "164,2,166,9")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "register-usage", "164,2,166,9")
      ; fail

  system-usage =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "system-usage", "168,2,170,26")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "169,4,170,26")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "169,4,169,24") ; override-system-usage
       <+ s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "170,7,170,26") ; default-system-usage)
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "system-usage", "168,2,170,26")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "system-usage", "168,2,170,26")
      ; fail

  system-about =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "system-about", "172,2,174,26")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "173,4,174,26")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "173,4,173,24") ; override-system-about
       <+ s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "174,7,174,26") ; default-system-about)
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "system-about", "172,2,174,26")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "system-about", "172,2,174,26")
      ; fail

  short-description(s) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "short-description", "179,2,179,29")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "179,26,179,29")
    ; fail
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "short-description", "179,2,179,29")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "short-description", "179,2,179,29")
      ; fail

  long-description(s) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "long-description", "184,2,184,28")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "184,25,184,28")
    ; fail
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "long-description", "184,2,184,28")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "long-description", "184,2,184,28")
      ; fail

  override-system-usage =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "override-system-usage", "190,2,190,29")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "190,26,190,29")
    ; fail
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "override-system-usage", "190,2,190,29")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "override-system-usage", "190,2,190,29")
      ; fail

  override-system-about =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "override-system-about", "195,2,195,29")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "195,26,195,29")
    ; fail
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "override-system-about", "195,2,195,29")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "override-system-about", "195,2,195,29")
      ; fail

  default-system-usage =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "default-system-usage", "200,2,202,70")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "201,4,202,70")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "201,4,201,68")
       ; where(s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "201,10,201,67")
               ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "201,10,201,36")
                  ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "201,10,201,31")
                     ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "201,11,201,20") ; get-config)> "program") => p
                  <+ s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "201,41,201,67")
                     ; option-defined(
                         s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "201,56,201,66")
                         ; Program(
                             s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "201,64,201,65") ; ?p
                           )
                       ))))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "202,6,202,70")
    ; default-system-usage(
        s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "202,27,202,47")
        ; short-description(
            s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "202,45,202,46") ; !p
          )
      , s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "202,50,202,69")
        ; long-description(
            s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "202,67,202,68") ; !p
          )
      )
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "default-system-usage", "200,2,202,70")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "default-system-usage", "200,2,202,70")
      ; fail

  default-system-usage(short, long) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "default-system-usage", "209,2,216,51")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "210,4,216,51")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "210,5,210,62")
       ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "210,5,210,31")
          ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "210,5,210,26")
             ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "210,6,210,15") ; get-config)> "program") => p
          <+ s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "210,36,210,62")
             ; option-defined(
                 s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "210,51,210,61")
                 ; Program(
                     s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "210,59,210,60") ; ?p
                   )
               )))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "211,6,216,51")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "211,6,211,21")
       ; try(
           s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "211,10,211,20")
           ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "211,10,211,14") ; short)
           ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "211,17,211,20")
           ; echo
         ))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "212,6,216,51")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "212,6,212,24")
       ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "212,7,212,10") ; echo)> "\nOptions:")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "213,6,216,51")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "213,6,213,50")
       ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "213,7,213,24")
           ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "213,7,213,15") ; table-get)
           ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "213,18,213,24")
           ; reverse)> ("usage-table", "usage"))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "214,6,216,51")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "214,6,214,30")
       ; map(
           s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "214,10,214,29")
           ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "214,11,214,14") ; echo)> [ "   "
                                                                                                                         , <s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "214,26,214,27") ; id>
                                                                                                                         ]
         ))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "215,6,216,51")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "215,6,215,28")
       ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "215,7,215,10") ; echo)> "\nDescription:")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "216,6,216,51")
    ; try(
        s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "216,10,216,50")
        ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "216,10,216,13") ; long)
        ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "216,16,216,50")
        ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "216,16,216,44")
           ; if s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "216,19,216,27") ; is-string then
               s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "216,34,216,40")
               ; ![<s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "216,37,216,38") ; id>]
             end)
        ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "216,47,216,50")
        ; echo
      )
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "default-system-usage", "209,2,216,51")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "default-system-usage", "209,2,216,51")
      ; fail

  default-system-about =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "default-system-about", "221,2,222,31")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "222,4,222,31")
    ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "222,5,222,20")
        ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "222,5,222,14") ; get-config)
        ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "222,17,222,20")
        ; echo)> "program"
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "default-system-about", "221,2,222,31")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "default-system-about", "221,2,222,31")
      ; fail


rules

  Option(is-flag, label, s) :
    [flag|rest] -> <r-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "Option", "226,2,229,19")> [<s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "227,21,227,25") ; label> ()|rest]
    where r-enter(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "Option", "226,2,229,19")
          <+ r-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "Option", "226,2,229,19")
             ; fail
    where s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "229,6,229,19")
          ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "229,7,229,13") ; is-flag)> flag
          <+ r-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "Option", "226,2,229,19")
             ; fail

  Option(is-flag, label) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "Option", "231,2,232,30")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "232,4,232,30")
    ; Option(
        s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "232,11,232,17") ; is-flag
      , s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "232,20,232,24") ; label
      , s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "232,27,232,29")
        ; !""
      )
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "Option", "231,2,232,30")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "Option", "231,2,232,30")
      ; fail

  Option(is-flag, label, s) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "Option", "237,2,239,23")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "238,5,239,23")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "238,5,238,25") ; "register-usage-info")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "239,7,239,23")
    ; register-usage(
        s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "239,22,239,22") ; s
      )
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "Option", "237,2,239,23")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "Option", "237,2,239,23")
      ; fail


rules

  ArgOption(is-flag, label, s) :
    [flag, arg|rest] -> <r-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "ArgOption", "243,2,245,20")> [<s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "244,27,244,31") ; label> arg|rest]
    where r-enter(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "ArgOption", "243,2,245,20")
          <+ r-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "ArgOption", "243,2,245,20")
             ; fail
    where s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "245,7,245,20")
          ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "245,8,245,14") ; is-flag)> flag
          <+ r-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "ArgOption", "243,2,245,20")
             ; fail

  ArgOption(is-flag, label) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "ArgOption", "247,2,248,33")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "248,4,248,33")
    ; ArgOption(
        s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "248,14,248,20") ; is-flag
      , s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "248,23,248,27") ; label
      , s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "248,30,248,32")
        ; !""
      )
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "ArgOption", "247,2,248,33")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "ArgOption", "247,2,248,33")
      ; fail

  ArgOption(is-flag, label, s) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "ArgOption", "250,2,252,22")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "251,4,252,22")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "251,4,251,24") ; "register-usage-info")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "252,6,252,22")
    ; register-usage(
        s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "252,21,252,21") ; s
      )
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "ArgOption", "250,2,252,22")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "ArgOption", "250,2,252,22")
      ; fail


rules

  Arg2Option(is-flag, label) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "Arg2Option", "256,2,257,34")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "257,4,257,34")
    ; Arg2Option(
        s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "257,15,257,21") ; is-flag
      , s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "257,24,257,28") ; label
      , s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "257,31,257,33")
        ; !""
      )
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "Arg2Option", "256,2,257,34")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "Arg2Option", "256,2,257,34")
      ; fail

  Arg2Option(is-flag, label, s) :
    [flag, arg1, arg2|rest] -> <r-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "Arg2Option", "259,2,262,19")> [<s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "260,35,260,39") ; label> (arg1, arg2)|rest]
    where r-enter(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "Arg2Option", "259,2,262,19")
          <+ r-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "Arg2Option", "259,2,262,19")
             ; fail
    where s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "262,6,262,19")
          ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "262,7,262,13") ; is-flag)> flag
          <+ r-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "Arg2Option", "259,2,262,19")
             ; fail

  Arg2Option(is-flag, label, s) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "Arg2Option", "264,2,266,22")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "265,4,266,22")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "265,4,265,24") ; "register-usage-info")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "266,6,266,22")
    ; register-usage(
        s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "266,21,266,21") ; s
      )
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "Arg2Option", "264,2,266,22")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "Arg2Option", "264,2,266,22")
      ; fail


rules

  UndefinedOption :
    [x|rest] -> <r-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "UndefinedOption", "270,2,271,35")> [Undefined(x)|rest]
    where r-enter(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "UndefinedOption", "270,2,271,35")
          <+ r-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "UndefinedOption", "270,2,271,35")
             ; fail


strategies
  option-defined(s) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "option-defined", "275,2,275,29")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "275,22,275,29")
    ; fetch(
        s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "275,28,275,28") ; s
      )
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "option-defined", "275,2,275,29")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "option-defined", "275,2,275,29")
      ; fail


rules

  Option(is-flag, handlers|msg):
    [flag|rest] -> <r-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "Option", "282,2,285,16")> [<s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "283,23,283,30") ; handlers> ("handle-user-action", flag)|rest]
    where r-enter(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "Option", "282,2,285,16")
          <+ r-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "Option", "282,2,285,16")
             ; fail
    where s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "285,3,285,16")
          ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "285,4,285,10") ; is-flag)> flag
          <+ r-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "Option", "282,2,285,16")
             ; fail

  Option(is-flag, handlers|msg) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "Option", "290,2,291,41")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "291,4,291,41")
    ; OptionHandlerHelper(
        s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "291,24,291,30") ; is-flag
      , s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "291,33,291,40") ; handlers
      )
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "Option", "290,2,291,41")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "Option", "290,2,291,41")
      ; fail


rules

  ArgOption(is-flag, handlers|msg):
    [flag, arg|rest] -> <r-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "ArgOption", "298,2,301,16")> [<s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "299,28,299,35") ; handlers> ("handle-user-action", arg)|rest]
    where r-enter(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "ArgOption", "298,2,301,16")
          <+ r-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "ArgOption", "298,2,301,16")
             ; fail
    where s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "301,3,301,16")
          ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "301,4,301,10") ; is-flag)> flag
          <+ r-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "ArgOption", "298,2,301,16")
             ; fail

  ArgOption(is-flag, handlers|msg) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "ArgOption", "306,2,307,41")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "307,4,307,41")
    ; OptionHandlerHelper(
        s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "307,24,307,30") ; is-flag
      , s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "307,33,307,40") ; handlers
      )
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "ArgOption", "306,2,307,41")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "ArgOption", "306,2,307,41")
      ; fail


strategies
  OptionHandlerHelper(is-flag, handlers) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "OptionHandlerHelper", "317,2,322,9")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "318,4,322,9")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "318,4,318,35")
       ; ?("handle-default-action", args))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "319,6,322,9")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "319,6,321,8")
       ; if s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "319,9,319,34")
            ; not(s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "319,13,319,33")
                  ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "319,14,319,27")
                      ; fetch(
                          s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "319,20,319,26") ; is-flag
                        ))> args) then
           s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "320,8,320,15") ; handlers
         end)
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "322,6,322,9")
    ; fail
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "OptionHandlerHelper", "317,2,322,9")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "OptionHandlerHelper", "317,2,322,9")
      ; fail

  OptionHandlerHelper(is-flag, handlers) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "OptionHandlerHelper", "324,2,328,9")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "325,4,328,9")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "325,4,325,15")
       ; ?(action, _))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "326,6,328,9")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "326,6,326,51")
       ; where(s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "326,12,326,50")
               ; not(s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "326,16,326,49")
                     ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "326,16,326,22") ; !action) => "handle-default-action")))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "327,6,328,9")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "327,6,327,13") ; handlers)
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "328,6,328,9")
    ; fail
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "OptionHandlerHelper", "324,2,328,9")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "OptionHandlerHelper", "324,2,328,9")
      ; fail

  OptionHandler(user) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "OptionHandler", "330,2,331,30")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "331,4,331,30")
    ; OptionHandler(
        s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "331,18,331,19") ; id
      , s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "331,22,331,25") ; user
      , s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "331,28,331,29") ; id
      )
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "OptionHandler", "330,2,331,30")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "OptionHandler", "330,2,331,30")
      ; fail

  OptionHandler(init, user, default) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "OptionHandler", "333,2,335,16")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "334,4,335,16")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "334,4,334,32")
       ; ?("handle-init-action", args))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "335,6,335,16")
    ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "335,7,335,10") ; init)> args
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "OptionHandler", "333,2,335,16")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "OptionHandler", "333,2,335,16")
      ; fail

  OptionHandler(init, user, default) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "OptionHandler", "337,2,339,15")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "338,4,339,15")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "338,4,338,31")
       ; ?("handle-user-action", arg))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "339,6,339,15")
    ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "339,7,339,10") ; user)> arg
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "OptionHandler", "337,2,339,15")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "OptionHandler", "337,2,339,15")
      ; fail

  OptionHandler(init, user, default) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "OptionHandler", "341,2,343,19")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "342,4,343,19")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "342,4,342,35")
       ; ?("handle-default-action", args))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "343,6,343,19")
    ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "343,7,343,13") ; default)> args
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "OptionHandler", "341,2,343,19")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "OptionHandler", "341,2,343,19")
      ; fail


strategies
  OptionCheck(exit, checks|msg) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "OptionCheck", "356,2,362,9")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "357,4,362,9")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "357,4,357,33")
       ; ?( "handle-check-action"
          , <s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "357,30,357,31") ; id>
          ))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "358,6,362,9")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "358,8,360,16")
       ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "358,8,358,13") ; checks
          <+ s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "359,11,360,16")
             ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "359,11,359,38")
                ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "359,12,359,19") ; fprintnl)> (stderr(), [msg]))
             ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "360,13,360,16")
             ; exit))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "362,6,362,9")
    ; fail
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "OptionCheck", "356,2,362,9")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "OptionCheck", "356,2,362,9")
      ; fail

  OptionNotCombinedCheck(is-flag, other-flags) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "OptionNotCombinedCheck", "367,2,374,4")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "368,4,374,4")
    ; where(s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "369,6,373,8")
            ; if s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "369,9,369,22")
                 ; fetch(
                     s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "369,15,369,21") ; is-flag
                   ) then
                s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "370,8,372,10")
                ; if s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "370,11,370,28")
                     ; fetch(
                         s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "370,17,370,27") ; other-flags
                       ) then
                    s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "371,10,371,13") ; fail
                  end
              end)
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "OptionNotCombinedCheck", "367,2,374,4")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "OptionNotCombinedCheck", "367,2,374,4")
      ; fail

  OptionZeroOrOneCheck(is-flag) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "OptionZeroOrOneCheck", "379,2,385,4")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "380,4,385,4")
    ; where(s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "381,6,384,10")
            ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "381,6,381,20")
               ; filter(
                   s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "381,13,381,19") ; is-flag
                 ))
            ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "382,8,384,10")
            ; if s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "382,11,382,21")
                 ; ?[_, _|_] then
                s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "383,10,383,13") ; fail
              end)
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "OptionZeroOrOneCheck", "379,2,385,4")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "OptionZeroOrOneCheck", "379,2,385,4")
      ; fail

  OptionOneCheck(is-flag) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "OptionOneCheck", "390,2,396,4")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "391,4,396,4")
    ; where(s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "392,6,395,10")
            ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "392,6,392,20")
               ; filter(
                   s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "392,13,392,19") ; is-flag
                 ))
            ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "393,8,395,10")
            ; if s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "393,11,393,27")
                 ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "393,11,393,13")
                    ; ?[]
                    + s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "393,17,393,27")
                      ; ?[_, _|_]) then
                s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "394,10,394,13") ; fail
              end)
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "OptionOneCheck", "390,2,396,4")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "OptionOneCheck", "390,2,396,4")
      ; fail

  OptionOneOrMoreCheck(is-flag) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "OptionOneOrMoreCheck", "401,2,407,4")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "402,4,407,4")
    ; where(s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "403,6,406,10")
            ; (s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "403,6,403,20")
               ; filter(
                   s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "403,13,403,19") ; is-flag
                 ))
            ; s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "404,8,406,10")
            ; if s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "404,11,404,13")
                 ; ?[] then
                s-step(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "405,10,405,13") ; fail
              end)
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "OptionOneOrMoreCheck", "401,2,407,4")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/util/config/parse-options.str", "OptionOneOrMoreCheck", "401,2,407,4")
      ; fail