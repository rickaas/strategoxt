module collection/hash-table/common

imports
  org.strategoxt.imp.debuggers.stratego.runtime


imports
  collection/list/-


signature
  constructors
    Hashtable : ImplDep -> Hashtable


strategies
  new-hashtable =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "new-hashtable", "40,2,41,25")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "41,4,41,25")
    ; new-hashtable(|117, 75)
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "new-hashtable", "40,2,41,25")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "new-hashtable", "40,2,41,25")
      ; fail

  new-hashtable(|initial_size, max_load) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "new-hashtable", "50,2,51,73")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "51,4,51,73")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "51,4,51,55")
       ; prim("SSL_hashtable_create", initial_size, max_load))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "51,58,51,73")
    ; !Hashtable(
         <s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "51,70,51,71") ; id>
       )
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "new-hashtable", "50,2,51,73")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "new-hashtable", "50,2,51,73")
      ; fail

  hashtable-destroy =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-destroy", "58,2,59,72")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "59,4,59,72")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "59,4,59,18")
       ; ?Hashtable(tbl))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "59,21,59,72")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "59,21,59,54")
       ; prim("SSL_hashtable_destroy", tbl))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "59,57,59,72")
    ; !Hashtable(
         <s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "59,69,59,70") ; id>
       )
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-destroy", "58,2,59,72")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-destroy", "58,2,59,72")
      ; fail

  hashtable-clear =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-clear", "66,2,67,70")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "67,4,67,70")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "67,4,67,18")
       ; ?Hashtable(tbl))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "67,21,67,70")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "67,21,67,52")
       ; prim("SSL_hashtable_reset", tbl))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "67,55,67,70")
    ; !Hashtable(
         <s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "67,67,67,68") ; id>
       )
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-clear", "66,2,67,70")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-clear", "66,2,67,70")
      ; fail


strategies
  hashtable-put(|key, value) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-put", "82,2,83,80")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "83,4,83,80")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "83,4,83,18")
       ; ?Hashtable(tbl))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "83,21,83,80")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "83,21,83,62")
       ; prim("SSL_hashtable_put", tbl, key, value))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "83,65,83,80")
    ; !Hashtable(
         <s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "83,77,83,78") ; id>
       )
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-put", "82,2,83,80")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-put", "82,2,83,80")
      ; fail

  hashtable-get(|key) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-get", "92,2,93,55")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "93,4,93,55")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "93,4,93,18")
       ; ?Hashtable(tbl))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "93,21,93,55")
    ; prim("SSL_hashtable_get", tbl, key)
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-get", "92,2,93,55")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-get", "92,2,93,55")
      ; fail

  hashtable-remove(|key) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-remove", "101,2,102,76")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "102,4,102,76")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "102,4,102,18")
       ; ?Hashtable(tbl))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "102,21,102,76")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "102,21,102,58")
       ; prim("SSL_hashtable_remove", tbl, key))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "102,61,102,76")
    ; !Hashtable(
         <s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "102,73,102,74") ; id>
       )
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-remove", "101,2,102,76")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-remove", "101,2,102,76")
      ; fail

  hashtable-keys =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-keys", "109,2,110,51")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "110,4,110,51")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "110,4,110,18")
       ; ?Hashtable(tbl))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "110,21,110,51")
    ; prim("SSL_hashtable_keys", tbl)
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-keys", "109,2,110,51")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-keys", "109,2,110,51")
      ; fail

  hashtable-values =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-values", "117,2,120,43")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "118,4,120,43")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "118,4,118,8") ; ?htbl)
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "119,6,120,43")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "119,6,119,19") ; hashtable-keys)
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "120,6,120,43")
    ; map(
        s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "120,10,120,42")
        ; {k:
            s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "120,14,120,41")
            ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "120,14,120,15") ; ?k)
            ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "120,18,120,41")
            ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "120,19,120,35")
                ; hashtable-get(|k))> htbl
          }
      )
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-values", "117,2,120,43")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-values", "117,2,120,43")
      ; fail

  hashtable-fold(s : k * v * a -> a|t) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-fold", "131,2,133,39")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "132,4,133,39")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "132,4,132,18")
       ; ?Hashtable(tbl))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "133,6,133,39")
    ; prim(
        "SSL_table_fold"
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "133,29,133,29") ; s
      | t
      , tbl
      )
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-fold", "131,2,133,39")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-fold", "131,2,133,39")
      ; fail

  hashtable-fold-keys(s : k * a -> a|t) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-fold-keys", "144,2,146,44")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "145,4,146,44")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "145,4,145,18")
       ; ?Hashtable(tbl))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "146,6,146,44")
    ; prim(
        "SSL_table_keys_fold"
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "146,34,146,34") ; s
      | t
      , tbl
      )
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-fold-keys", "144,2,146,44")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-fold-keys", "144,2,146,44")
      ; fail

  hashtable-fold-values(s : v * a -> a|t) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-fold-values", "157,2,159,46")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "158,4,159,46")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "158,4,158,18")
       ; ?Hashtable(tbl))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "159,6,159,46")
    ; prim(
        "SSL_table_values_fold"
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "159,36,159,36") ; s
      | t
      , tbl
      )
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-fold-values", "157,2,159,46")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-fold-values", "157,2,159,46")
      ; fail


strategies
  hashtable-getlist =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-getlist", "171,2,175,8")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "172,4,175,8")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "172,4,172,8") ; ?htbl)
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "173,6,175,8")
    ; let insert(|k, v) =
            s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "insert", "173,10,173,41")
            ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "173,26,173,41")
            ; ![(k, v)|<s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "173,38,173,39") ; id>]
            < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "insert", "173,10,173,41")
            + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "insert", "173,10,173,41")
              ; fail
      in
        s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "174,10,174,36")
        ; hashtable-fold(
            s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "174,25,174,30") ; insert
          | []
          )
      end
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-getlist", "171,2,175,8")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-getlist", "171,2,175,8")
      ; fail

  hashtable-putlist(|kv*) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-putlist", "183,2,185,76")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "184,4,185,76")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "184,4,184,8") ; ?htbl)
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "185,6,185,76")
    ; where(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "185,12,185,75")
            ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "185,13,185,70")
                ; map(
                    s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "185,17,185,69")
                    ; \ (key, value) -> <s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "185,36,185,61")
                                         ; hashtable-put(|key, value)> htbl \
                  ))> kv*)
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-putlist", "183,2,185,76")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-putlist", "183,2,185,76")
      ; fail

  hashtable-putlist(f : ATerm * ATerm * Hashtable -> Hashtable|kv*) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-putlist", "187,2,189,64")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "188,4,189,64")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "188,4,188,8") ; ?htbl)
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "189,6,189,64")
    ; where(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "189,12,189,63")
            ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "189,13,189,58")
                ; map(
                    s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "189,17,189,57")
                    ; \ (key, value) -> <s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "189,36,189,49")
                                         ; f(|key, value)> htbl \
                  ))> kv*)
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-putlist", "187,2,189,64")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-putlist", "187,2,189,64")
      ; fail

  hashtable-init =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-init", "196,2,199,26")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "197,4,199,26")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "197,4,197,7")
       ; ?kv*)
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "198,4,199,26")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "198,4,198,31")
       ; new-hashtable(
         | <s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "198,20,198,25") ; length>
         , 75
         ))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "199,4,199,26")
    ; hashtable-putlist(|kv*)
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-init", "196,2,199,26")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-init", "196,2,199,26")
      ; fail

  hashtable-copy =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-copy", "207,2,209,17")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "208,4,209,17")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "208,4,208,20") ; hashtable-getlist)
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "209,4,209,17")
    ; hashtable-init
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-copy", "207,2,209,17")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-copy", "207,2,209,17")
      ; fail


strategies
  hashtable-push(|key, value) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-push", "224,2,225,62")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "225,4,225,62")
    ; hashtable-put(
      | key
      , [value|<s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "225,34,225,59")
                ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "225,34,225,52")
                   ; hashtable-get(|key)
                   <+ s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "225,57,225,59")
                      ; ![])>]
      )
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-push", "224,2,225,62")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-push", "224,2,225,62")
      ; fail

  hashtable-pushlist(|key, value) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-pushlist", "235,2,236,67")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "236,4,236,67")
    ; hashtable-put(
      | key
      , <s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "236,25,236,28") ; conc> ( value
                                                                                                                     , <s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "236,39,236,64")
                                                                                                                        ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "236,39,236,57")
                                                                                                                           ; hashtable-get(|key)
                                                                                                                           <+ s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "236,62,236,64")
                                                                                                                              ; ![])>
                                                                                                                     )
      )
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-pushlist", "235,2,236,67")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-pushlist", "235,2,236,67")
      ; fail

  hashtable-pushunion(|key, value) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-pushunion", "246,2,247,68")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "247,4,247,68")
    ; hashtable-put(
      | key
      , <s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "247,25,247,29") ; union> ( value
                                                                                                                      , <s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "247,40,247,65")
                                                                                                                         ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "247,40,247,58")
                                                                                                                            ; hashtable-get(|key)
                                                                                                                            <+ s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "247,63,247,65")
                                                                                                                               ; ![])>
                                                                                                                      )
      )
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-pushunion", "246,2,247,68")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-pushunion", "246,2,247,68")
      ; fail

  hashtable-pop(|key) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-pop", "256,2,257,49")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "257,4,257,49")
    ; hashtable-put(
      | key
      , <s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "257,25,257,47")
         ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "257,25,257,43")
            ; hashtable-get(|key))
         ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "257,46,257,47")
         ; Tl>
      )
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-pop", "256,2,257,49")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-pop", "256,2,257,49")
      ; fail

  hashtable-peek(|key) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-peek", "266,2,267,26")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "267,4,267,26")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "267,4,267,22")
       ; hashtable-get(|key))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "267,25,267,26")
    ; Hd
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-peek", "266,2,267,26")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-peek", "266,2,267,26")
      ; fail

  hashtable-peekpop(|key) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-peekpop", "276,2,279,7")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "277,4,279,7")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "277,4,277,37")
       ; where(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "277,10,277,36")
               ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "277,10,277,29")
                  ; hashtable-peek(|key)) => val))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "278,4,279,7")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "278,4,278,22")
       ; hashtable-pop(|key))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "279,4,279,7")
    ; !val
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-peekpop", "276,2,279,7")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-peekpop", "276,2,279,7")
      ; fail


strategies
  symmetric-yes =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "symmetric-yes", "287,2,287,19")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "287,18,287,19")
    ; id
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "symmetric-yes", "287,2,287,19")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "symmetric-yes", "287,2,287,19")
      ; fail

  symmetric-no =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "symmetric-no", "288,2,288,21")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "288,18,288,21")
    ; fail
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "symmetric-no", "288,2,288,21")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "symmetric-no", "288,2,288,21")
      ; fail

  iterate1-yes =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "iterate1-yes", "289,2,289,19")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "289,18,289,19")
    ; id
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "iterate1-yes", "289,2,289,19")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "iterate1-yes", "289,2,289,19")
      ; fail

  iterate1-no =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "iterate1-no", "290,2,290,21")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "290,18,290,21")
    ; fail
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "iterate1-no", "290,2,290,21")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "iterate1-no", "290,2,290,21")
      ; fail

  iterate2-yes =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "iterate2-yes", "291,2,291,19")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "291,18,291,19")
    ; id
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "iterate2-yes", "291,2,291,19")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "iterate2-yes", "291,2,291,19")
      ; fail

  iterate2-no =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "iterate2-no", "292,2,292,21")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "292,18,292,21")
    ; fail
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "iterate2-no", "292,2,292,21")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "iterate2-no", "292,2,292,21")
      ; fail

  remove-yes =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "remove-yes", "293,2,293,19")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "293,18,293,19")
    ; id
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "remove-yes", "293,2,293,19")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "remove-yes", "293,2,293,19")
      ; fail

  remove-no =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "remove-no", "294,2,294,21")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "294,18,294,21")
    ; fail
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "remove-no", "294,2,294,21")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "remove-no", "294,2,294,21")
      ; fail

  default-no =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "default-no", "295,2,295,21")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "295,18,295,21")
    ; fail
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "default-no", "295,2,295,21")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "default-no", "295,2,295,21")
      ; fail

  change1-yes =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "change1-yes", "296,2,296,19")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "296,18,296,19")
    ; id
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "change1-yes", "296,2,296,19")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "change1-yes", "296,2,296,19")
      ; fail

  change1-no =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "change1-no", "297,2,297,21")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "297,18,297,21")
    ; fail
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "change1-no", "297,2,297,21")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "change1-no", "297,2,297,21")
      ; fail

  change2-yes =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "change2-yes", "298,2,298,19")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "298,18,298,19")
    ; id
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "change2-yes", "298,2,298,19")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "change2-yes", "298,2,298,19")
      ; fail

  change2-no =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "change2-no", "299,2,299,21")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "299,18,299,21")
    ; fail
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "change2-no", "299,2,299,21")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "change2-no", "299,2,299,21")
      ; fail


strategies
  hashtable-merge(symm, iterate1, iterate2, remove, merge, default, change1, change2, lookup1, lookup2) :
    (tbl1, tbl2) -> <r-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-merge", "323,2,411,53")> tbl1
    where r-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-merge", "323,2,411,53")
          <+ r-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-merge", "323,2,411,53")
             ; fail
    where s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "326,10,411,53")
          ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "326,10,369,33")
             ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "326,10,369,21")
                ; if s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "326,13,326,20") ; iterate1 then
                    s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "327,12,368,15")
                    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "327,12,327,32")
                       ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "327,13,327,26") ; hashtable-keys)> tbl1)
                    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "328,14,368,15")
                    ; filter(
                        s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "328,21,368,14")
                        ; {key, val1, val2, val3:
                            s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "329,16,367,24")
                            ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "329,16,329,19") ; ?key)
                            ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "330,18,367,24")
                            ; if s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "330,21,330,41")
                                 ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "330,21,330,33")
                                    ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "330,22,330,28") ; lookup2)> key) => val2 then
                                s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "331,20,344,22")
                                ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "331,20,331,53")
                                   ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "331,20,331,45")
                                      ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "331,21,331,39")
                                          ; hashtable-get(|key))> tbl1) => val1)
                                ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "332,22,344,22")
                                ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "332,22,332,48")
                                   ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "332,22,332,40")
                                      ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "332,23,332,27") ; merge)> (val1, val2)) => val3)
                                ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "333,22,344,22")
                                ; ior(
                                    s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "334,24,338,26")
                                    ; if s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "334,27,334,38")
                                         ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "334,28,334,32") ; ?val1)> val3 then
                                        s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "335,26,335,29") ; fail
                                      else
                                        s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "337,26,337,66")
                                        ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "337,26,337,57")
                                           ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "337,27,337,51")
                                               ; hashtable-put(|key, val3))> tbl1)
                                        ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "337,60,337,66")
                                        ; change1
                                      end
                                  , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "339,24,343,26")
                                    ; if s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "339,27,339,44")
                                         ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "339,27,339,30") ; symm)
                                         ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "339,33,339,44")
                                         ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "339,34,339,38") ; ?val2)> val3 then
                                        s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "340,26,340,29") ; fail
                                      else
                                        s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "342,26,342,66")
                                        ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "342,26,342,57")
                                           ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "342,27,342,51")
                                               ; hashtable-put(|key, val3))> tbl2)
                                        ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "342,60,342,66")
                                        ; change2
                                      end
                                  )
                              else
                                s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "345,23,367,20")
                                ; if s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "345,26,345,46")
                                     ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "345,26,345,38")
                                        ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "345,27,345,33") ; default)> key) => val2 then
                                    s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "346,20,357,22")
                                    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "346,20,346,53")
                                       ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "346,20,346,45")
                                          ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "346,21,346,39")
                                              ; hashtable-get(|key))> tbl1) => val1)
                                    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "347,22,357,22")
                                    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "347,22,347,48")
                                       ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "347,22,347,40")
                                          ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "347,23,347,27") ; merge)> (val1, val2)) => val3)
                                    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "348,22,357,22")
                                    ; ior(
                                        s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "349,24,353,26")
                                        ; if s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "349,27,349,38")
                                             ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "349,28,349,32") ; ?val1)> val3 then
                                            s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "350,26,350,29") ; fail
                                          else
                                            s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "352,26,352,66")
                                            ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "352,26,352,57")
                                               ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "352,27,352,51")
                                                   ; hashtable-put(|key, val3))> tbl1)
                                            ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "352,60,352,66")
                                            ; change1
                                          end
                                      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "354,24,356,26")
                                        ; if s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "354,27,354,30") ; symm then
                                            s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "355,26,355,66")
                                            ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "355,26,355,57")
                                               ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "355,27,355,51")
                                                   ; hashtable-put(|key, val3))> tbl2)
                                            ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "355,60,355,66")
                                            ; change2
                                          end
                                      )
                                  else
                                    s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "359,20,366,22")
                                    ; if s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "359,23,359,28") ; remove then
                                        s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "360,22,363,24")
                                        ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "360,22,360,50")
                                           ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "360,23,360,44")
                                               ; hashtable-remove(|key))> tbl1)
                                        ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "361,22,363,24")
                                        ; if s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "361,25,361,28") ; symm then
                                            s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "362,24,362,61")
                                            ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "362,24,362,52")
                                               ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "362,25,362,46")
                                                   ; hashtable-remove(|key))> tbl2)
                                            ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "362,55,362,61")
                                            ; change2
                                          end
                                      else
                                        s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "365,22,365,25") ; fail
                                      end
                                  end
                              end
                          }
                      )
                  else
                    s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "369,15,369,17")
                    ; ![]
                  end) => changes1)
          ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "371,10,411,53")
          ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "371,10,410,33")
             ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "371,10,410,21")
                ; if s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "371,13,371,20") ; iterate2 then
                    s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "373,12,408,15")
                    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "373,12,373,32")
                       ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "373,13,373,26") ; hashtable-keys)> tbl2)
                    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "374,14,408,15")
                    ; filter(
                        s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "374,21,408,14")
                        ; {key, val1, val2, val3:
                            s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "375,16,407,24")
                            ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "375,16,375,19") ; ?key)
                            ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "376,18,407,24")
                            ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "376,18,376,68")
                               ; if s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "376,21,376,28") ; iterate1 then
                                   s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "376,35,376,64")
                                   ; not(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "376,39,376,63")
                                         ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "376,40,376,58")
                                             ; hashtable-get(|key))> tbl1)
                                 end)
                            ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "377,18,407,24")
                            ; if s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "377,21,377,41")
                                 ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "377,21,377,33")
                                    ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "377,22,377,28") ; lookup1)> key) => val1 then
                                s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "378,20,390,24")
                                ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "378,20,378,53")
                                   ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "378,20,378,45")
                                      ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "378,21,378,39")
                                          ; hashtable-get(|key))> tbl2) => val2)
                                ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "379,22,390,24")
                                ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "379,22,379,48")
                                   ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "379,22,379,40")
                                      ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "379,23,379,27") ; merge)> (val1, val2)) => val3)
                                ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "380,22,390,24")
                                ; ior(
                                    s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "380,26,384,28")
                                    ; if s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "380,29,380,40")
                                         ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "380,30,380,34") ; ?val1)> val3 then
                                        s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "381,28,381,31") ; fail
                                      else
                                        s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "383,28,383,68")
                                        ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "383,28,383,59")
                                           ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "383,29,383,53")
                                               ; hashtable-put(|key, val3))> tbl1)
                                        ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "383,62,383,68")
                                        ; change1
                                      end
                                  , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "385,25,389,27")
                                    ; if s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "385,28,385,45")
                                         ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "385,28,385,31") ; symm)
                                         ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "385,34,385,45")
                                         ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "385,35,385,39") ; ?val2)> val3 then
                                        s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "386,27,386,30") ; fail
                                      else
                                        s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "388,27,388,67")
                                        ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "388,27,388,58")
                                           ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "388,28,388,52")
                                               ; hashtable-put(|key, val3))> tbl2)
                                        ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "388,61,388,67")
                                        ; change2
                                      end
                                  )
                              else
                                s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "391,23,407,20")
                                ; if s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "391,26,391,46")
                                     ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "391,26,391,38")
                                        ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "391,27,391,33") ; default)> key) => val1 then
                                    s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "392,20,397,24")
                                    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "392,20,392,53")
                                       ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "392,20,392,45")
                                          ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "392,21,392,39")
                                              ; hashtable-get(|key))> tbl2) => val2)
                                    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "393,22,397,24")
                                    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "393,22,393,48")
                                       ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "393,22,393,40")
                                          ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "393,23,393,27") ; merge)> (val1, val2)) => val3)
                                    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "394,22,397,24")
                                    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "394,22,394,53")
                                       ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "394,23,394,47")
                                           ; hashtable-put(|key, val3))> tbl1)
                                    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "395,22,397,24")
                                    ; if s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "395,25,395,47")
                                         ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "395,25,395,28") ; symm)
                                         ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "395,31,395,47")
                                         ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "395,32,395,41")
                                             ; not(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "395,36,395,40") ; ?val2))> val3 then
                                        s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "396,24,396,55")
                                        ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "396,25,396,49")
                                            ; hashtable-put(|key, val3))> tbl2
                                      end
                                  else
                                    s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "399,20,406,22")
                                    ; if s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "399,23,399,28") ; remove then
                                        s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "400,22,403,24")
                                        ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "400,22,400,50")
                                           ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "400,23,400,44")
                                               ; hashtable-remove(|key))> tbl1)
                                        ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "401,22,403,24")
                                        ; if s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "401,25,401,28") ; symm then
                                            s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "402,24,402,61")
                                            ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "402,24,402,52")
                                               ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "402,25,402,46")
                                                   ; hashtable-remove(|key))> tbl2)
                                            ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "402,55,402,61")
                                            ; change2
                                          end
                                      else
                                        s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "405,22,405,25") ; fail
                                      end
                                  end
                              end
                          }
                      )
                  else
                    s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "410,15,410,17")
                    ; ![]
                  end) => changes2)
          ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "411,13,411,52")
          ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "411,13,411,30")
             ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "411,14,411,20")
                 ; not(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "411,18,411,19") ; []))> changes1
             <+ s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "411,35,411,52")
                ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "411,36,411,42")
                    ; not(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "411,40,411,41") ; []))> changes2)
          <+ r-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-merge", "323,2,411,53")
             ; fail

  hashtable-merge(symm, iterate1, iterate2, remove, merge, default, lookup1, lookup2) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-merge", "417,2,420,60")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "419,2,420,60")
    ; hashtable-merge(
        s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "419,18,419,21") ; symm
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "419,24,419,31") ; iterate1
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "419,34,419,41") ; iterate2
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "419,44,419,49") ; remove
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "419,52,419,56") ; merge
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "419,59,419,65") ; default
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "420,18,420,28") ; change1-yes
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "420,31,420,41") ; change2-yes
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "420,44,420,50") ; lookup1
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "420,53,420,59") ; lookup2
      )
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-merge", "417,2,420,60")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-merge", "417,2,420,60")
      ; fail

  hashtable-merge-func(iterate1, iterate2, remove, merge, default, lookup1, lookup2) :
    (tbl1, tbl2) -> <r-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-merge-func", "425,2,428,115")> tbl3
    where r-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-merge-func", "425,2,428,115")
          <+ r-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-merge-func", "425,2,428,115")
             ; fail
    where s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "427,10,428,115")
          ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "427,10,427,38")
             ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "427,10,427,30")
                ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "427,11,427,24") ; hashtable-copy)> tbl1) => tbl3)
          ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "428,10,428,115")
          ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "428,11,428,101")
              ; hashtable-merge(
                  s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "428,27,428,38") ; symmetric-no
                , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "428,41,428,48") ; iterate1
                , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "428,51,428,58") ; iterate2
                , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "428,61,428,66") ; remove
                , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "428,69,428,73") ; merge
                , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "428,76,428,82") ; default
                , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "428,85,428,91") ; lookup1
                , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "428,94,428,100") ; lookup2
                ))> (tbl3, tbl2)
          <+ r-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-merge-func", "425,2,428,115")
             ; fail


strategies
  hashtable-intersect(|tbl2) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-intersect", "441,2,453,5")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "442,4,453,5")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "442,4,442,8") ; ?tbl1)
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "443,6,453,5")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "443,6,443,18")
       ; !(tbl1, tbl2))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "444,6,453,5")
    ; hashtable-merge(
        s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "445,8,445,19") ; symmetric-no
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "446,8,446,19") ; iterate1-yes
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "447,8,447,18") ; iterate2-no
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "448,8,448,17") ; remove-yes
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "449,8,449,12") ; isect
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "450,8,450,17") ; default-no
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "451,8,451,44")
        ; \ key -> <s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "451,18,451,36")
                    ; hashtable-get(|key)> tbl1 \
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "452,8,452,44")
        ; \ key -> <s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "452,18,452,36")
                    ; hashtable-get(|key)> tbl2 \
      )
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-intersect", "441,2,453,5")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-intersect", "441,2,453,5")
      ; fail

  hashtable-intersect-wempty(|tbl2, emptyElt) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-intersect-wempty", "463,2,475,5")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "464,4,475,5")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "464,4,464,8") ; ?tbl1)
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "465,6,475,5")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "465,6,465,18")
       ; !(tbl1, tbl2))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "466,6,475,5")
    ; hashtable-merge(
        s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "467,8,467,19") ; symmetric-no
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "468,8,468,19") ; iterate1-yes
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "469,8,469,19") ; iterate2-yes
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "470,8,470,16") ; remove-no
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "471,8,471,12") ; isect
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "472,8,472,16") ; !emptyElt
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "473,8,473,44")
        ; \ key -> <s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "473,18,473,36")
                    ; hashtable-get(|key)> tbl1 \
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "474,8,474,44")
        ; \ key -> <s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "474,18,474,36")
                    ; hashtable-get(|key)> tbl2 \
      )
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-intersect-wempty", "463,2,475,5")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-intersect-wempty", "463,2,475,5")
      ; fail

  hashtable-intersect-symm-wempty(|emptyElt) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-intersect-symm-wempty", "486,2,497,5")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "487,4,497,5")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "487,4,487,16")
       ; ?(tbl1, tbl2))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "488,6,497,5")
    ; hashtable-merge(
        s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "489,8,489,20") ; symmetric-yes
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "490,8,490,19") ; iterate1-yes
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "491,8,491,19") ; iterate2-yes
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "492,8,492,16") ; remove-no
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "493,8,493,12") ; isect
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "494,8,494,16") ; !emptyElt
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "495,8,495,44")
        ; \ key -> <s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "495,18,495,36")
                    ; hashtable-get(|key)> tbl1 \
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "496,8,496,44")
        ; \ key -> <s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "496,18,496,36")
                    ; hashtable-get(|key)> tbl2 \
      )
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-intersect-symm-wempty", "486,2,497,5")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-intersect-symm-wempty", "486,2,497,5")
      ; fail

  hashtable-intersect-symm-wempty-ignore-left(|emptyElt) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-intersect-symm-wempty-ignore-left", "508,2,521,5")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "509,4,521,5")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "509,4,509,16")
       ; ?(tbl1, tbl2))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "510,6,521,5")
    ; hashtable-merge(
        s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "511,8,511,20") ; symmetric-yes
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "512,8,512,19") ; iterate1-yes
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "513,8,513,19") ; iterate2-yes
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "514,8,514,16") ; remove-no
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "515,8,515,12") ; isect
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "516,8,516,16") ; !emptyElt
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "517,8,517,17") ; change1-no
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "518,8,518,18") ; change2-yes
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "519,8,519,44")
        ; \ key -> <s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "519,18,519,36")
                    ; hashtable-get(|key)> tbl1 \
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "520,8,520,44")
        ; \ key -> <s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "520,18,520,36")
                    ; hashtable-get(|key)> tbl2 \
      )
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-intersect-symm-wempty-ignore-left", "508,2,521,5")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-intersect-symm-wempty-ignore-left", "508,2,521,5")
      ; fail


strategies
  hashtable-union(|tbl2) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-union", "531,2,543,5")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "532,4,543,5")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "532,4,532,8") ; ?tbl1)
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "533,6,543,5")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "533,6,533,18")
       ; !(tbl1, tbl2))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "534,6,543,5")
    ; hashtable-merge(
        s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "535,8,535,19") ; symmetric-no
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "536,8,536,18") ; iterate1-no
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "537,8,537,19") ; iterate2-yes
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "538,8,538,16") ; remove-no
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "539,8,539,12") ; union
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "540,8,540,10")
        ; ![]
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "541,8,541,44")
        ; \ key -> <s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "541,18,541,36")
                    ; hashtable-get(|key)> tbl1 \
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "542,8,542,11") ; fail
      )
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-union", "531,2,543,5")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-union", "531,2,543,5")
      ; fail

  hashtable-union-wempty(|tbl2, emptyElt) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-union-wempty", "545,2,557,5")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "546,4,557,5")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "546,4,546,8") ; ?tbl1)
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "547,6,557,5")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "547,6,547,18")
       ; !(tbl1, tbl2))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "548,6,557,5")
    ; hashtable-merge(
        s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "549,8,549,19") ; symmetric-no
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "550,8,550,18") ; iterate1-no
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "551,8,551,19") ; iterate2-yes
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "552,8,552,16") ; remove-no
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "553,8,553,12") ; union
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "554,8,554,16") ; !emptyElt
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "555,8,555,44")
        ; \ key -> <s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "555,18,555,36")
                    ; hashtable-get(|key)> tbl1 \
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "556,8,556,11") ; fail
      )
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-union-wempty", "545,2,557,5")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-union-wempty", "545,2,557,5")
      ; fail

  hashtable-union-symm-wempty(|emptyElt) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-union-symm-wempty", "559,2,570,5")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "560,4,570,5")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "560,4,560,16")
       ; ?(tbl1, tbl2))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "561,6,570,5")
    ; hashtable-merge(
        s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "562,8,562,20") ; symmetric-yes
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "563,8,563,19") ; iterate1-yes
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "564,8,564,19") ; iterate2-yes
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "565,8,565,16") ; remove-no
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "566,8,566,12") ; union
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "567,8,567,16") ; !emptyElt
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "568,8,568,44")
        ; \ key -> <s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "568,18,568,36")
                    ; hashtable-get(|key)> tbl1 \
      , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "569,8,569,44")
        ; \ key -> <s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "569,18,569,36")
                    ; hashtable-get(|key)> tbl2 \
      )
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-union-symm-wempty", "559,2,570,5")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-union-symm-wempty", "559,2,570,5")
      ; fail


strategies
  hashtable-eq =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-eq", "580,2,581,19")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "581,4,581,19")
    ; hashtable-eq(
        s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "581,17,581,18") ; eq
      )
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-eq", "580,2,581,19")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-eq", "580,2,581,19")
      ; fail

  hashtable-eq(eq) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-eq", "592,2,594,94")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "592,21,594,94")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "592,21,592,33")
       ; ?(tbl1, tbl2))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "593,4,594,94")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "593,4,593,56")
       ; where(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "593,10,593,55")
               ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "593,10,593,47")
                  ; ( s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "593,11,593,30")
                      ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "593,11,593,24") ; hashtable-keys) => k*
                    , s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "593,33,593,46") ; hashtable-keys
                    ))
               ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "593,50,593,55")
               ; set-eq))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "594,4,594,94")
    ; where(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "594,10,594,93")
            ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "594,11,594,89")
                ; map(
                    s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "594,16,594,87")
                    ; \ key -> <s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "594,26,594,27") ; eq> ( <s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "594,32,594,50")
                                                                                                                                             ; hashtable-get(|key)> tbl1
                                                                                                                                          , <s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "594,60,594,78")
                                                                                                                                             ; hashtable-get(|key)> tbl2
                                                                                                                                          ) \
                  ))> k*)
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-eq", "592,2,594,94")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "hashtable-eq", "592,2,594,94")
      ; fail


strategies
  table-hashtable =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-hashtable", "605,2,606,48")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "606,4,606,48")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "606,4,606,30") ; prim("SSL_table_hashtable"))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "606,33,606,48")
    ; !Hashtable(
         <s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "606,45,606,46") ; id>
       )
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-hashtable", "605,2,606,48")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-hashtable", "605,2,606,48")
      ; fail

  lookup-table(|name) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "lookup-table", "611,2,614,55")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "612,4,614,55")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "612,4,612,18") ; table-hashtable)
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "613,7,614,54")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "613,7,613,26")
       ; hashtable-get(|name)
       <+ s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "614,7,614,54")
          ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "614,7,614,32")
             ; where(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "614,13,614,31")
                     ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "614,14,614,25") ; table-create)> name))
          ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "614,35,614,54")
          ; hashtable-get(|name))
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "lookup-table", "611,2,614,55")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "lookup-table", "611,2,614,55")
      ; fail

  table-create =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-create", "619,2,622,53")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "620,4,622,53")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "620,4,620,8") ; ?name)
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "621,4,622,53")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "621,4,621,31")
       ; where(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "621,10,621,30")
               ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "621,10,621,22") ; new-hashtable) => htbl))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "622,4,622,53")
    ; where(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "622,10,622,52")
            ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "622,10,622,24") ; table-hashtable)
            ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "622,27,622,52")
            ; hashtable-put(|name, htbl))
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-create", "619,2,622,53")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-create", "619,2,622,53")
      ; fail

  table-destroy =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-destroy", "627,2,633,4")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "628,4,633,4")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "628,4,628,8") ; ?name)
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "629,4,633,4")
    ; where(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "629,10,632,28")
            ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "629,10,629,24") ; table-hashtable)
            ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "630,6,632,28")
            ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "630,6,631,29")
               ; where(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "630,12,631,28")
                       ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "630,12,630,30")
                          ; lookup-table(|name))
                       ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "631,12,631,28")
                       ; hashtable-destroy))
            ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "632,6,632,28")
            ; hashtable-remove(|name))
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-destroy", "627,2,633,4")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-destroy", "627,2,633,4")
      ; fail

  table-put =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-put", "640,2,645,2")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "641,2,645,2")
    ; where(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "642,4,644,29")
            ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "642,4,642,20")
               ; ?(name, key, value))
            ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "643,4,644,29")
            ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "643,4,643,22")
               ; lookup-table(|name))
            ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "644,4,644,29")
            ; hashtable-put(|key, value))
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-put", "640,2,645,2")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-put", "640,2,645,2")
      ; fail

  table-get =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-get", "652,2,655,22")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "653,4,655,22")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "653,4,653,14")
       ; ?(name, key))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "654,4,655,22")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "654,4,654,22")
       ; lookup-table(|name))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "655,4,655,22")
    ; hashtable-get(|key)
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-get", "652,2,655,22")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-get", "652,2,655,22")
      ; fail

  table-remove =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-remove", "662,2,667,2")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "663,2,667,2")
    ; where(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "664,4,666,25")
            ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "664,4,664,14")
               ; ?(name, key))
            ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "665,4,666,25")
            ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "665,4,665,22")
               ; lookup-table(|name))
            ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "666,4,666,25")
            ; hashtable-remove(|key))
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-remove", "662,2,667,2")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-remove", "662,2,667,2")
      ; fail

  table-keys =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-keys", "674,2,677,17")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "675,4,677,17")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "675,4,675,8") ; ?name)
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "676,4,677,17")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "676,4,676,22")
       ; lookup-table(|name))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "677,4,677,17")
    ; hashtable-keys
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-keys", "674,2,677,17")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-keys", "674,2,677,17")
      ; fail

  table-rename =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-rename", "683,2,689,11")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "684,4,689,11")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "684,4,684,24")
       ; ?(from-name, to-name))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "685,4,689,11")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "685,4,685,42")
       ; where(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "685,10,685,41")
               ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "685,10,685,33")
                  ; lookup-table(|from-name)) => htbl))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "686,4,689,11")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "686,4,686,18") ; table-hashtable)
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "687,4,689,11")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "687,4,687,32")
       ; hashtable-put(|to-name, htbl))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "688,4,689,11")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "688,4,688,31")
       ; hashtable-remove(|from-name))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "689,4,689,11")
    ; !to-name
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-rename", "683,2,689,11")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-rename", "683,2,689,11")
      ; fail


strategies
  table-getlist =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-getlist", "699,2,700,55")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "699,18,700,55")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "699,18,699,22") ; ?name)
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "700,4,700,55")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "700,4,700,13") ; table-keys)
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "700,16,700,55")
    ; map(
        s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "700,20,700,53")
        ; \ x -> ( x
                 , <s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "700,32,700,40") ; table-get> (name, x)
                 ) \
      )
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-getlist", "699,2,700,55")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-getlist", "699,2,700,55")
      ; fail

  table-putlist =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-putlist", "707,2,708,55")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "707,18,708,55")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "707,18,707,30")
       ; ?(name, list))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "708,4,708,55")
    ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "708,5,708,49")
        ; map(
            s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "708,9,708,48")
            ; {x, y:
                s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "708,15,708,47")
                ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "708,15,708,21")
                   ; ?(x, y))
                ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "708,24,708,47")
                ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "708,25,708,33") ; table-put)> (name, x, y)
              }
          ))> list
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-putlist", "707,2,708,55")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-putlist", "707,2,708,55")
      ; fail

  table-putlist(s) =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-putlist", "710,2,711,47")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "710,21,711,47")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "710,21,710,33")
       ; ?(name, list))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "711,4,711,47")
    ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "711,5,711,41")
        ; map(
            s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "711,9,711,40")
            ; {x, y:
                s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "711,15,711,39")
                ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "711,15,711,21")
                   ; ?(x, y))
                ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "711,24,711,39")
                ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "711,25,711,25") ; s)> (name, x, y)
              }
          ))> list
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-putlist", "710,2,711,47")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-putlist", "710,2,711,47")
      ; fail

  table-copy =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-copy", "713,2,714,55")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "713,15,714,55")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "713,15,713,29")
       ; ?(name1, name2))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "714,4,714,55")
    ; where(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "714,10,714,54")
            ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "714,11,714,23") ; table-putlist)> ( name2
                                                                                                                                      , <s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "714,34,714,46") ; table-getlist> name1
                                                                                                                                      ))
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-copy", "713,2,714,55")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-copy", "713,2,714,55")
      ; fail


strategies
  table-push =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-push", "726,2,727,69")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "726,15,727,69")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "726,15,726,30")
       ; ?(dis, key, val))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "727,4,727,69")
    ; where(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "727,10,727,68")
            ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "727,11,727,19") ; table-put)> ( dis
                                                                                                                                  , key
                                                                                                                                  , [val|<s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "727,40,727,55")
                                                                                                                                          ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "727,40,727,48") ; table-get
                                                                                                                                             <+ s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "727,53,727,55")
                                                                                                                                                ; ![])> (dis, key)]
                                                                                                                                  ))
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-push", "726,2,727,69")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-push", "726,2,727,69")
      ; fail

  table-pop =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-pop", "729,2,730,65")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "729,14,730,65")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "729,14,729,24")
       ; ?(dis, key))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "730,4,730,65")
    ; where(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "730,10,730,64")
            ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "730,11,730,19") ; table-put)> ( dis
                                                                                                                                  , key
                                                                                                                                  , <s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "730,33,730,52")
                                                                                                                                     ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "730,33,730,45")
                                                                                                                                        ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "730,33,730,41") ; table-get)
                                                                                                                                        ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "730,44,730,45")
                                                                                                                                        ; Tl
                                                                                                                                        <+ s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "730,50,730,52")
                                                                                                                                           ; ![])> (dis, key)
                                                                                                                                  ))
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-pop", "729,2,730,65")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-pop", "729,2,730,65")
      ; fail

  table-pop-rm =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-pop-rm", "732,2,737,4")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "732,17,737,4")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "732,17,732,27")
       ; ?(dis, key))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "733,4,737,4")
    ; where(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "734,6,736,31")
            ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "734,6,734,36")
               ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "734,6,734,26")
                  ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "734,7,734,15") ; table-get)> (dis, key)) => [_|xs]
               < s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "735,8,735,32")
                 ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "735,9,735,17") ; table-put)> (dis, key, xs)
               + s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "736,8,736,31")
                 ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "736,9,736,20") ; table-remove)> (dis, key)))
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-pop-rm", "732,2,737,4")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-pop-rm", "732,2,737,4")
      ; fail

  table-pop-get =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-pop-get", "739,2,742,15")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "739,18,742,15")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "739,18,739,28")
       ; ?(dis, key))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "740,4,742,15")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "740,4,742,9")
       ; where(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "740,11,741,37")
               ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "740,11,740,47")
                  ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "740,11,740,31")
                     ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "740,12,740,20") ; table-get)> (dis, key)) => [val|vals])
               ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "741,11,741,37")
               ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "741,12,741,20") ; table-put)> (dis, key, vals)))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "742,12,742,15")
    ; !val
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-pop-get", "739,2,742,15")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-pop-get", "739,2,742,15")
      ; fail

  table-lookup =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-lookup", "744,2,745,28")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "744,17,745,28")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "744,17,744,27")
       ; ?(dis, key))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "745,4,745,28")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "745,4,745,24")
       ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "745,5,745,13") ; table-get)> (dis, key))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "745,27,745,28")
    ; Hd
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-lookup", "744,2,745,28")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-lookup", "744,2,745,28")
      ; fail

  table-replace =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-replace", "747,2,750,9")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "747,18,750,9")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "747,18,747,35")
       ; ?(dis, key, value))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "748,4,750,9")
    ; where(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "748,10,749,47")
            ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "748,10,748,44")
               ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "748,10,748,30")
                  ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "748,11,748,19") ; table-get)> (dis, key)) => [_|values])
            ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "749,11,749,47")
            ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "749,12,749,20") ; table-put)> (dis, key, [value|values]))
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-replace", "747,2,750,9")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-replace", "747,2,750,9")
      ; fail

  table-union =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-union", "752,2,753,82")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "752,16,753,82")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "752,16,752,33")
       ; ?(table, key, val))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "753,4,753,82")
    ; where(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "753,10,753,81")
            ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "753,11,753,19") ; table-put)> ( table
                                                                                                                                  , key
                                                                                                                                  , <s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "753,36,753,40") ; union> ( val
                                                                                                                                                                                                                                                  , <s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "753,50,753,65")
                                                                                                                                                                                                                                                     ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "753,50,753,58") ; table-get
                                                                                                                                                                                                                                                        <+ s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "753,63,753,65")
                                                                                                                                                                                                                                                           ; ![])> (table, key)
                                                                                                                                                                                                                                                  )
                                                                                                                                  ))
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-union", "752,2,753,82")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-union", "752,2,753,82")
      ; fail

  table-diff =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-diff", "755,2,756,81")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "755,15,756,81")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "755,15,755,32")
       ; ?(table, key, val))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "756,4,756,81")
    ; where(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "756,10,756,80")
            ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "756,11,756,19") ; table-put)> ( table
                                                                                                                                  , key
                                                                                                                                  , <s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "756,36,756,39") ; diff> ( <s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "756,44,756,59")
                                                                                                                                                                                                                                                    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "756,44,756,52") ; table-get
                                                                                                                                                                                                                                                       <+ s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "756,57,756,59")
                                                                                                                                                                                                                                                          ; ![])> (table, key)
                                                                                                                                                                                                                                                 , val
                                                                                                                                                                                                                                                 )
                                                                                                                                  ))
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-diff", "755,2,756,81")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-diff", "755,2,756,81")
      ; fail

  table-append =
    s-enter(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-append", "758,2,759,82")
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "758,17,759,82")
    ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "758,17,758,34")
       ; ?(table, key, val))
    ; s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "759,4,759,82")
    ; where(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "759,10,759,81")
            ; <(s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "759,11,759,19") ; table-put)> ( table
                                                                                                                                  , key
                                                                                                                                  , <s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "759,36,759,40") ; union> ( <s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "759,45,759,60")
                                                                                                                                                                                                                                                     ; (s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "759,45,759,53") ; table-get
                                                                                                                                                                                                                                                        <+ s-step(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "759,58,759,60")
                                                                                                                                                                                                                                                           ; ![])> (table, key)
                                                                                                                                                                                                                                                  , val
                                                                                                                                                                                                                                                  )
                                                                                                                                  ))
    < s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-append", "758,2,759,82")
    + s-exit(|"strategoxt/stratego-libraries/lib/spec/collection/hash-table/common.str", "table-append", "758,2,759,82")
      ; fail