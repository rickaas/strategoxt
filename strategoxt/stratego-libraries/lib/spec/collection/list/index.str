module collection/list/index

imports
  org.strategoxt.imp.debuggers.stratego.runtime


imports
  collection/list/cons
  strategy/traversal/simple


strategies
  index =
    s-enter(
    | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
    , "index"
    , "24"
    , "2"
    , "25"
    , "24"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
      , "25"
      , "4"
      , "25"
      , "24"
      )
    ; (s-step(
       | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
       , "25"
       , "4"
       , "25"
       , "13"
       )
       ; ?( i
          , <s-step(
             | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
             , "25"
             , "10"
             , "25"
             , "11"
             )
             ; id>
          ))
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
      , "25"
      , "16"
      , "25"
      , "24"
      )
    ; index(|i)
    < s-exit(
      | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
      , "index"
      , "24"
      , "2"
      , "25"
      , "24"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
      , "index"
      , "24"
      , "2"
      , "25"
      , "24"
      )
      ; fail


strategies
  index(|i) =
    s-enter(
    | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
    , "index"
    , "35"
    , "2"
    , "36"
    , "29"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
      , "36"
      , "4"
      , "36"
      , "29"
      )
    ; (s-step(
       | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
       , "36"
       , "4"
       , "36"
       , "25"
       )
       ; at-index(
           s-step(
           | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
           , "36"
           , "13"
           , "36"
           , "14"
           )
           ; ?t
         | <s-step(
            | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
            , "36"
            , "19"
            , "36"
            , "21"
            )
            ; dec> i
         ))
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
      , "36"
      , "28"
      , "36"
      , "29"
      )
    ; !t
    < s-exit(
      | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
      , "index"
      , "35"
      , "2"
      , "36"
      , "29"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
      , "index"
      , "35"
      , "2"
      , "36"
      , "29"
      )
      ; fail


strategies
  get-index =
    s-enter(
    | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
    , "get-index"
    , "45"
    , "2"
    , "46"
    , "36"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
      , "46"
      , "4"
      , "46"
      , "36"
      )
    ; (s-step(
       | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
       , "46"
       , "4"
       , "46"
       , "8"
       )
       ; Gind0)
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
      , "46"
      , "12"
      , "46"
      , "36"
      )
    ; rec x (
        s-step(
        | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
        , "46"
        , "18"
        , "46"
        , "35"
        )
        ; (s-step(
           | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
           , "46"
           , "18"
           , "46"
           , "22"
           )
           ; Gind1
           <+ s-step(
              | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
              , "46"
              , "27"
              , "46"
              , "35"
              )
              ; (s-step(
                 | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
                 , "46"
                 , "27"
                 , "46"
                 , "31"
                 )
                 ; Gind2)
              ; s-step(
                | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
                , "46"
                , "35"
                , "46"
                , "35"
                )
              ; x)
      )
    < s-exit(
      | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
      , "get-index"
      , "45"
      , "2"
      , "46"
      , "36"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
      , "get-index"
      , "45"
      , "2"
      , "46"
      , "36"
      )
      ; fail

  Gind0 :
    (x, ys) -> <r-exit(
                | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
                , "Gind0"
                , "50"
                , "2"
                , "50"
                , "31"
                )> (1, x, ys)
    where r-enter(|"strategoxt/stratego-libraries/lib/spec/collection/list/index.str", "Gind0", "50,2,50,31")
          <+ r-exit(
             | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
             , "Gind0"
             , "50"
             , "2"
             , "50"
             , "31"
             )
             ; fail

  Gind1 :
    (n, x, [x|xs]) -> <r-exit(
                       | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
                       , "Gind1"
                       , "53"
                       , "2"
                       , "53"
                       , "31"
                       )> n
    where r-enter(|"strategoxt/stratego-libraries/lib/spec/collection/list/index.str", "Gind1", "53,2,53,31")
          <+ r-exit(
             | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
             , "Gind1"
             , "53"
             , "2"
             , "53"
             , "31"
             )
             ; fail

  Gind2 :
    (n, y, [x|xs]) -> <r-exit(
                       | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
                       , "Gind2"
                       , "56"
                       , "2"
                       , "56"
                       , "51"
                       )> ( <s-step(
                             | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
                             , "56"
                             , "33"
                             , "56"
                             , "35"
                             )
                             ; add> (n, 1)
                          , y
                          , xs
                          )
    where r-enter(|"strategoxt/stratego-libraries/lib/spec/collection/list/index.str", "Gind2", "56,2,56,51")
          <+ r-exit(
             | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
             , "Gind2"
             , "56"
             , "2"
             , "56"
             , "51"
             )
             ; fail

  get-index0(s) =
    s-enter(
    | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
    , "get-index0"
    , "58"
    , "2"
    , "58"
    , "49"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
      , "58"
      , "18"
      , "58"
      , "49"
      )
    ; (s-step(
       | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
       , "58"
       , "18"
       , "58"
       , "41"
       )
       ; at-suffix(
           s-step(
           | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
           , "58"
           , "28"
           , "58"
           , "40"
           )
           ; (s-step(
              | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
              , "58"
              , "28"
              , "58"
              , "35"
              )
              ; [s-step(
                 | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
                 , "58"
                 , "29"
                 , "58"
                 , "29"
                 )
                 ; s|s-step(
                     | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
                     , "58"
                     , "33"
                     , "58"
                     , "34"
                     )
                     ; id])
           ; s-step(
             | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
             , "58"
             , "38"
             , "58"
             , "40"
             )
           ; ![]
         ))
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
      , "58"
      , "44"
      , "58"
      , "49"
      )
    ; length
    < s-exit(
      | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
      , "get-index0"
      , "58"
      , "2"
      , "58"
      , "49"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
      , "get-index0"
      , "58"
      , "2"
      , "58"
      , "49"
      )
      ; fail


strategies
  set-index =
    s-enter(
    | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
    , "set-index"
    , "69"
    , "2"
    , "71"
    , "27"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
      , "70"
      , "4"
      , "71"
      , "27"
      )
    ; (s-step(
       | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
       , "70"
       , "4"
       , "70"
       , "14"
       )
       ; ?(i, x, xs))
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
      , "71"
      , "6"
      , "71"
      , "27"
      )
    ; <(s-step(
        | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
        , "71"
        , "7"
        , "71"
        , "18"
        )
        ; at-index(
            s-step(
            | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
            , "71"
            , "16"
            , "71"
            , "17"
            )
            ; !x
          ))> (i, xs)
    < s-exit(
      | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
      , "set-index"
      , "69"
      , "2"
      , "71"
      , "27"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
      , "set-index"
      , "69"
      , "2"
      , "71"
      , "27"
      )
      ; fail

  at-index(s) =
    s-enter(
    | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
    , "at-index"
    , "79"
    , "2"
    , "81"
    , "20"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
      , "80"
      , "4"
      , "81"
      , "20"
      )
    ; (s-step(
       | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
       , "80"
       , "4"
       , "80"
       , "13"
       )
       ; ?( i
          , <s-step(
             | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
             , "80"
             , "10"
             , "80"
             , "11"
             )
             ; id>
          ))
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
      , "81"
      , "6"
      , "81"
      , "20"
      )
    ; at-index(
        s-step(
        | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
        , "81"
        , "15"
        , "81"
        , "15"
        )
        ; s
      | i
      )
    < s-exit(
      | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
      , "at-index"
      , "79"
      , "2"
      , "81"
      , "20"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
      , "at-index"
      , "79"
      , "2"
      , "81"
      , "20"
      )
      ; fail

  at-index(s|i) =
    s-enter(
    | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
    , "at-index"
    , "89"
    , "2"
    , "97"
    , "6"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
      , "90"
      , "4"
      , "97"
      , "6"
      )
    ; let next(|j) =
            s-enter(
            | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
            , "next"
            , "90"
            , "8"
            , "95"
            , "12"
            )
            ; s-step(
              | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
              , "91"
              , "10"
              , "95"
              , "12"
              )
            ; if s-step(
                 | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
                 , "91"
                 , "13"
                 , "91"
                 , "19"
                 )
                 ; (s-step(
                    | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
                    , "91"
                    , "13"
                    , "91"
                    , "14"
                    )
                    ; !j) => i then
                s-step(
                | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
                , "92"
                , "12"
                , "92"
                , "19"
                )
                ; [s-step(
                   | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
                   , "92"
                   , "13"
                   , "92"
                   , "13"
                   )
                   ; s|s-step(
                       | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
                       , "92"
                       , "17"
                       , "92"
                       , "18"
                       )
                       ; id]
              else
                s-step(
                | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
                , "94"
                , "12"
                , "94"
                , "32"
                )
                ; [s-step(
                   | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
                   , "94"
                   , "13"
                   , "94"
                   , "14"
                   )
                   ; id|s-step(
                        | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
                        , "94"
                        , "18"
                        , "94"
                        , "31"
                        )
                        ; next(
                          | <s-step(
                             | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
                             , "94"
                             , "25"
                             , "94"
                             , "27"
                             )
                             ; inc> j
                          )]
              end
            < s-exit(
              | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
              , "next"
              , "90"
              , "8"
              , "95"
              , "12"
              )
            + s-exit(
              | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
              , "next"
              , "90"
              , "8"
              , "95"
              , "12"
              )
              ; fail
      in
        s-step(
        | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
        , "96"
        , "8"
        , "96"
        , "15"
        )
        ; next(|0)
      end
    < s-exit(
      | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
      , "at-index"
      , "89"
      , "2"
      , "97"
      , "6"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
      , "at-index"
      , "89"
      , "2"
      , "97"
      , "6"
      )
      ; fail

  at-index-tail(s|i) =
    s-enter(
    | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
    , "at-index-tail"
    , "106"
    , "2"
    , "114"
    , "6"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
      , "107"
      , "4"
      , "114"
      , "6"
      )
    ; let next(|j) =
            s-enter(
            | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
            , "next"
            , "107"
            , "8"
            , "112"
            , "8"
            )
            ; s-step(
              | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
              , "108"
              , "6"
              , "112"
              , "8"
              )
            ; if s-step(
                 | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
                 , "108"
                 , "9"
                 , "108"
                 , "15"
                 )
                 ; (s-step(
                    | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
                    , "108"
                    , "9"
                    , "108"
                    , "10"
                    )
                    ; !j) => i then
                s-step(
                | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
                , "109"
                , "8"
                , "109"
                , "8"
                )
                ; s
              else
                s-step(
                | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
                , "111"
                , "8"
                , "111"
                , "28"
                )
                ; [s-step(
                   | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
                   , "111"
                   , "9"
                   , "111"
                   , "10"
                   )
                   ; id|s-step(
                        | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
                        , "111"
                        , "14"
                        , "111"
                        , "27"
                        )
                        ; next(
                          | <s-step(
                             | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
                             , "111"
                             , "21"
                             , "111"
                             , "23"
                             )
                             ; inc> j
                          )]
              end
            < s-exit(
              | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
              , "next"
              , "107"
              , "8"
              , "112"
              , "8"
              )
            + s-exit(
              | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
              , "next"
              , "107"
              , "8"
              , "112"
              , "8"
              )
              ; fail
      in
        s-step(
        | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
        , "113"
        , "7"
        , "113"
        , "14"
        )
        ; next(|0)
      end
    < s-exit(
      | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
      , "at-index-tail"
      , "106"
      , "2"
      , "114"
      , "6"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
      , "at-index-tail"
      , "106"
      , "2"
      , "114"
      , "6"
      )
      ; fail


strategies
  insert =
    s-enter(
    | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
    , "insert"
    , "124"
    , "2"
    , "125"
    , "31"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
      , "125"
      , "4"
      , "125"
      , "31"
      )
    ; (s-step(
       | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
       , "125"
       , "4"
       , "125"
       , "7"
       )
       ; Ins0)
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
      , "125"
      , "10"
      , "125"
      , "31"
      )
    ; rec x (
        s-step(
        | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
        , "125"
        , "16"
        , "125"
        , "30"
        )
        ; (s-step(
           | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
           , "125"
           , "16"
           , "125"
           , "19"
           )
           ; Ins1
           <+ s-step(
              | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
              , "125"
              , "24"
              , "125"
              , "30"
              )
              ; Ins2(
                  s-step(
                  | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
                  , "125"
                  , "29"
                  , "125"
                  , "29"
                  )
                  ; x
                ))
      )
    < s-exit(
      | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
      , "insert"
      , "124"
      , "2"
      , "125"
      , "31"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
      , "insert"
      , "124"
      , "2"
      , "125"
      , "31"
      )
      ; fail

  Ins0 :
    (i, x, ys) -> <r-exit(
                   | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
                   , "Ins0"
                   , "128"
                   , "2"
                   , "128"
                   , "37"
                   )> (0, i, x, ys)
    where r-enter(|"strategoxt/stratego-libraries/lib/spec/collection/list/index.str", "Ins0", "128,2,128,37")
          <+ r-exit(
             | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
             , "Ins0"
             , "128"
             , "2"
             , "128"
             , "37"
             )
             ; fail

  Ins1 :
    (i, i, x, xs) -> <r-exit(
                      | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
                      , "Ins1"
                      , "131"
                      , "2"
                      , "131"
                      , "35"
                      )> [x|xs]
    where r-enter(|"strategoxt/stratego-libraries/lib/spec/collection/list/index.str", "Ins1", "131,2,131,35")
          <+ r-exit(
             | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
             , "Ins1"
             , "131"
             , "2"
             , "131"
             , "35"
             )
             ; fail

  Ins2(r) :
    (n, i, x, [y|ys]) -> <r-exit(
                          | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
                          , "Ins2"
                          , "134"
                          , "2"
                          , "134"
                          , "66"
                          )> [y|<s-step(
                                 | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
                                 , "134"
                                 , "40"
                                 , "134"
                                 , "40"
                                 )
                                 ; r> ( <s-step(
                                         | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
                                         , "134"
                                         , "44"
                                         , "134"
                                         , "46"
                                         )
                                         ; add> (n, 1)
                                      , i
                                      , x
                                      , ys
                                      )]
    where r-enter(|"strategoxt/stratego-libraries/lib/spec/collection/list/index.str", "Ins2", "134,2,134,66")
          <+ r-exit(
             | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
             , "Ins2"
             , "134"
             , "2"
             , "134"
             , "66"
             )
             ; fail


strategies
  nmap(s : Int * a -> b|i) =
    s-enter(
    | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
    , "nmap"
    , "146"
    , "2"
    , "147"
    , "35"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
      , "147"
      , "4"
      , "147"
      , "35"
      )
    ; (s-step(
       | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
       , "147"
       , "4"
       , "147"
       , "5"
       )
       ; []
       + s-step(
         | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
         , "147"
         , "9"
         , "147"
         , "35"
         )
         ; [s-step(
            | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
            , "147"
            , "10"
            , "147"
            , "14"
            )
            ; s(|i)|s-step(
                    | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
                    , "147"
                    , "18"
                    , "147"
                    , "34"
                    )
                    ; nmap(
                        s-step(
                        | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
                        , "147"
                        , "23"
                        , "147"
                        , "23"
                        )
                        ; s
                      | <s-step(
                         | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
                         , "147"
                         , "28"
                         , "147"
                         , "30"
                         )
                         ; inc> i
                      )])
    < s-exit(
      | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
      , "nmap"
      , "146"
      , "2"
      , "147"
      , "35"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
      , "nmap"
      , "146"
      , "2"
      , "147"
      , "35"
      )
      ; fail

  map-with-index(s) =
    s-enter(
    | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
    , "map-with-index"
    , "160"
    , "2"
    , "163"
    , "6"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
      , "161"
      , "4"
      , "163"
      , "6"
      )
    ; let apply(|i) =
            s-enter(
            | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
            , "apply"
            , "161"
            , "8"
            , "161"
            , "32"
            )
            ; s-step(
              | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
              , "161"
              , "20"
              , "161"
              , "32"
              )
            ; <(s-step(
                | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
                , "161"
                , "21"
                , "161"
                , "21"
                )
                ; s)> ( i
                      , <s-step(
                         | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
                         , "161"
                         , "29"
                         , "161"
                         , "30"
                         )
                         ; id>
                      )
            < s-exit(
              | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
              , "apply"
              , "161"
              , "8"
              , "161"
              , "32"
              )
            + s-exit(
              | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
              , "apply"
              , "161"
              , "8"
              , "161"
              , "32"
              )
              ; fail
      in
        s-step(
        | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
        , "162"
        , "8"
        , "162"
        , "22"
        )
        ; nmap(
            s-step(
            | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
            , "162"
            , "13"
            , "162"
            , "17"
            )
            ; apply
          | 1
          )
      end
    < s-exit(
      | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
      , "map-with-index"
      , "160"
      , "2"
      , "163"
      , "6"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
      , "map-with-index"
      , "160"
      , "2"
      , "163"
      , "6"
      )
      ; fail

  add-indices =
    s-enter(
    | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
    , "add-indices"
    , "174"
    , "2"
    , "175"
    , "21"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
      , "175"
      , "4"
      , "175"
      , "21"
      )
    ; map-with-index(
        s-step(
        | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
        , "175"
        , "19"
        , "175"
        , "20"
        )
        ; id
      )
    < s-exit(
      | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
      , "add-indices"
      , "174"
      , "2"
      , "175"
      , "21"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/lib/spec/collection/list/index.str"
      , "add-indices"
      , "174"
      , "2"
      , "175"
      , "21"
      )
      ; fail