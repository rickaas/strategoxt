module dr-propconst-tests-2

imports
  org.strategoxt.imp.debuggers.stratego.runtime


imports
  dr-test-utils


strategies
  main =
    s-enter(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "main", "12,2,13,20")
    ; s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "13,4,13,20")
    ; propconst-tests-2
    < s-exit(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "main", "12,2,13,20")
    + s-exit(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "main", "12,2,13,20")
      ; fail

  propconst-tests-2 =
    s-enter(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "propconst-tests-2", "15,2,23,4")
    ; s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "16,4,23,4")
    ; test-suite(
        s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "16,15,16,71")
        ; !"Dynamic Rules Library -- Constant Propagation (part 2)"
      , s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "17,6,22,28")
        ; (s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "17,6,17,115")
           ; where(s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "17,12,17,114")
                   ; separation-message(|"Dynamic Rules Library -- Constant Propagation -- Combined Break & Continue Tests")))
        ; s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "18,6,22,28")
        ; (s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "18,6,18,32") ; pc-break-and-continue-tests)
        ; s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "19,6,22,28")
        ; (s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "19,6,19,99")
           ; where(s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "19,12,19,98")
                   ; separation-message(|"Dynamic Rules Library -- Constant Propagation -- Exception Tests")))
        ; s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "20,6,22,28")
        ; (s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "20,6,20,23") ; pc-exception-tests)
        ; s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "21,6,22,28")
        ; (s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "21,6,21,27") ; pc-exception-tests-fin)
        ; s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "22,6,22,28")
        ; pc-exception-tests-loop
      )
    < s-exit(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "propconst-tests-2", "15,2,23,4")
    + s-exit(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "propconst-tests-2", "15,2,23,4")
      ; fail


strategies
  pc-break-and-continue-tests =
    s-enter(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "pc-break-and-continue-tests", "27,2,365,4")
    ; s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "27,32,365,4")
    ; (s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "27,32,27,33") ; id)
    ; s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "29,4,365,4")
    ; (s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "29,4,44,4")
       ; apply-propconst-test(
           s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "29,25,29,59")
           ; !"Check break/continue scenario #1"
         | "var x; x := 1;
       while c() do
         f(x);
         if c() then x := 1; break; else x := 1; continue; end
         x := 2;
       end
       f(x);"
         , "var x; x := 1;
       while c() do
         f(1);
         if c() then x := 1; break; else x := 1; continue; end
         x := 2;
       end
       f(1);"
         ))
    ; s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "46,4,365,4")
    ; (s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "46,4,67,4")
       ; apply-propconst-test(
           s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "46,25,46,59")
           ; !"Check break/continue scenario #2"
         | "var x; x := 1;
       l1: while c() do
         l2: while c() do
           f(x);
           if c() then x := 1; continue l1; else x := 1; break l1; end
           x := 2;
         end
         x := 2;
       end
       f(x);"
         , "var x; x := 1;
       l1: while c() do
         l2: while c() do
           f(1);
           if c() then x := 1; continue l1; else x := 1; break l1; end
           x := 2;
         end
         x := 2;
       end
       f(1);"
         ))
    ; s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "69,4,365,4")
    ; (s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "69,4,90,4")
       ; apply-propconst-test(
           s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "69,25,69,59")
           ; !"Check break/continue scenario #3"
         | "var x; x := 1;
       l1: while c() do
         l2: while c() do
           f(x);
           if c() then x := 1; continue l2; else x := 1; break l1; end
           x := 2;
         end
         x := 2;
       end
       f(x);"
         , "var x; x := 1;
       l1: while c() do
         l2: while c() do
           f(x);
           if c() then x := 1; continue l2; else x := 1; break l1; end
           x := 2;
         end
         x := 2;
       end
       f(x);"
         ))
    ; s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "92,4,365,4")
    ; (s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "92,4,113,4")
       ; apply-propconst-test(
           s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "92,25,92,59")
           ; !"Check break/continue scenario #4"
         | "var x; x := 1;
       l1: while c() do
         l2: while c() do
           f(x);
           if c() then x := 1; continue l1; else x := 1; break l2; end
           x := 2;
         end
         x := 2;
       end
       f(x);"
         , "var x; x := 1;
       l1: while c() do
         l2: while c() do
           f(x);
           if c() then x := 1; continue l1; else x := 1; break l2; end
           x := 2;
         end
         x := 2;
       end
       f(x);"
         ))
    ; s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "115,4,365,4")
    ; (s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "115,4,156,4")
       ; apply-propconst-test(
           s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "115,25,115,59")
           ; !"Check break/continue scenario #5"
         | "var x; x := 1;
       l1: while c() do
         f(x); if c() then x := 1; break; else x := 1; end
         l2: while c() do
           f(x); if c() then x := 1; continue l1; end
           if c() then x := 1; break; end
           if c() then x := 1; continue; end
           l3: while c() do
             f(x); if c() then x := 1; break l2; end
             if c() then x := 1; continue l3; end
             if c() then x := 1; break l1; end
             if c() then x := 1; continue l2; end
             if c() then x := 1; continue l1; end
             if c() then x := 1; break l3; end
           end
           f(x);
         end
         f(x);
       end
       f(x);"
         , "var x; x := 1;
       l1: while c() do
         f(1); if c() then x := 1; break; else x := 1; end
         l2: while c() do
           f(1); if c() then x := 1; continue l1; end
           if c() then x := 1; break; end
           if c() then x := 1; continue; end
           l3: while c() do
             f(1); if c() then x := 1; break l2; end
             if c() then x := 1; continue l3; end
             if c() then x := 1; break l1; end
             if c() then x := 1; continue l2; end
             if c() then x := 1; continue l1; end
             if c() then x := 1; break l3; end
           end
           f(1);
         end
         f(1);
       end
       f(1);"
         ))
    ; s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "158,4,365,4")
    ; (s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "158,4,199,4")
       ; apply-propconst-test(
           s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "158,25,158,59")
           ; !"Check break/continue scenario #6"
         | "var x; x := 1;
       l1: while c() do
         f(x); if c() then x := 1; break; else x := 1; end
         l2: while c() do
           f(x); if c() then x := 1; continue l1; end
           if c() then x := 1; break; end
           if c() then x := 1; continue; end
           l3: while c() do
             f(x); if c() then x := 1; break l2; end
             if c() then x := 2; continue l3; end
             if c() then x := 2; break l1; end
             if c() then x := 1; continue l2; end
             if c() then x := 1; continue l1; end
             if c() then x := 1; break l3; end
           end
           f(x); x := 1;
         end
         f(x);
       end
       f(x);"
         , "var x; x := 1;
       l1: while c() do
         f(1); if c() then x := 1; break; else x := 1; end
         l2: while c() do
           f(1); if c() then x := 1; continue l1; end
           if c() then x := 1; break; end
           if c() then x := 1; continue; end
           l3: while c() do
             f(x); if c() then x := 1; break l2; end
             if c() then x := 2; continue l3; end
             if c() then x := 2; break l1; end
             if c() then x := 1; continue l2; end
             if c() then x := 1; continue l1; end
             if c() then x := 1; break l3; end
           end
           f(x); x := 1;
         end
         f(1);
       end
       f(x);"
         ))
    ; s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "201,4,365,4")
    ; (s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "201,4,242,4")
       ; apply-propconst-test(
           s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "201,25,201,59")
           ; !"Check break/continue scenario #7"
         | "var x; x := 1;
       l1: while c() do
         f(x); if c() then x := 1; break; else x := 1; end
         l2: while c() do
           f(x); if c() then x := 1; continue l1; end
           if c() then x := 1; break; end
           if c() then x := 1; continue; end
           l3: while c() do
             f(x); if c() then x := 2; break l2; end
             if c() then x := 1; continue l3; end
             if c() then x := 1; break l1; end
             if c() then x := 1; continue l2; end
             if c() then x := 2; continue l1; end
             if c() then x := 1; break l3; end
           end
           f(x);
         end
         f(x); x := 1;
       end
       f(x);"
         , "var x; x := 1;
       l1: while c() do
         f(x); if c() then x := 1; break; else x := 1; end
         l2: while c() do
           f(1); if c() then x := 1; continue l1; end
           if c() then x := 1; break; end
           if c() then x := 1; continue; end
           l3: while c() do
             f(1); if c() then x := 2; break l2; end
             if c() then x := 1; continue l3; end
             if c() then x := 1; break l1; end
             if c() then x := 1; continue l2; end
             if c() then x := 2; continue l1; end
             if c() then x := 1; break l3; end
           end
           f(1);
         end
         f(x); x := 1;
       end
       f(x);"
         ))
    ; s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "244,4,365,4")
    ; (s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "244,4,283,4")
       ; apply-propconst-test(
           s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "244,25,244,59")
           ; !"Check break/continue scenario #8"
         | "var x; x := 1;
       l1: while c() do
         f(x);
         l2: while c() do
           f(x);
           if c() then
             if c() then x := 1; break; else x := 1; continue l1; end
           else
             if c() then
               if c() then x := 1; continue; else x := 1; break l1; end
             else
               if c() then x := 1; break l1; end
             end
           end
           x := 1;
         end
         f(x);
       end
       f(x);"
         , "var x; x := 1;
       l1: while c() do
         f(1);
         l2: while c() do
           f(1);
           if c() then
             if c() then x := 1; break; else x := 1; continue l1; end
           else
             if c() then
               if c() then x := 1; continue; else x := 1; break l1; end
             else
               if c() then x := 1; break l1; end
             end
           end
           x := 1;
         end
         f(1);
       end
       f(1);"
         ))
    ; s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "285,4,365,4")
    ; (s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "285,4,324,4")
       ; apply-propconst-test(
           s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "285,25,285,59")
           ; !"Check break/continue scenario #9"
         | "var x; x := 1;
       l1: while c() do
         f(x);
         l2: while c() do
           f(x);
           if c() then
             if c() then x := 1; break; else x := 1; continue l1; end
           else
             if c() then
               if c() then x := 2; continue; else x := 1; break l1; end
             else
               if c() then x := 1; break l1; end
             end
           end
           x := 1;
         end
         f(x); x := 1;
       end
       f(x);"
         , "var x; x := 1;
       l1: while c() do
         f(1);
         l2: while c() do
           f(x);
           if c() then
             if c() then x := 1; break; else x := 1; continue l1; end
           else
             if c() then
               if c() then x := 2; continue; else x := 1; break l1; end
             else
               if c() then x := 1; break l1; end
             end
           end
           x := 1;
         end
         f(x); x := 1;
       end
       f(1);"
         ))
    ; s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "326,4,365,4")
    ; apply-propconst-test(
        s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "326,25,326,60")
        ; !"Check break/continue scenario #10"
      | "var x; x := 1;
       l1: while c() do
         f(x);
         l2: while c() do
           f(x);
           if c() then
             if c() then x := 1; break; else x := 1; continue l1; end
           else
             if c() then
               if c() then x := 1; continue; else x := 1; break l1; end
             else
               if c() then x := 1; break l1; end
             end
           end
           x := 2;
         end
         f(x); x := 1;
       end
       f(x);"
      , "var x; x := 1;
       l1: while c() do
         f(1);
         l2: while c() do
           f(x);
           if c() then
             if c() then x := 1; break; else x := 1; continue l1; end
           else
             if c() then
               if c() then x := 1; continue; else x := 1; break l1; end
             else
               if c() then x := 1; break l1; end
             end
           end
           x := 2;
         end
         f(x); x := 1;
       end
       f(1);"
      )
    < s-exit(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "pc-break-and-continue-tests", "27,2,365,4")
    + s-exit(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "pc-break-and-continue-tests", "27,2,365,4")
      ; fail

  pc-exception-tests =
    s-enter(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "pc-exception-tests", "367,2,601,5")
    ; s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "367,23,601,5")
    ; (s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "367,23,367,24") ; id)
    ; s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "369,4,601,5")
    ; (s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "369,4,388,4")
       ; apply-propconst-test(
           s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "369,25,369,44")
           ; !"Exception test #1"
         | "var x;
       try
         if c() then x := 1; throw F; else x := 2; throw E; end
       catch (e: E)
         f(x); x := 1;
       catch (f: F)
         f(x); x := 1;
       end
       f(x);"
         , "var x;
       try
         if c() then x := 1; throw F; else x := 2; throw E; end
       catch (e: E)
         f(2); x := 1;
       catch (f: F)
         f(1); x := 1;
       end
       f(1);"
         ))
    ; s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "390,4,601,5")
    ; (s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "390,4,417,4")
       ; apply-propconst-test(
           s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "390,25,390,44")
           ; !"Exception test #2"
         | "var x;
       try
         if c() then
           if c() then x := 1; throw F; else x := 2; throw E; end
         else
           x := 1;
         end
       catch (e: E)
         f(x); x := 1;
       catch (f: F)
         f(x); x := 1;
       end
       f(x);"
         , "var x;
       try
         if c() then
           if c() then x := 1; throw F; else x := 2; throw E; end
         else
           x := 1;
         end
       catch (e: E)
         f(2); x := 1;
       catch (f: F)
         f(1); x := 1;
       end
       f(1);"
         ))
    ; s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "419,4,601,5")
    ; (s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "419,4,446,4")
       ; apply-propconst-test(
           s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "419,25,419,44")
           ; !"Exception test #3"
         | "var x;
       try
         if c() then
           if c() then x := 1; throw F; else x := 2; throw E; end
         else
           x := 2;
         end
       catch (e: E)
         f(x); x := 1;
       catch (f: F)
         f(x); x := 1;
       end
       f(x);"
         , "var x;
       try
         if c() then
           if c() then x := 1; throw F; else x := 2; throw E; end
         else
           x := 2;
         end
       catch (e: E)
         f(2); x := 1;
       catch (f: F)
         f(1); x := 1;
       end
       f(x);"
         ))
    ; s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "448,4,601,5")
    ; (s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "448,4,475,5")
       ; apply-propconst-test(
           s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "448,25,448,44")
           ; !"Exception test #4"
         | "var x;
       try
         if c() then
           if c() then x := 1; throw F; else x := 2; throw E; end
         else
           x := 1;
         end
       catch (e: E)
         f(x);
       catch (f: F)
         f(x); x := 1;
       end
       f(x);"
         , "var x;
       try
         if c() then
           if c() then x := 1; throw F; else x := 2; throw E; end
         else
           x := 1;
         end
       catch (e: E)
         f(2);
       catch (f: F)
         f(1); x := 1;
       end
       f(x);"
         ))
    ; s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "477,4,601,5")
    ; (s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "477,4,538,5")
       ; apply-propconst-test(
           s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "477,25,477,44")
           ; !"Exception test #5"
         | "var x;
       try
         x := 1;
         try
           if c() then x := 1; throw A; end
           if c() then x := 1; throw E; end
           if c() then x := 1; throw F; end
           if c() then
             if c() then x := 2; throw A; else x := 1; throw E; end
           else
             x := 2;
           end
         catch (a: A)
           f(x); x := 1;
           if c() then throw E; end
         end
         f(x);
         if c() then throw F; end
         x := 2;
       catch (e: E)
         f(x);
         try
           if c() then x := 2; throw B; else x := 2; end
         catch (b: B)
           f(x);
         end
       catch (f: F)
         f(x); x := 2;
       end
       f(x);"
         , "var x;
       try
         x := 1;
         try
           if c() then x := 1; throw A; end
           if c() then x := 1; throw E; end
           if c() then x := 1; throw F; end
           if c() then
             if c() then x := 2; throw A; else x := 1; throw E; end
           else
             x := 2;
           end
         catch (a: A)
           f(x); x := 1;
           if c() then throw E; end
         end
         f(x);
         if c() then throw F; end
         x := 2;
       catch (e: E)
         f(1);
         try
           if c() then x := 2; throw B; else x := 2; end
         catch (b: B)
           f(2);
         end
       catch (f: F)
         f(x); x := 2;
       end
       f(2);"
         ))
    ; s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "540,4,601,5")
    ; apply-propconst-test(
        s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "540,25,540,44")
        ; !"Exception test #6"
      | "var x;
       try
         x := 1;
         try
           if c() then x := 1; throw A; end
           if c() then x := 2; throw E; end
           if c() then x := 1; throw F; end
           if c() then
             if c() then x := 1; throw A; else x := 2; throw E; end
           else
             x := 2;
           end
         catch (a: A)
           f(x); x := 2;
           if c() then throw E; end
         end
         f(x);
         if c() then x := 2; throw F; end
         x := 2;
       catch (e: E)
         f(x);
         try
           if c() then x := 2; throw B; else x := 2; end
         catch (b: B)
           f(x);
         end
       catch (f: F)
         f(x); x := 1;
       end
       f(x);"
      , "var x;
       try
         x := 1;
         try
           if c() then x := 1; throw A; end
           if c() then x := 2; throw E; end
           if c() then x := 1; throw F; end
           if c() then
             if c() then x := 1; throw A; else x := 2; throw E; end
           else
             x := 2;
           end
         catch (a: A)
           f(1); x := 2;
           if c() then throw E; end
         end
         f(2);
         if c() then x := 2; throw F; end
         x := 2;
       catch (e: E)
         f(2);
         try
           if c() then x := 2; throw B; else x := 2; end
         catch (b: B)
           f(2);
         end
       catch (f: F)
         f(x); x := 1;
       end
       f(x);"
      )
    < s-exit(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "pc-exception-tests", "367,2,601,5")
    + s-exit(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "pc-exception-tests", "367,2,601,5")
      ; fail

  pc-exception-tests-fin =
    s-enter(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "pc-exception-tests-fin", "603,2,1264,5")
    ; s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "603,27,1264,5")
    ; (s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "603,27,603,28") ; id)
    ; s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "605,4,1264,5")
    ; (s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "605,4,628,4")
       ; apply-propconst-test(
           s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "605,25,605,44")
           ; !"Exception test #7"
         | "var x;
       try
         if c() then x := 1; throw F; else x := 2; throw E; end
       catch (e: E)
         f(x); x := 1;
       catch (f: F)
         f(x); x := 1;
       finally
         f(x); x := 2;
       end
       f(x);"
         , "var x;
       try
         if c() then x := 1; throw F; else x := 2; throw E; end
       catch (e: E)
         f(2); x := 1;
       catch (f: F)
         f(1); x := 1;
       finally
         f(1); x := 2;
       end
       f(2);"
         ))
    ; s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "630,4,1264,5")
    ; (s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "630,4,653,4")
       ; apply-propconst-test(
           s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "630,25,630,44")
           ; !"Exception test #8"
         | "var x;
       try
         if c() then x := 1; throw F; else x := 2; throw E; end
       catch (e: E)
         f(x); x := 1;
       catch (f: F)
         f(x); x := 2;
       finally
         f(x); x := 2;
       end
       f(x);"
         , "var x;
       try
         if c() then x := 1; throw F; else x := 2; throw E; end
       catch (e: E)
         f(2); x := 1;
       catch (f: F)
         f(1); x := 2;
       finally
         f(x); x := 2;
       end
       f(2);"
         ))
    ; s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "655,4,1264,5")
    ; (s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "655,4,680,4")
       ; apply-propconst-test(
           s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "655,25,655,44")
           ; !"Exception test #9"
         | "var x;
       try
         if c() then x := 1; throw F; else x := 2; end
         if c() then x := 2; throw E; else x := 2; end
       catch (e: E)
         f(x); x := 1;
       catch (f: F)
         f(x); x := 1;
       finally
         f(x); x := 2;
       end
       f(x);"
         , "var x;
       try
         if c() then x := 1; throw F; else x := 2; end
         if c() then x := 2; throw E; else x := 2; end
       catch (e: E)
         f(2); x := 1;
       catch (f: F)
         f(1); x := 1;
       finally
         f(x); x := 2;
       end
       f(2);"
         ))
    ; s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "682,4,1264,5")
    ; (s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "682,4,751,5")
       ; apply-propconst-test(
           s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "682,25,682,45")
           ; !"Exception test #10"
         | "var x;
       try
         x := 1;
         try
           if c() then x := 1; throw A; end
           if c() then x := 1; throw E; end
           if c() then x := 1; throw F; end
           if c() then
             if c() then x := 2; throw A; else x := 1; throw E; end
           else
             x := 1;
           end
         catch (a: A)
           f(x); x := 1;
           if c() then throw E; end
         finally
           f(x);
         end
         f(x);
         if c() then throw F; end
         x := 2;
       catch (e: E)
         f(x);
         try
           if c() then x := 2; throw B; else x := 2; end
         catch (b: B)
           f(x);
         end
       catch (f: F)
         f(x); x := 2;
       finally
         f(x);
       end
       f(x);"
         , "var x;
       try
         x := 1;
         try
           if c() then x := 1; throw A; end
           if c() then x := 1; throw E; end
           if c() then x := 1; throw F; end
           if c() then
             if c() then x := 2; throw A; else x := 1; throw E; end
           else
             x := 1;
           end
         catch (a: A)
           f(x); x := 1;
           if c() then throw E; end
         finally
           f(1);
         end
         f(1);
         if c() then throw F; end
         x := 2;
       catch (e: E)
         f(1);
         try
           if c() then x := 2; throw B; else x := 2; end
         catch (b: B)
           f(2);
         end
       catch (f: F)
         f(1); x := 2;
       finally
         f(2);
       end
       f(2);"
         ))
    ; s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "753,4,1264,5")
    ; (s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "753,4,822,5")
       ; apply-propconst-test(
           s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "753,25,753,45")
           ; !"Exception test #11"
         | "var x;
       try
         x := 1;
         try
           if c() then x := 1; throw A; end
           if c() then x := 1; throw E; end
           if c() then x := 1; throw F; end
           if c() then
             if c() then x := 2; throw A; else x := 1; throw E; end
           else
             x := 1;
           end
         catch (a: A)
           f(x); x := 1;
           if c() then throw E; end
         finally
           f(x); x := 2;
         end
         f(x);
         if c() then x := 1; throw F; end
         x := 2;
       catch (e: E)
         f(x);
         try
           if c() then x := 2; throw B; else x := 2; end
         catch (b: B)
           f(x);
         end
       catch (f: F)
         f(x); x := 2;
       finally
         f(x);
       end
       f(x);"
         , "var x;
       try
         x := 1;
         try
           if c() then x := 1; throw A; end
           if c() then x := 1; throw E; end
           if c() then x := 1; throw F; end
           if c() then
             if c() then x := 2; throw A; else x := 1; throw E; end
           else
             x := 1;
           end
         catch (a: A)
           f(x); x := 1;
           if c() then throw E; end
         finally
           f(1); x := 2;
         end
         f(2);
         if c() then x := 1; throw F; end
         x := 2;
       catch (e: E)
         f(2);
         try
           if c() then x := 2; throw B; else x := 2; end
         catch (b: B)
           f(2);
         end
       catch (f: F)
         f(x); x := 2;
       finally
         f(2);
       end
       f(2);"
         ))
    ; s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "824,4,1264,5")
    ; (s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "824,4,887,5")
       ; apply-propconst-test(
           s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "824,25,824,45")
           ; !"Exception test #12"
         | "var x;
       try
         x := 1;
         try
           if c() then x := 1; throw A; end
           if c() then x := 1; throw E; end
           if c() then x := 1; throw F; end
           if c() then
             if c() then x := 2; throw A; else x := 2; throw E; end
           else
             x := 1;
           end
         catch (a: A)
           f(x); x := 1;
           if c() then throw E; end
         finally
           f(x); if c() then x := 2; throw E; else x := 3; throw F; end
         end
       catch (e: E)
         f(x);
         try
           if c() then x := 2; throw B; else x := 2; end
         catch (b: B)
           f(x);
         end
       catch (f: F)
         f(x); x := 2;
       finally
         f(x);
       end
       f(x);"
         , "var x;
       try
         x := 1;
         try
           if c() then x := 1; throw A; end
           if c() then x := 1; throw E; end
           if c() then x := 1; throw F; end
           if c() then
             if c() then x := 2; throw A; else x := 2; throw E; end
           else
             x := 1;
           end
         catch (a: A)
           f(x); x := 1;
           if c() then throw E; end
         finally
           f(x); if c() then x := 2; throw E; else x := 3; throw F; end
         end
       catch (e: E)
         f(2);
         try
           if c() then x := 2; throw B; else x := 2; end
         catch (b: B)
           f(2);
         end
       catch (f: F)
         f(3); x := 2;
       finally
         f(2);
       end
       f(2);"
         ))
    ; s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "889,4,1264,5")
    ; (s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "889,4,958,5")
       ; apply-propconst-test(
           s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "889,25,889,45")
           ; !"Exception test #13"
         | "var x;
       try
         x := 1;
         try
           if c() then x := 1; throw A; end
           if c() then x := 1; throw E; end
           if c() then x := 1; throw F; end
           if c() then
             if c() then x := 2; throw A; else x := 1; throw E; end
           else
             x := 1;
           end
         catch (a: A)
           f(x); x := 1;
           if c() then throw E; end
         finally
           f(x); if c() then x := 3; throw F; end
         end
         f(x);
         if c() then throw F; end
         x := 2;
       catch (e: E)
         f(x);
         try
           if c() then x := 2; throw B; else x := 2; end
         catch (b: B)
           f(x);
         end
       catch (f: F)
         f(x); x := 2;
       finally
         f(x);
       end
       f(x);"
         , "var x;
       try
         x := 1;
         try
           if c() then x := 1; throw A; end
           if c() then x := 1; throw E; end
           if c() then x := 1; throw F; end
           if c() then
             if c() then x := 2; throw A; else x := 1; throw E; end
           else
             x := 1;
           end
         catch (a: A)
           f(x); x := 1;
           if c() then throw E; end
         finally
           f(1); if c() then x := 3; throw F; end
         end
         f(1);
         if c() then throw F; end
         x := 2;
       catch (e: E)
         f(1);
         try
           if c() then x := 2; throw B; else x := 2; end
         catch (b: B)
           f(2);
         end
       catch (f: F)
         f(x); x := 2;
       finally
         f(2);
       end
       f(2);"
         ))
    ; s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "960,4,1264,5")
    ; (s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "960,4,1007,5")
       ; apply-propconst-test(
           s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "960,25,960,45")
           ; !"Exception test #14"
         | "var x;
       try
         try
           try
             x := 1;
             if c() then x := 2; throw A; end
             if c() then x := 2; throw B; end
             if c() then x := 2; throw C; end
             if c() then x := 2; throw D; end
             if c() then x := 2; throw E; end
           catch (a: A) f(x);
           catch (b: B) f(x);
           end
           if c() then x := 3; throw B; end
         catch (b: B) f(x);
         catch (c: C) f(x);
         catch (d: D) f(x);
         end
         if c() then x := 4; throw B; end
       catch (b: B) f(x);
       catch (e: E) f(x);
       finally f(x);
       end"
         , "var x;
       try
         try
           try
             x := 1;
             if c() then x := 2; throw A; end
             if c() then x := 2; throw B; end
             if c() then x := 2; throw C; end
             if c() then x := 2; throw D; end
             if c() then x := 2; throw E; end
           catch (a: A) f(2);
           catch (b: B) f(2);
           end
           if c() then x := 3; throw B; end
         catch (b: B) f(3);
         catch (c: C) f(2);
         catch (d: D) f(2);
         end
         if c() then x := 4; throw B; end
       catch (b: B) f(4);
       catch (e: E) f(2);
       finally f(x);
       end"
         ))
    ; s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "1009,4,1264,5")
    ; (s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "1009,4,1056,5")
       ; apply-propconst-test(
           s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "1009,25,1009,45")
           ; !"Exception test #15"
         | "var x;
       try
         try
           try
             x := 1;
             if c() then x := 2; throw A; end
             if c() then x := 2; throw B; end
             if c() then x := 2; throw C; end
             if c() then x := 2; throw D; end
             if c() then x := 2; throw E; end
           catch (a: A) f(x);
           catch (b: B) f(x);
           finally f(x); if c() then x := 3; throw B; end
           end
         catch (b: B) f(x);
         catch (c: C) f(x);
         catch (d: D) f(x);
         end
         if c() then x := 4; throw B; end
       catch (b: B) f(x);
       catch (e: E) f(x);
       finally f(x);
       end"
         , "var x;
       try
         try
           try
             x := 1;
             if c() then x := 2; throw A; end
             if c() then x := 2; throw B; end
             if c() then x := 2; throw C; end
             if c() then x := 2; throw D; end
             if c() then x := 2; throw E; end
           catch (a: A) f(2);
           catch (b: B) f(2);
           finally f(x); if c() then x := 3; throw B; end
           end
         catch (b: B) f(3);
         catch (c: C) f(x);
         catch (d: D) f(x);
         end
         if c() then x := 4; throw B; end
       catch (b: B) f(4);
       catch (e: E) f(x);
       finally f(x);
       end"
         ))
    ; s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "1058,4,1264,5")
    ; (s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "1058,4,1105,5")
       ; apply-propconst-test(
           s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "1058,25,1058,45")
           ; !"Exception test #16"
         | "var x;
       try
         try
           try
             x := 1;
             if c() then x := 2; throw A; end
             if c() then x := 2; throw B; end
             if c() then x := 2; throw C; end
             if c() then x := 2; throw D; end
             if c() then x := 2; throw E; end
           catch (a: A) f(x);
           catch (b: B) f(x);
           finally f(x); if c() then x := 3; throw B; end x := 4;
           end
         catch (b: B) f(x);
         catch (c: C) f(x);
         catch (d: D) f(x);
         finally f(x); if c() then x := 4; throw B; end
         end
       catch (b: B) f(x);
       catch (e: E) f(x);
       finally f(x);
       end"
         , "var x;
       try
         try
           try
             x := 1;
             if c() then x := 2; throw A; end
             if c() then x := 2; throw B; end
             if c() then x := 2; throw C; end
             if c() then x := 2; throw D; end
             if c() then x := 2; throw E; end
           catch (a: A) f(2);
           catch (b: B) f(2);
           finally f(x); if c() then x := 3; throw B; end x := 4;
           end
         catch (b: B) f(3);
         catch (c: C) f(4);
         catch (d: D) f(4);
         finally f(x); if c() then x := 4; throw B; end
         end
       catch (b: B) f(4);
       catch (e: E) f(x);
       finally f(x);
       end"
         ))
    ; s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "1107,4,1264,5")
    ; (s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "1107,4,1154,5")
       ; apply-propconst-test(
           s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "1107,25,1107,45")
           ; !"Exception test #17"
         | "var x;
       try
         try
           try
             x := 1;
             if c() then x := 2; throw A; end
             if c() then x := 2; throw B; end
             if c() then x := 2; throw C; end
             if c() then x := 2; throw D; end
             if c() then x := 2; throw E; end
           catch (a: A) f(x);
           catch (b: B) f(x);
           finally f(x); if c() then x := 3; throw B; end x := 4;
           end
         catch (b: B) f(x);
         catch (c: C) f(x);
         catch (d: D) f(x);
         end
         if c() then x := 4; throw B; end
       catch (b: B) f(x);
       catch (e: E) f(x);
       finally f(x);
       end"
         , "var x;
       try
         try
           try
             x := 1;
             if c() then x := 2; throw A; end
             if c() then x := 2; throw B; end
             if c() then x := 2; throw C; end
             if c() then x := 2; throw D; end
             if c() then x := 2; throw E; end
           catch (a: A) f(2);
           catch (b: B) f(2);
           finally f(x); if c() then x := 3; throw B; end x := 4;
           end
         catch (b: B) f(3);
         catch (c: C) f(4);
         catch (d: D) f(4);
         end
         if c() then x := 4; throw B; end
       catch (b: B) f(4);
       catch (e: E) f(4);
       finally f(x);
       end"
         ))
    ; s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "1156,4,1264,5")
    ; (s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "1156,4,1209,5")
       ; apply-propconst-test(
           s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "1156,25,1156,45")
           ; !"Exception test #18"
         | "var x;
       try
         try
           try
             x := 1;
             if c() then x := 2; throw A; else x := 2; throw A; end
             if c() then x := 2; throw B; else x := 2; throw B; end
             if c() then x := 2; throw C; end
             if c() then x := 2; throw D; end
             if c() then x := 2; throw E; end
           catch (a: A) f(x);
           catch (b: B) f(x);
           end
           if c() then x := 3; throw B; end
           if c() then x := 2; throw C; end
           if c() then x := 2; throw D; end
         catch (b: B) f(x);
         catch (c: C) f(x);
         catch (d: D) f(x);
         end
         if c() then x := 4; throw B; end
         if c() then x := 2; throw E; end
       catch (b: B) f(x);
       catch (e: E) f(x);
       finally f(x);
       end"
         , "var x;
       try
         try
           try
             x := 1;
             if c() then x := 2; throw A; else x := 2; throw A; end
             if c() then x := 2; throw B; else x := 2; throw B; end
             if c() then x := 2; throw C; end
             if c() then x := 2; throw D; end
             if c() then x := 2; throw E; end
           catch (a: A) f(2);
           catch (b: B) f(2);
           end
           if c() then x := 3; throw B; end
           if c() then x := 2; throw C; end
           if c() then x := 2; throw D; end
         catch (b: B) f(3);
         catch (c: C) f(2);
         catch (d: D) f(2);
         end
         if c() then x := 4; throw B; end
         if c() then x := 2; throw E; end
       catch (b: B) f(4);
       catch (e: E) f(2);
       finally f(x);
       end"
         ))
    ; s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "1211,4,1264,5")
    ; apply-propconst-test(
        s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "1211,25,1211,45")
        ; !"Exception test #19"
      | "var x;
       try
         try
           try
             x := 1;
             if c() then x := 2; throw A; else x := 3; throw A; end
             if c() then x := 2; throw B; else x := 3; throw B; end
             if c() then x := 2; throw C; end
             if c() then x := 2; throw D; end
             if c() then x := 2; throw E; end
           catch (a: A) f(x);
           catch (b: B) f(x);
           end
           if c() then x := 3; throw B; end
           if c() then x := 3; throw C; end
           if c() then x := 3; throw D; end
         catch (b: B) f(x);
         catch (c: C) f(x);
         catch (d: D) f(x);
         end
         if c() then x := 4; throw B; end
         if c() then x := 3; throw E; end
       catch (b: B) f(x);
       catch (e: E) f(x);
       finally f(x);
       end"
      , "var x;
       try
         try
           try
             x := 1;
             if c() then x := 2; throw A; else x := 3; throw A; end
             if c() then x := 2; throw B; else x := 3; throw B; end
             if c() then x := 2; throw C; end
             if c() then x := 2; throw D; end
             if c() then x := 2; throw E; end
           catch (a: A) f(x);
           catch (b: B) f(x);
           end
           if c() then x := 3; throw B; end
           if c() then x := 3; throw C; end
           if c() then x := 3; throw D; end
         catch (b: B) f(3);
         catch (c: C) f(x);
         catch (d: D) f(x);
         end
         if c() then x := 4; throw B; end
         if c() then x := 3; throw E; end
       catch (b: B) f(4);
       catch (e: E) f(x);
       finally f(x);
       end"
      )
    < s-exit(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "pc-exception-tests-fin", "603,2,1264,5")
    + s-exit(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "pc-exception-tests-fin", "603,2,1264,5")
      ; fail

  pc-exception-tests-loop =
    s-enter(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "pc-exception-tests-loop", "1266,2,1537,5")
    ; s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "1266,28,1537,5")
    ; (s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "1266,28,1266,29") ; id)
    ; s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "1268,4,1537,5")
    ; (s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "1268,4,1293,5")
       ; apply-propconst-test(
           s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "1268,25,1268,45")
           ; !"Exception test #20"
         | "var x; x := 1;
       while c() do
         try
           if c() then x := 2; throw E; end
           if c() then x := 3; throw F; end
         catch (e: E)
           f(x); x := 1;
         catch (f: F)
           f(x); x := 1;
         end
       end
       f(x);"
         , "var x; x := 1;
       while c() do
         try
           if c() then x := 2; throw E; end
           if c() then x := 3; throw F; end
         catch (e: E)
           f(2); x := 1;
         catch (f: F)
           f(3); x := 1;
         end
       end
       f(1);"
         ))
    ; s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "1295,4,1537,5")
    ; (s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "1295,4,1316,5")
       ; apply-propconst-test(
           s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "1295,25,1295,45")
           ; !"Exception test #21"
         | "var x; x := 1;
       while c() do
         try
           if c() then throw E; end
           x := 2;
         catch (e: E)
           f(x); x := 1;
         end
       end
       f(x);"
         , "var x; x := 1;
       while c() do
         try
           if c() then throw E; end
           x := 2;
         catch (e: E)
           f(x); x := 1;
         end
       end
       f(x);"
         ))
    ; s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "1318,4,1537,5")
    ; (s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "1318,4,1341,5")
       ; apply-propconst-test(
           s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "1318,25,1318,45")
           ; !"Exception test #22"
         | "var x; x := 2;
       try
         while c() do
           if c() then x := 1; throw E; end
           x := 2;
         end
         f(x);
       catch (e: E)
         f(x); x := 2;
       end
       f(x);"
         , "var x; x := 2;
       try
         while c() do
           if c() then x := 1; throw E; end
           x := 2;
         end
         f(2);
       catch (e: E)
         f(1); x := 2;
       end
       f(2);"
         ))
    ; s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "1343,4,1537,5")
    ; (s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "1343,4,1366,5")
       ; apply-propconst-test(
           s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "1343,25,1343,45")
           ; !"Exception test #23"
         | "var x; x := 1;
       try
         while c() do
           if c() then throw E; end
           x := 2;
         end
         f(x);
       catch (e: E)
         f(x); x := 1;
       end
       f(x);"
         , "var x; x := 1;
       try
         while c() do
           if c() then throw E; end
           x := 2;
         end
         f(x);
       catch (e: E)
         f(x); x := 1;
       end
       f(x);"
         ))
    ; s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "1368,4,1537,5")
    ; (s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "1368,4,1393,5")
       ; apply-propconst-test(
           s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "1368,25,1368,45")
           ; !"Exception test #24"
         | "var x; x := 1;
       try
         while c() do
           if c() then x := 1; throw E; end
           if c() then x := 1; throw E; end
           x := 2;
         end
         f(x);
       catch (e: E)
         f(x); x := 1;
       end
       f(x);"
         , "var x; x := 1;
       try
         while c() do
           if c() then x := 1; throw E; end
           if c() then x := 1; throw E; end
           x := 2;
         end
         f(x);
       catch (e: E)
         f(1); x := 1;
       end
       f(x);"
         ))
    ; s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "1395,4,1537,5")
    ; (s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "1395,4,1420,5")
       ; apply-propconst-test(
           s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "1395,25,1395,45")
           ; !"Exception test #25"
         | "var x; x := 1;
       try
         while c() do
           if c() then x := 1; throw E; end
           if c() then throw E; end
           x := 2;
         end
         f(x);
       catch (e: E)
         f(x); x := 1;
       end
       f(x);"
         , "var x; x := 1;
       try
         while c() do
           if c() then x := 1; throw E; end
           if c() then throw E; end
           x := 2;
         end
         f(x);
       catch (e: E)
         f(x); x := 1;
       end
       f(x);"
         ))
    ; s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "1422,4,1537,5")
    ; (s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "1422,4,1459,5")
       ; apply-propconst-test(
           s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "1422,25,1422,45")
           ; !"Exception test #26"
         | "var x; x := 1;
       try
         if c() then x := 2; throw E; end
         while c() do
           try
             if c() then x := 2; throw E; end
             if c() then x := 1; throw A; end
             if c() then x := 1; throw B; end
             if c() then x := 2; throw A; end
           catch (a: A) f(x); x := 1;
           catch (b: B) f(x); x := 1;
           finally f(x); x := 2;
           end
         end
         f(x);
       catch (e: E) f(x);
       end
       f(x);"
         , "var x; x := 1;
       try
         if c() then x := 2; throw E; end
         while c() do
           try
             if c() then x := 2; throw E; end
             if c() then x := 1; throw A; end
             if c() then x := 1; throw B; end
             if c() then x := 2; throw A; end
           catch (a: A) f(x); x := 1;
           catch (b: B) f(1); x := 1;
           finally f(x); x := 2;
           end
         end
         f(x);
       catch (e: E) f(2);
       end
       f(x);"
         ))
    ; s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "1461,4,1537,5")
    ; (s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "1461,4,1498,5")
       ; apply-propconst-test(
           s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "1461,25,1461,45")
           ; !"Exception test #27"
         | "var x; x := 1;
       try
         if c() then x := 2; throw E; end
         while c() do
           try
             if c() then x := 2; throw E; end
             if c() then x := 1; throw A; end
             if c() then x := 1; throw B; end
             if c() then x := 2; throw A; end
           catch (a: A) f(x); x := 1;
           catch (b: B) f(x); x := 1;
           finally f(x); x := 1;
           end
         end
         f(x);
       catch (e: E) f(x); x := 1;
       end
       f(x);"
         , "var x; x := 1;
       try
         if c() then x := 2; throw E; end
         while c() do
           try
             if c() then x := 2; throw E; end
             if c() then x := 1; throw A; end
             if c() then x := 1; throw B; end
             if c() then x := 2; throw A; end
           catch (a: A) f(x); x := 1;
           catch (b: B) f(1); x := 1;
           finally f(x); x := 1;
           end
         end
         f(1);
       catch (e: E) f(x); x := 1;
       end
       f(1);"
         ))
    ; s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "1500,4,1537,5")
    ; apply-propconst-test(
        s-step(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "1500,25,1500,45")
        ; !"Exception test #28"
      | "var x; x := 1;
       try
         if c() then x := 2; throw E; end
         while c() do
           try
             if c() then x := 1; throw E; end
             if c() then x := 1; throw A; end
             if c() then x := 1; throw B; end
             if c() then x := 1; throw A; end
           catch (a: A) f(x); x := 2;
           catch (b: B) f(x); x := 1;
           finally f(x); x := 1;
           end
         end
         f(x);
       catch (e: E) f(x); x := 1;
       end
       f(x);"
      , "var x; x := 1;
       try
         if c() then x := 2; throw E; end
         while c() do
           try
             if c() then x := 1; throw E; end
             if c() then x := 1; throw A; end
             if c() then x := 1; throw B; end
             if c() then x := 1; throw A; end
           catch (a: A) f(1); x := 2;
           catch (b: B) f(1); x := 1;
           finally f(x); x := 1;
           end
         end
         f(1);
       catch (e: E) f(x); x := 1;
       end
       f(1);"
      )
    < s-exit(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "pc-exception-tests-loop", "1266,2,1537,5")
    + s-exit(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/dr-propconst-tests-2.str", "pc-exception-tests-loop", "1266,2,1537,5")
      ; fail