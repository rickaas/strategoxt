module til-typecheck-exp

imports
  org.strategoxt.imp.debuggers.stratego.runtime


imports
  TIL


strategies
  typecheck-exp(typecheck-var) =
    s-enter(
    | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
    , "typecheck-exp"
    , "5"
    , "2"
    , "11"
    , "5"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
      , "6"
      , "4"
      , "11"
      , "5"
      )
    ; bottomup(
        s-step(
        | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
        , "6"
        , "13"
        , "11"
        , "4"
        )
        ; try(
            s-step(
            | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
            , "7"
            , "6"
            , "10"
            , "56"
            )
            ; (s-step(
               | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
               , "7"
               , "6"
               , "7"
               , "18"
               )
               ; typecheck-var
               <+ s-step(
                  | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                  , "7"
                  , "23"
                  , "10"
                  , "56"
                  )
                  ; (s-step(
                     | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                     , "7"
                     , "23"
                     , "7"
                     , "34"
                     )
                     ; TypecheckAdd
                     <+ s-step(
                        | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                        , "7"
                        , "39"
                        , "10"
                        , "56"
                        )
                        ; (s-step(
                           | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                           , "7"
                           , "39"
                           , "7"
                           , "50"
                           )
                           ; TypecheckMul
                           <+ s-step(
                              | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                              , "7"
                              , "55"
                              , "10"
                              , "56"
                              )
                              ; (s-step(
                                 | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                                 , "7"
                                 , "55"
                                 , "7"
                                 , "66"
                                 )
                                 ; TypecheckSub
                                 <+ s-step(
                                    | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                                    , "7"
                                    , "71"
                                    , "10"
                                    , "56"
                                    )
                                    ; (s-step(
                                       | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                                       , "7"
                                       , "71"
                                       , "7"
                                       , "82"
                                       )
                                       ; TypecheckDiv
                                       <+ s-step(
                                          | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                                          , "7"
                                          , "87"
                                          , "10"
                                          , "56"
                                          )
                                          ; (s-step(
                                             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                                             , "7"
                                             , "87"
                                             , "7"
                                             , "98"
                                             )
                                             ; TypecheckMod
                                             <+ s-step(
                                                | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                                                , "8"
                                                , "9"
                                                , "10"
                                                , "56"
                                                )
                                                ; (s-step(
                                                   | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                                                   , "8"
                                                   , "9"
                                                   , "8"
                                                   , "20"
                                                   )
                                                   ; TypecheckLeq
                                                   <+ s-step(
                                                      | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                                                      , "8"
                                                      , "25"
                                                      , "10"
                                                      , "56"
                                                      )
                                                      ; (s-step(
                                                         | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                                                         , "8"
                                                         , "25"
                                                         , "8"
                                                         , "36"
                                                         )
                                                         ; TypecheckGeq
                                                         <+ s-step(
                                                            | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                                                            , "8"
                                                            , "41"
                                                            , "10"
                                                            , "56"
                                                            )
                                                            ; (s-step(
                                                               | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                                                               , "8"
                                                               , "41"
                                                               , "8"
                                                               , "51"
                                                               )
                                                               ; TypecheckLt
                                                               <+ s-step(
                                                                  | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                                                                  , "8"
                                                                  , "56"
                                                                  , "10"
                                                                  , "56"
                                                                  )
                                                                  ; (s-step(
                                                                     | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                                                                     , "8"
                                                                     , "56"
                                                                     , "8"
                                                                     , "66"
                                                                     )
                                                                     ; TypecheckGt
                                                                     <+ s-step(
                                                                        | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                                                                        , "8"
                                                                        , "71"
                                                                        , "10"
                                                                        , "56"
                                                                        )
                                                                        ; (s-step(
                                                                           | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                                                                           , "8"
                                                                           , "71"
                                                                           , "8"
                                                                           , "82"
                                                                           )
                                                                           ; TypecheckEqu
                                                                           <+ s-step(
                                                                              | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                                                                              , "8"
                                                                              , "87"
                                                                              , "10"
                                                                              , "56"
                                                                              )
                                                                              ; (s-step(
                                                                                 | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                                                                                 , "8"
                                                                                 , "87"
                                                                                 , "8"
                                                                                 , "98"
                                                                                 )
                                                                                 ; TypecheckNeq
                                                                                 <+ s-step(
                                                                                    | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                                                                                    , "9"
                                                                                    , "9"
                                                                                    , "10"
                                                                                    , "56"
                                                                                    )
                                                                                    ; (s-step(
                                                                                       | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                                                                                       , "9"
                                                                                       , "9"
                                                                                       , "9"
                                                                                       , "19"
                                                                                       )
                                                                                       ; TypecheckOr
                                                                                       <+ s-step(
                                                                                          | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                                                                                          , "9"
                                                                                          , "24"
                                                                                          , "10"
                                                                                          , "56"
                                                                                          )
                                                                                          ; (s-step(
                                                                                             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                                                                                             , "9"
                                                                                             , "24"
                                                                                             , "9"
                                                                                             , "35"
                                                                                             )
                                                                                             ; TypecheckAnd
                                                                                             <+ s-step(
                                                                                                | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                                                                                                , "10"
                                                                                                , "9"
                                                                                                , "10"
                                                                                                , "56"
                                                                                                )
                                                                                                ; (s-step(
                                                                                                   | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                                                                                                   , "10"
                                                                                                   , "9"
                                                                                                   , "10"
                                                                                                   , "20"
                                                                                                   )
                                                                                                   ; TypecheckInt
                                                                                                   <+ s-step(
                                                                                                      | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                                                                                                      , "10"
                                                                                                      , "25"
                                                                                                      , "10"
                                                                                                      , "56"
                                                                                                      )
                                                                                                      ; (s-step(
                                                                                                         | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                                                                                                         , "10"
                                                                                                         , "25"
                                                                                                         , "10"
                                                                                                         , "39"
                                                                                                         )
                                                                                                         ; TypecheckString
                                                                                                         <+ s-step(
                                                                                                            | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                                                                                                            , "10"
                                                                                                            , "44"
                                                                                                            , "10"
                                                                                                            , "56"
                                                                                                            )
                                                                                                            ; TypecheckBool))))))))))))))))
          )
      )
    < s-exit(
      | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
      , "typecheck-exp"
      , "5"
      , "2"
      , "11"
      , "5"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
      , "typecheck-exp"
      , "5"
      , "2"
      , "11"
      , "5"
      )
      ; fail


rules

  typeof :
    e{t*} -> <r-exit(
              | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
              , "typeof"
              , "15"
              , "2"
              , "17"
              , "38"
              )> t
    where r-enter(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str", "typeof", "15,2,17,38")
          <+ r-exit(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "typeof"
             , "15"
             , "2"
             , "17"
             , "38"
             )
             ; fail
    where s-step(
          | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
          , "17"
          , "10"
          , "17"
          , "38"
          )
          ; (s-step(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "17"
             , "10"
             , "17"
             , "33"
             )
             ; <(s-step(
                 | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                 , "17"
                 , "11"
                 , "17"
                 , "29"
                 )
                 ; fetch-elem(
                     s-step(
                     | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                     , "17"
                     , "22"
                     , "17"
                     , "28"
                     )
                     ; is-type
                   ))> t*) => t
          <+ r-exit(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "typeof"
             , "15"
             , "2"
             , "17"
             , "38"
             )
             ; fail

  is-type =
    s-enter(
    | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
    , "is-type"
    , "19"
    , "2"
    , "20"
    , "15"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
      , "20"
      , "4"
      , "20"
      , "15"
      )
    ; ?TypeName(_)
    < s-exit(
      | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
      , "is-type"
      , "19"
      , "2"
      , "20"
      , "15"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
      , "is-type"
      , "19"
      , "2"
      , "20"
      , "15"
      )
      ; fail

  TypecheckInt :
    Int(i) -> <r-exit(
               | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
               , "TypecheckInt"
               , "22"
               , "2"
               , "23"
               , "36"
               )> Int(i){TypeName("int")}
    where r-enter(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str", "TypecheckInt", "22,2,23,36")
          <+ r-exit(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "TypecheckInt"
             , "22"
             , "2"
             , "23"
             , "36"
             )
             ; fail

  TypecheckString :
    String(x) -> <r-exit(
                  | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                  , "TypecheckString"
                  , "25"
                  , "2"
                  , "26"
                  , "45"
                  )> String(x){TypeName("string")}
    where r-enter(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str", "TypecheckString", "25,2,26,45")
          <+ r-exit(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "TypecheckString"
             , "25"
             , "2"
             , "26"
             , "45"
             )
             ; fail

  TypecheckBool :
    True() -> <r-exit(
               | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
               , "TypecheckBool"
               , "28"
               , "2"
               , "29"
               , "37"
               )> True(){TypeName("bool")}
    where r-enter(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str", "TypecheckBool", "28,2,29,37")
          <+ r-exit(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "TypecheckBool"
             , "28"
             , "2"
             , "29"
             , "37"
             )
             ; fail

  TypecheckBool :
    False() -> <r-exit(
                | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                , "TypecheckBool"
                , "31"
                , "2"
                , "32"
                , "39"
                )> False(){TypeName("bool")}
    where r-enter(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str", "TypecheckBool", "31,2,32,39")
          <+ r-exit(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "TypecheckBool"
             , "31"
             , "2"
             , "32"
             , "39"
             )
             ; fail

  TypecheckAdd :
    Add(e1, e2) -> <r-exit(
                    | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                    , "TypecheckAdd"
                    , "34"
                    , "2"
                    , "37"
                    , "42"
                    )> Add(e1, e2){TypeName("string")}
    where r-enter(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str", "TypecheckAdd", "34,2,37,42")
          <+ r-exit(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "TypecheckAdd"
             , "34"
             , "2"
             , "37"
             , "42"
             )
             ; fail
    where s-step(
          | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
          , "36"
          , "10"
          , "37"
          , "42"
          )
          ; (s-step(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "36"
             , "10"
             , "36"
             , "42"
             )
             ; (s-step(
                | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                , "36"
                , "10"
                , "36"
                , "20"
                )
                ; <(s-step(
                    | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                    , "36"
                    , "11"
                    , "36"
                    , "16"
                    )
                    ; typeof)> e1) => TypeName("string"))
          ; s-step(
            | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
            , "37"
            , "10"
            , "37"
            , "42"
            )
          ; (s-step(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "37"
             , "10"
             , "37"
             , "20"
             )
             ; <(s-step(
                 | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                 , "37"
                 , "11"
                 , "37"
                 , "16"
                 )
                 ; typeof)> e2) => TypeName("string")
          <+ r-exit(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "TypecheckAdd"
             , "34"
             , "2"
             , "37"
             , "42"
             )
             ; fail

  TypecheckAdd :
    Add(e1, e2) -> <r-exit(
                    | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                    , "TypecheckAdd"
                    , "39"
                    , "2"
                    , "42"
                    , "39"
                    )> Add(e1, e2){TypeName("int")}
    where r-enter(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str", "TypecheckAdd", "39,2,42,39")
          <+ r-exit(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "TypecheckAdd"
             , "39"
             , "2"
             , "42"
             , "39"
             )
             ; fail
    where s-step(
          | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
          , "41"
          , "10"
          , "42"
          , "39"
          )
          ; (s-step(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "41"
             , "10"
             , "41"
             , "39"
             )
             ; (s-step(
                | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                , "41"
                , "10"
                , "41"
                , "20"
                )
                ; <(s-step(
                    | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                    , "41"
                    , "11"
                    , "41"
                    , "16"
                    )
                    ; typeof)> e1) => TypeName("int"))
          ; s-step(
            | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
            , "42"
            , "10"
            , "42"
            , "39"
            )
          ; (s-step(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "42"
             , "10"
             , "42"
             , "20"
             )
             ; <(s-step(
                 | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                 , "42"
                 , "11"
                 , "42"
                 , "16"
                 )
                 ; typeof)> e2) => TypeName("int")
          <+ r-exit(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "TypecheckAdd"
             , "39"
             , "2"
             , "42"
             , "39"
             )
             ; fail

  TypecheckMul :
    Mul(e1, e2) -> <r-exit(
                    | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                    , "TypecheckMul"
                    , "44"
                    , "2"
                    , "47"
                    , "39"
                    )> Mul(e1, e2){TypeName("int")}
    where r-enter(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str", "TypecheckMul", "44,2,47,39")
          <+ r-exit(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "TypecheckMul"
             , "44"
             , "2"
             , "47"
             , "39"
             )
             ; fail
    where s-step(
          | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
          , "46"
          , "10"
          , "47"
          , "39"
          )
          ; (s-step(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "46"
             , "10"
             , "46"
             , "39"
             )
             ; (s-step(
                | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                , "46"
                , "10"
                , "46"
                , "20"
                )
                ; <(s-step(
                    | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                    , "46"
                    , "11"
                    , "46"
                    , "16"
                    )
                    ; typeof)> e1) => TypeName("int"))
          ; s-step(
            | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
            , "47"
            , "10"
            , "47"
            , "39"
            )
          ; (s-step(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "47"
             , "10"
             , "47"
             , "20"
             )
             ; <(s-step(
                 | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                 , "47"
                 , "11"
                 , "47"
                 , "16"
                 )
                 ; typeof)> e2) => TypeName("int")
          <+ r-exit(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "TypecheckMul"
             , "44"
             , "2"
             , "47"
             , "39"
             )
             ; fail

  TypecheckSub :
    Sub(e1, e2) -> <r-exit(
                    | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                    , "TypecheckSub"
                    , "49"
                    , "2"
                    , "52"
                    , "39"
                    )> Sub(e1, e2){TypeName("int")}
    where r-enter(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str", "TypecheckSub", "49,2,52,39")
          <+ r-exit(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "TypecheckSub"
             , "49"
             , "2"
             , "52"
             , "39"
             )
             ; fail
    where s-step(
          | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
          , "51"
          , "10"
          , "52"
          , "39"
          )
          ; (s-step(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "51"
             , "10"
             , "51"
             , "39"
             )
             ; (s-step(
                | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                , "51"
                , "10"
                , "51"
                , "20"
                )
                ; <(s-step(
                    | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                    , "51"
                    , "11"
                    , "51"
                    , "16"
                    )
                    ; typeof)> e1) => TypeName("int"))
          ; s-step(
            | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
            , "52"
            , "10"
            , "52"
            , "39"
            )
          ; (s-step(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "52"
             , "10"
             , "52"
             , "20"
             )
             ; <(s-step(
                 | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                 , "52"
                 , "11"
                 , "52"
                 , "16"
                 )
                 ; typeof)> e2) => TypeName("int")
          <+ r-exit(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "TypecheckSub"
             , "49"
             , "2"
             , "52"
             , "39"
             )
             ; fail

  TypecheckDiv :
    Div(e1, e2) -> <r-exit(
                    | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                    , "TypecheckDiv"
                    , "54"
                    , "2"
                    , "57"
                    , "39"
                    )> Div(e1, e2){TypeName("int")}
    where r-enter(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str", "TypecheckDiv", "54,2,57,39")
          <+ r-exit(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "TypecheckDiv"
             , "54"
             , "2"
             , "57"
             , "39"
             )
             ; fail
    where s-step(
          | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
          , "56"
          , "10"
          , "57"
          , "39"
          )
          ; (s-step(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "56"
             , "10"
             , "56"
             , "39"
             )
             ; (s-step(
                | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                , "56"
                , "10"
                , "56"
                , "20"
                )
                ; <(s-step(
                    | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                    , "56"
                    , "11"
                    , "56"
                    , "16"
                    )
                    ; typeof)> e1) => TypeName("int"))
          ; s-step(
            | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
            , "57"
            , "10"
            , "57"
            , "39"
            )
          ; (s-step(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "57"
             , "10"
             , "57"
             , "20"
             )
             ; <(s-step(
                 | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                 , "57"
                 , "11"
                 , "57"
                 , "16"
                 )
                 ; typeof)> e2) => TypeName("int")
          <+ r-exit(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "TypecheckDiv"
             , "54"
             , "2"
             , "57"
             , "39"
             )
             ; fail

  TypecheckMod :
    Mod(e1, e2) -> <r-exit(
                    | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                    , "TypecheckMod"
                    , "59"
                    , "2"
                    , "62"
                    , "39"
                    )> Mod(e1, e2){TypeName("int")}
    where r-enter(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str", "TypecheckMod", "59,2,62,39")
          <+ r-exit(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "TypecheckMod"
             , "59"
             , "2"
             , "62"
             , "39"
             )
             ; fail
    where s-step(
          | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
          , "61"
          , "10"
          , "62"
          , "39"
          )
          ; (s-step(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "61"
             , "10"
             , "61"
             , "39"
             )
             ; (s-step(
                | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                , "61"
                , "10"
                , "61"
                , "20"
                )
                ; <(s-step(
                    | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                    , "61"
                    , "11"
                    , "61"
                    , "16"
                    )
                    ; typeof)> e1) => TypeName("int"))
          ; s-step(
            | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
            , "62"
            , "10"
            , "62"
            , "39"
            )
          ; (s-step(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "62"
             , "10"
             , "62"
             , "20"
             )
             ; <(s-step(
                 | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                 , "62"
                 , "11"
                 , "62"
                 , "16"
                 )
                 ; typeof)> e2) => TypeName("int")
          <+ r-exit(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "TypecheckMod"
             , "59"
             , "2"
             , "62"
             , "39"
             )
             ; fail

  TypecheckLt :
    Lt(e1, e2) -> <r-exit(
                   | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                   , "TypecheckLt"
                   , "64"
                   , "2"
                   , "67"
                   , "39"
                   )> Lt(e1, e2){TypeName("bool")}
    where r-enter(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str", "TypecheckLt", "64,2,67,39")
          <+ r-exit(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "TypecheckLt"
             , "64"
             , "2"
             , "67"
             , "39"
             )
             ; fail
    where s-step(
          | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
          , "66"
          , "10"
          , "67"
          , "39"
          )
          ; (s-step(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "66"
             , "10"
             , "66"
             , "39"
             )
             ; (s-step(
                | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                , "66"
                , "10"
                , "66"
                , "20"
                )
                ; <(s-step(
                    | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                    , "66"
                    , "11"
                    , "66"
                    , "16"
                    )
                    ; typeof)> e1) => TypeName("int"))
          ; s-step(
            | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
            , "67"
            , "10"
            , "67"
            , "39"
            )
          ; (s-step(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "67"
             , "10"
             , "67"
             , "20"
             )
             ; <(s-step(
                 | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                 , "67"
                 , "11"
                 , "67"
                 , "16"
                 )
                 ; typeof)> e2) => TypeName("int")
          <+ r-exit(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "TypecheckLt"
             , "64"
             , "2"
             , "67"
             , "39"
             )
             ; fail

  TypecheckGt :
    Gt(e1, e2) -> <r-exit(
                   | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                   , "TypecheckGt"
                   , "69"
                   , "2"
                   , "72"
                   , "39"
                   )> Gt(e1, e2){TypeName("bool")}
    where r-enter(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str", "TypecheckGt", "69,2,72,39")
          <+ r-exit(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "TypecheckGt"
             , "69"
             , "2"
             , "72"
             , "39"
             )
             ; fail
    where s-step(
          | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
          , "71"
          , "10"
          , "72"
          , "39"
          )
          ; (s-step(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "71"
             , "10"
             , "71"
             , "39"
             )
             ; (s-step(
                | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                , "71"
                , "10"
                , "71"
                , "20"
                )
                ; <(s-step(
                    | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                    , "71"
                    , "11"
                    , "71"
                    , "16"
                    )
                    ; typeof)> e1) => TypeName("int"))
          ; s-step(
            | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
            , "72"
            , "10"
            , "72"
            , "39"
            )
          ; (s-step(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "72"
             , "10"
             , "72"
             , "20"
             )
             ; <(s-step(
                 | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                 , "72"
                 , "11"
                 , "72"
                 , "16"
                 )
                 ; typeof)> e2) => TypeName("int")
          <+ r-exit(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "TypecheckGt"
             , "69"
             , "2"
             , "72"
             , "39"
             )
             ; fail

  TypecheckLeq :
    Leq(e1, e2) -> <r-exit(
                    | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                    , "TypecheckLeq"
                    , "74"
                    , "2"
                    , "77"
                    , "39"
                    )> Leq(e1, e2){TypeName("bool")}
    where r-enter(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str", "TypecheckLeq", "74,2,77,39")
          <+ r-exit(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "TypecheckLeq"
             , "74"
             , "2"
             , "77"
             , "39"
             )
             ; fail
    where s-step(
          | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
          , "76"
          , "10"
          , "77"
          , "39"
          )
          ; (s-step(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "76"
             , "10"
             , "76"
             , "39"
             )
             ; (s-step(
                | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                , "76"
                , "10"
                , "76"
                , "20"
                )
                ; <(s-step(
                    | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                    , "76"
                    , "11"
                    , "76"
                    , "16"
                    )
                    ; typeof)> e1) => TypeName("int"))
          ; s-step(
            | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
            , "77"
            , "10"
            , "77"
            , "39"
            )
          ; (s-step(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "77"
             , "10"
             , "77"
             , "20"
             )
             ; <(s-step(
                 | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                 , "77"
                 , "11"
                 , "77"
                 , "16"
                 )
                 ; typeof)> e2) => TypeName("int")
          <+ r-exit(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "TypecheckLeq"
             , "74"
             , "2"
             , "77"
             , "39"
             )
             ; fail

  TypecheckGeq :
    Geq(e1, e2) -> <r-exit(
                    | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                    , "TypecheckGeq"
                    , "79"
                    , "2"
                    , "82"
                    , "39"
                    )> Geq(e1, e2){TypeName("bool")}
    where r-enter(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str", "TypecheckGeq", "79,2,82,39")
          <+ r-exit(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "TypecheckGeq"
             , "79"
             , "2"
             , "82"
             , "39"
             )
             ; fail
    where s-step(
          | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
          , "81"
          , "10"
          , "82"
          , "39"
          )
          ; (s-step(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "81"
             , "10"
             , "81"
             , "39"
             )
             ; (s-step(
                | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                , "81"
                , "10"
                , "81"
                , "20"
                )
                ; <(s-step(
                    | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                    , "81"
                    , "11"
                    , "81"
                    , "16"
                    )
                    ; typeof)> e1) => TypeName("int"))
          ; s-step(
            | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
            , "82"
            , "10"
            , "82"
            , "39"
            )
          ; (s-step(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "82"
             , "10"
             , "82"
             , "20"
             )
             ; <(s-step(
                 | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                 , "82"
                 , "11"
                 , "82"
                 , "16"
                 )
                 ; typeof)> e2) => TypeName("int")
          <+ r-exit(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "TypecheckGeq"
             , "79"
             , "2"
             , "82"
             , "39"
             )
             ; fail

  TypecheckEqu :
    Equ(e1, e2) -> <r-exit(
                    | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                    , "TypecheckEqu"
                    , "84"
                    , "2"
                    , "87"
                    , "39"
                    )> Equ(e1, e2){TypeName("bool")}
    where r-enter(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str", "TypecheckEqu", "84,2,87,39")
          <+ r-exit(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "TypecheckEqu"
             , "84"
             , "2"
             , "87"
             , "39"
             )
             ; fail
    where s-step(
          | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
          , "86"
          , "10"
          , "87"
          , "39"
          )
          ; (s-step(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "86"
             , "10"
             , "86"
             , "39"
             )
             ; (s-step(
                | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                , "86"
                , "10"
                , "86"
                , "20"
                )
                ; <(s-step(
                    | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                    , "86"
                    , "11"
                    , "86"
                    , "16"
                    )
                    ; typeof)> e1) => TypeName("int"))
          ; s-step(
            | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
            , "87"
            , "10"
            , "87"
            , "39"
            )
          ; (s-step(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "87"
             , "10"
             , "87"
             , "20"
             )
             ; <(s-step(
                 | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                 , "87"
                 , "11"
                 , "87"
                 , "16"
                 )
                 ; typeof)> e2) => TypeName("int")
          <+ r-exit(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "TypecheckEqu"
             , "84"
             , "2"
             , "87"
             , "39"
             )
             ; fail

  TypecheckNeq :
    Neq(e1, e2) -> <r-exit(
                    | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                    , "TypecheckNeq"
                    , "89"
                    , "2"
                    , "92"
                    , "39"
                    )> Neq(e1, e2){TypeName("bool")}
    where r-enter(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str", "TypecheckNeq", "89,2,92,39")
          <+ r-exit(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "TypecheckNeq"
             , "89"
             , "2"
             , "92"
             , "39"
             )
             ; fail
    where s-step(
          | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
          , "91"
          , "10"
          , "92"
          , "39"
          )
          ; (s-step(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "91"
             , "10"
             , "91"
             , "39"
             )
             ; (s-step(
                | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                , "91"
                , "10"
                , "91"
                , "20"
                )
                ; <(s-step(
                    | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                    , "91"
                    , "11"
                    , "91"
                    , "16"
                    )
                    ; typeof)> e1) => TypeName("int"))
          ; s-step(
            | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
            , "92"
            , "10"
            , "92"
            , "39"
            )
          ; (s-step(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "92"
             , "10"
             , "92"
             , "20"
             )
             ; <(s-step(
                 | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                 , "92"
                 , "11"
                 , "92"
                 , "16"
                 )
                 ; typeof)> e2) => TypeName("int")
          <+ r-exit(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "TypecheckNeq"
             , "89"
             , "2"
             , "92"
             , "39"
             )
             ; fail

  TypecheckAnd :
    And(e1, e2) -> <r-exit(
                    | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                    , "TypecheckAnd"
                    , "94"
                    , "2"
                    , "97"
                    , "40"
                    )> And(e1, e2){TypeName("bool")}
    where r-enter(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str", "TypecheckAnd", "94,2,97,40")
          <+ r-exit(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "TypecheckAnd"
             , "94"
             , "2"
             , "97"
             , "40"
             )
             ; fail
    where s-step(
          | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
          , "96"
          , "10"
          , "97"
          , "40"
          )
          ; (s-step(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "96"
             , "10"
             , "96"
             , "40"
             )
             ; (s-step(
                | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                , "96"
                , "10"
                , "96"
                , "20"
                )
                ; <(s-step(
                    | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                    , "96"
                    , "11"
                    , "96"
                    , "16"
                    )
                    ; typeof)> e1) => TypeName("bool"))
          ; s-step(
            | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
            , "97"
            , "10"
            , "97"
            , "40"
            )
          ; (s-step(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "97"
             , "10"
             , "97"
             , "20"
             )
             ; <(s-step(
                 | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                 , "97"
                 , "11"
                 , "97"
                 , "16"
                 )
                 ; typeof)> e2) => TypeName("bool")
          <+ r-exit(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "TypecheckAnd"
             , "94"
             , "2"
             , "97"
             , "40"
             )
             ; fail

  TypecheckOr :
    Or(e1, e2) -> <r-exit(
                   | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                   , "TypecheckOr"
                   , "99"
                   , "2"
                   , "102"
                   , "40"
                   )> Or(e1, e2){TypeName("bool")}
    where r-enter(|"strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str", "TypecheckOr", "99,2,102,40")
          <+ r-exit(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "TypecheckOr"
             , "99"
             , "2"
             , "102"
             , "40"
             )
             ; fail
    where s-step(
          | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
          , "101"
          , "10"
          , "102"
          , "40"
          )
          ; (s-step(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "101"
             , "10"
             , "101"
             , "40"
             )
             ; (s-step(
                | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                , "101"
                , "10"
                , "101"
                , "20"
                )
                ; <(s-step(
                    | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                    , "101"
                    , "11"
                    , "101"
                    , "16"
                    )
                    ; typeof)> e1) => TypeName("bool"))
          ; s-step(
            | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
            , "102"
            , "10"
            , "102"
            , "40"
            )
          ; (s-step(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "102"
             , "10"
             , "102"
             , "20"
             )
             ; <(s-step(
                 | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
                 , "102"
                 , "11"
                 , "102"
                 , "16"
                 )
                 ; typeof)> e2) => TypeName("bool")
          <+ r-exit(
             | "strategoxt/stratego-libraries/lib/tests/dynamic-rules/til/tc/til-typecheck-exp.str"
             , "TypecheckOr"
             , "99"
             , "2"
             , "102"
             , "40"
             )
             ; fail