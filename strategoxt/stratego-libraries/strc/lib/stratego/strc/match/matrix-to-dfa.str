module matrix-to-dfa

imports
  org.strategoxt.imp.debuggers.stratego.runtime


imports
  stratego/strc/match/matrix
  stratego/strc/opt/stratego-laws
  stratego/strc/front/desugar
  stratego/strc/match/match-to-matrix
  stratego/strc/front/DefaultStrat


strategies
  matrix-to-dfa =
    s-enter(
    | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
    , "matrix-to-dfa"
    , "16"
    , "2"
    , "20"
    , "5"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
      , "17"
      , "4"
      , "20"
      , "5"
      )
    ; {|MatrixSeenBefore:
         s-step(
         | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
         , "18"
         , "7"
         , "19"
         , "89"
         )
         ; (s-step(
            | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
            , "18"
            , "7"
            , "18"
            , "55"
            )
            ; where(s-step(
                    | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                    , "18"
                    , "13"
                    , "18"
                    , "54"
                    )
                    ; assume-shared-terms := <s-step(
                                              | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                                              , "18"
                                              , "37"
                                              , "18"
                                              , "53"
                                              )
                                              ; AssumeSharedTerms>))
         ; s-step(
           | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
           , "19"
           , "7"
           , "19"
           , "89"
           )
         ; rec x (
             s-step(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "19"
             , "13"
             , "19"
             , "88"
             )
             ; (s-step(
                | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                , "19"
                , "13"
                , "19"
                , "80"
                )
                ; repeat(
                    s-step(
                    | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                    , "19"
                    , "20"
                    , "19"
                    , "79"
                    )
                    ; (s-step(
                       | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                       , "19"
                       , "20"
                       , "19"
                       , "32"
                       )
                       ; reduce-matrix
                       + s-step(
                         | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                         , "19"
                         , "36"
                         , "19"
                         , "79"
                         )
                         ; (s-step(
                            | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                            , "19"
                            , "36"
                            , "19"
                            , "46"
                            )
                            ; MatrixScope
                            + s-step(
                              | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                              , "19"
                              , "50"
                              , "19"
                              , "79"
                              )
                              ; Simplify(|assume-shared-terms)))
                  ))
             ; s-step(
               | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
               , "19"
               , "83"
               , "19"
               , "88"
               )
             ; all(s-step(
                   | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                   , "19"
                   , "87"
                   , "19"
                   , "87"
                   )
                   ; x)
           )
      |}
    < s-exit(
      | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
      , "matrix-to-dfa"
      , "16"
      , "2"
      , "20"
      , "5"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
      , "matrix-to-dfa"
      , "16"
      , "2"
      , "20"
      , "5"
      )
      ; fail

  reduce-matrix =
    s-enter(
    | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
    , "reduce-matrix"
    , "22"
    , "2"
    , "29"
    , "13"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
      , "24"
      , "4"
      , "29"
      , "13"
      )
    ; (s-step(
       | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
       , "24"
       , "4"
       , "24"
       , "7"
       )
       ; fail
       <+ s-step(
          | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
          , "25"
          , "7"
          , "29"
          , "13"
          )
          ; (s-step(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "25"
             , "7"
             , "25"
             , "21"
             )
             ; MatrixRowsEmpty
             <+ s-step(
                | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                , "26"
                , "7"
                , "29"
                , "13"
                )
                ; (s-step(
                   | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                   , "26"
                   , "7"
                   , "26"
                   , "14"
                   )
                   ; SkipWild
                   <+ s-step(
                      | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                      , "27"
                      , "7"
                      , "29"
                      , "13"
                      )
                      ; (s-step(
                         | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                         , "27"
                         , "7"
                         , "27"
                         , "17"
                         )
                         ; ShiftColumn
                         <+ s-step(
                            | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                            , "28"
                            , "7"
                            , "29"
                            , "13"
                            )
                            ; (s-step(
                               | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                               , "28"
                               , "7"
                               , "28"
                               , "21"
                               )
                               ; SingletonMatrix
                               <+ s-step(
                                  | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                                  , "29"
                                  , "7"
                                  , "29"
                                  , "13"
                                  )
                                  ; Mixture)))))
    < s-exit(
      | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
      , "reduce-matrix"
      , "22"
      , "2"
      , "29"
      , "13"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
      , "reduce-matrix"
      , "22"
      , "2"
      , "29"
      , "13"
      )
      ; fail


rules

  MatrixScope :
    Matrix(ps, rows) -> <r-exit(
                         | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                         , "MatrixScope"
                         , "33"
                         , "2"
                         , "36"
                         , "95"
                         )> Let(
                              sdefs
                            , Scope(
                                ps
                              , Seq(
                                  Assign(Var([0]))
                                , Matrix(rows')
                                )
                              )
                            )
    where r-enter(|"strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str", "MatrixScope", "33,2,36,95")
          <+ r-exit(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "MatrixScope"
             , "33"
             , "2"
             , "36"
             , "95"
             )
             ; fail
    where s-step(
          | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
          , "36"
          , "10"
          , "36"
          , "95"
          )
          ; (s-step(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "36"
             , "10"
             , "36"
             , "77"
             )
             ; <(s-step(
                 | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                 , "36"
                 , "11"
                 , "36"
                 , "71"
                 )
                 ; (s-step(
                    | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                    , "36"
                    , "11"
                    , "36"
                    , "58"
                    )
                    ; unzip(
                        s-step(
                        | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                        , "36"
                        , "47"
                        , "36"
                        , "57"
                        )
                        ; RowLet(|ps)
                      ))
                 ; s-step(
                   | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                   , "36"
                   , "61"
                   , "36"
                   , "71"
                   )
                 ; ( s-step(
                     | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                     , "36"
                     , "62"
                     , "36"
                     , "67"
                     )
                     ; concat
                   , s-step(
                     | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                     , "36"
                     , "69"
                     , "36"
                     , "70"
                     )
                     ; id
                   ))> rows) => (sdefs, rows')
          <+ r-exit(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "MatrixScope"
             , "33"
             , "2"
             , "36"
             , "95"
             )
             ; fail

  RowLet(|ps):
    Row(ts, s) -> <r-exit(
                   | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                   , "RowLet"
                   , "38"
                   , "2"
                   , "40"
                   , "28"
                   )> ([], Row([], ts, s))
    where r-enter(|"strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str", "RowLet", "38,2,40,28")
          <+ r-exit(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "RowLet"
             , "38"
             , "2"
             , "40"
             , "28"
             )
             ; fail
    where s-step(
          | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
          , "40"
          , "10"
          , "40"
          , "28"
          )
          ; <(s-step(
              | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
              , "40"
              , "11"
              , "40"
              , "25"
              )
              ; simple-strategy)> s
          <+ r-exit(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "RowLet"
             , "38"
             , "2"
             , "40"
             , "28"
             )
             ; fail

  RowLet(|ps):
    Row(ts1, s) -> <r-exit(
                    | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                    , "RowLet"
                    , "42"
                    , "2"
                    , "50"
                    , "25"
                    )> ( [SDefT(f, [], as, s)]
                       , Row(
                           []
                         , ts1
                         , CallT(SVar(f), [], ts2)
                         )
                       )
    where r-enter(|"strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str", "RowLet", "42,2,50,25")
          <+ r-exit(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "RowLet"
             , "42"
             , "2"
             , "50"
             , "25"
             )
             ; fail
    where s-step(
          | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
          , "45"
          , "10"
          , "50"
          , "25"
          )
          ; (s-step(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "45"
             , "10"
             , "45"
             , "33"
             )
             ; <(s-step(
                 | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                 , "45"
                 , "11"
                 , "45"
                 , "30"
                 )
                 ; not(s-step(
                       | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                       , "45"
                       , "15"
                       , "45"
                       , "29"
                       )
                       ; simple-strategy))> s)
          ; s-step(
            | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
            , "45"
            , "36"
            , "50"
            , "25"
            )
          ; (s-step(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "45"
             , "36"
             , "45"
             , "43"
             )
             ; (s-step(
                | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                , "45"
                , "36"
                , "45"
                , "38"
                )
                ; new) => f)
          ; s-step(
            | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
            , "47"
            , "10"
            , "50"
            , "25"
            )
          ; (s-step(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "47"
             , "10"
             , "50"
             , "12"
             )
             ; <(s-step(
                 | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                 , "47"
                 , "12"
                 , "49"
                 , "58"
                 )
                 ; (s-step(
                    | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                    , "47"
                    , "12"
                    , "47"
                    , "23"
                    )
                    ; tvars-matrix)
                 ; s-step(
                   | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                   , "48"
                   , "12"
                   , "49"
                   , "58"
                   )
                 ; (s-step(
                    | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                    , "48"
                    , "12"
                    , "48"
                    , "28"
                    )
                    ; <(s-step(
                        | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                        , "48"
                        , "13"
                        , "48"
                        , "17"
                        )
                        ; isect)> ( <s-step(
                                     | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                                     , "48"
                                     , "21"
                                     , "48"
                                     , "22"
                                     )
                                     ; id>
                                  , ps
                                  ))
                 ; s-step(
                   | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                   , "49"
                   , "12"
                   , "49"
                   , "58"
                   )
                 ; unzip(
                     s-step(
                     | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                     , "49"
                     , "18"
                     , "49"
                     , "57"
                     )
                     ; !( VarDec(
                            <s-step(
                             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                             , "49"
                             , "28"
                             , "49"
                             , "29"
                             )
                             ; id>
                          , DefaultTerm()
                          )
                        , Var(
                            <s-step(
                             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                             , "49"
                             , "53"
                             , "49"
                             , "54"
                             )
                             ; id>
                          )
                        )
                   ))> s) => (as, ts2)
          <+ r-exit(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "RowLet"
             , "42"
             , "2"
             , "50"
             , "25"
             )
             ; fail

  tvars-matrix =
    s-enter(
    | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
    , "tvars-matrix"
    , "53"
    , "2"
    , "54"
    , "84"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
      , "54"
      , "4"
      , "54"
      , "84"
      )
    ; free-vars(
        s-step(
        | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
        , "54"
        , "14"
        , "54"
        , "17"
        )
        ; Add1
      , s-step(
        | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
        , "54"
        , "20"
        , "54"
        , "61"
        )
        ; (s-step(
           | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
           , "54"
           , "20"
           , "54"
           , "24"
           )
           ; Bind0
           + s-step(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "54"
             , "28"
             , "54"
             , "61"
             )
             ; (s-step(
                | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                , "54"
                , "28"
                , "54"
                , "32"
                )
                ; Bind4
                + s-step(
                  | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                  , "54"
                  , "36"
                  , "54"
                  , "61"
                  )
                  ; (s-step(
                     | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                     , "54"
                     , "36"
                     , "54"
                     , "40"
                     )
                     ; Bind6
                     + s-step(
                       | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                       , "54"
                       , "44"
                       , "54"
                       , "61"
                       )
                       ; (s-step(
                          | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                          , "54"
                          , "44"
                          , "54"
                          , "48"
                          )
                          ; Bind8
                          + s-step(
                            | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                            , "54"
                            , "52"
                            , "54"
                            , "61"
                            )
                            ; MatrixBind))))
      , s-step(
        | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
        , "54"
        , "64"
        , "54"
        , "83"
        )
        ; tvars-matrix-boundin
      )
    < s-exit(
      | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
      , "tvars-matrix"
      , "53"
      , "2"
      , "54"
      , "84"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
      , "tvars-matrix"
      , "53"
      , "2"
      , "54"
      , "84"
      )
      ; fail

  tvars-matrix-boundin(bnd, ubnd, ignore) =
    s-enter(
    | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
    , "tvars-matrix-boundin"
    , "56"
    , "2"
    , "57"
    , "52"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
      , "57"
      , "4"
      , "57"
      , "52"
      )
    ; (s-step(
       | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
       , "57"
       , "4"
       , "57"
       , "30"
       )
       ; tboundin(
           s-step(
           | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
           , "57"
           , "13"
           , "57"
           , "15"
           )
           ; bnd
         , s-step(
           | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
           , "57"
           , "18"
           , "57"
           , "21"
           )
           ; ubnd
         , s-step(
           | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
           , "57"
           , "24"
           , "57"
           , "29"
           )
           ; ignore
         )
       + s-step(
         | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
         , "57"
         , "34"
         , "57"
         , "52"
         )
         ; Matrix(
             s-step(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "57"
             , "41"
             , "57"
             , "46"
             )
             ; ignore
           , s-step(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "57"
             , "49"
             , "57"
             , "51"
             )
             ; bnd
           ))
    < s-exit(
      | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
      , "tvars-matrix-boundin"
      , "56"
      , "2"
      , "57"
      , "52"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
      , "tvars-matrix-boundin"
      , "56"
      , "2"
      , "57"
      , "52"
      )
      ; fail

  MatrixBind :
    Matrix(ps, rows) -> <r-exit(
                         | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                         , "MatrixBind"
                         , "59"
                         , "2"
                         , "60"
                         , "25"
                         )> ps
    where r-enter(|"strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str", "MatrixBind", "59,2,60,25")
          <+ r-exit(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "MatrixBind"
             , "59"
             , "2"
             , "60"
             , "25"
             )
             ; fail


strategies
  simple-strategy =
    s-enter(
    | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
    , "simple-strategy"
    , "64"
    , "2"
    , "77"
    , "4"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
      , "66"
      , "4"
      , "77"
      , "4"
      )
    ; rec x (
        s-step(
        | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
        , "67"
        , "6"
        , "76"
        , "19"
        )
        ; (s-step(
           | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
           , "67"
           , "6"
           , "67"
           , "9"
           )
           ; Id
           + s-step(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "68"
             , "8"
             , "76"
             , "19"
             )
             ; (s-step(
                | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                , "68"
                , "8"
                , "68"
                , "13"
                )
                ; Fail
                + s-step(
                  | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                  , "69"
                  , "8"
                  , "76"
                  , "19"
                  )
                  ; (s-step(
                     | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                     , "69"
                     , "8"
                     , "69"
                     , "16"
                     )
                     ; Build(
                         s-step(
                         | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                         , "69"
                         , "14"
                         , "69"
                         , "15"
                         )
                         ; id
                       )
                     + s-step(
                       | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                       , "70"
                       , "8"
                       , "76"
                       , "19"
                       )
                       ; (s-step(
                          | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                          , "70"
                          , "8"
                          , "70"
                          , "30"
                          )
                          ; Assign(
                              s-step(
                              | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                              , "70"
                              , "15"
                              , "70"
                              , "21"
                              )
                              ; Var(
                                  s-step(
                                  | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                                  , "70"
                                  , "19"
                                  , "70"
                                  , "20"
                                  )
                                  ; id
                                )
                            , s-step(
                              | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                              , "70"
                              , "23"
                              , "70"
                              , "29"
                              )
                              ; Var(
                                  s-step(
                                  | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                                  , "70"
                                  , "27"
                                  , "70"
                                  , "28"
                                  )
                                  ; id
                                )
                            )
                          + s-step(
                            | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                            , "71"
                            , "8"
                            , "76"
                            , "19"
                            )
                            ; (s-step(
                               | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                               , "71"
                               , "8"
                               , "71"
                               , "21"
                               )
                               ; Match(
                                   s-step(
                                   | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                                   , "71"
                                   , "14"
                                   , "71"
                                   , "20"
                                   )
                                   ; Var(
                                       s-step(
                                       | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                                       , "71"
                                       , "18"
                                       , "71"
                                       , "19"
                                       )
                                       ; id
                                     )
                                 )
                               + s-step(
                                 | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                                 , "72"
                                 , "8"
                                 , "76"
                                 , "19"
                                 )
                                 ; (s-step(
                                    | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                                    , "72"
                                    , "8"
                                    , "72"
                                    , "18"
                                    )
                                    ; Prim(
                                        s-step(
                                        | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                                        , "72"
                                        , "13"
                                        , "72"
                                        , "14"
                                        )
                                        ; id
                                      , s-step(
                                        | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                                        , "72"
                                        , "16"
                                        , "72"
                                        , "17"
                                        )
                                        ; id
                                      )
                                    + s-step(
                                      | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                                      , "73"
                                      , "8"
                                      , "76"
                                      , "19"
                                      )
                                      ; (s-step(
                                         | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                                         , "73"
                                         , "8"
                                         , "73"
                                         , "22"
                                         )
                                         ; CallT(
                                             s-step(
                                             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                                             , "73"
                                             , "14"
                                             , "73"
                                             , "15"
                                             )
                                             ; id
                                           , s-step(
                                             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                                             , "73"
                                             , "17"
                                             , "73"
                                             , "18"
                                             )
                                             ; id
                                           , s-step(
                                             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                                             , "73"
                                             , "20"
                                             , "73"
                                             , "21"
                                             )
                                             ; id
                                           )
                                         + s-step(
                                           | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                                           , "74"
                                           , "8"
                                           , "76"
                                           , "19"
                                           )
                                           ; (s-step(
                                              | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                                              , "74"
                                              , "8"
                                              , "74"
                                              , "16"
                                              )
                                              ; Seq(
                                                  s-step(
                                                  | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                                                  , "74"
                                                  , "12"
                                                  , "74"
                                                  , "12"
                                                  )
                                                  ; x
                                                , s-step(
                                                  | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                                                  , "74"
                                                  , "15"
                                                  , "74"
                                                  , "15"
                                                  )
                                                  ; x
                                                )
                                              + s-step(
                                                | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                                                , "75"
                                                , "8"
                                                , "76"
                                                , "19"
                                                )
                                                ; (s-step(
                                                   | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                                                   , "75"
                                                   , "8"
                                                   , "75"
                                                   , "19"
                                                   )
                                                   ; (s-step(
                                                      | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                                                      , "75"
                                                      , "8"
                                                      , "75"
                                                      , "13"
                                                      )
                                                      ; map(
                                                          s-step(
                                                          | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                                                          , "75"
                                                          , "12"
                                                          , "75"
                                                          , "12"
                                                          )
                                                          ; x
                                                        ))
                                                   ; s-step(
                                                     | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                                                     , "75"
                                                     , "16"
                                                     , "75"
                                                     , "19"
                                                     )
                                                   ; seqs
                                                   + s-step(
                                                     | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                                                     , "76"
                                                     , "8"
                                                     , "76"
                                                     , "19"
                                                     )
                                                     ; Scope(
                                                         s-step(
                                                         | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                                                         , "76"
                                                         , "14"
                                                         , "76"
                                                         , "15"
                                                         )
                                                         ; id
                                                       , s-step(
                                                         | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                                                         , "76"
                                                         , "18"
                                                         , "76"
                                                         , "18"
                                                         )
                                                         ; x
                                                       ))))))))))
      )
    < s-exit(
      | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
      , "simple-strategy"
      , "64"
      , "2"
      , "77"
      , "4"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
      , "simple-strategy"
      , "64"
      , "2"
      , "77"
      , "4"
      )
      ; fail


rules

  SingletonMatrix :
    Matrix(
      [Row(t1*, t2*, s)]
    ) -> <r-exit(
          | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
          , "SingletonMatrix"
          , "84"
          , "2"
          , "87"
          , "85"
          )> s'
    where r-enter(|"strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str", "SingletonMatrix", "84,2,87,85")
          <+ r-exit(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "SingletonMatrix"
             , "84"
             , "2"
             , "87"
             , "85"
             )
             ; fail
    where s-step(
          | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
          , "86"
          , "10"
          , "87"
          , "85"
          )
          ; (s-step(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "86"
             , "10"
             , "87"
             , "79"
             )
             ; <(s-step(
                 | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                 , "86"
                 , "11"
                 , "87"
                 , "67"
                 )
                 ; foldr(
                     s-step(
                     | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                     , "86"
                     , "17"
                     , "86"
                     , "18"
                     )
                     ; !s
                   , s-step(
                     | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                     , "86"
                     , "21"
                     , "86"
                     , "37"
                     )
                     ; !Seq(
                          <s-step(
                           | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                           , "86"
                           , "27"
                           , "86"
                           , "29"
                           )
                           ; Fst>
                        , <s-step(
                           | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                           , "86"
                           , "33"
                           , "86"
                           , "35"
                           )
                           ; Snd>
                        )
                   , s-step(
                     | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                     , "87"
                     , "17"
                     , "87"
                     , "66"
                     )
                     ; !Seq(
                          Build(
                            <s-step(
                             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                             , "87"
                             , "29"
                             , "87"
                             , "34"
                             )
                             ; offset>
                          )
                        , Match(
                            <s-step(
                             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                             , "87"
                             , "46"
                             , "87"
                             , "63"
                             )
                             ; matrix-pat-to-term>
                          )
                        )
                   ))> [t1*, t2*]) => s'
          <+ r-exit(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "SingletonMatrix"
             , "84"
             , "2"
             , "87"
             , "85"
             )
             ; fail

  matrix-pat-to-term =
    s-enter(
    | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
    , "matrix-pat-to-term"
    , "89"
    , "2"
    , "96"
    , "7"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
      , "90"
      , "4"
      , "96"
      , "7"
      )
    ; (s-step(
       | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
       , "90"
       , "4"
       , "90"
       , "20"
       )
       ; ?As(
            Off(p)
          , <s-step(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "90"
             , "17"
             , "90"
             , "18"
             )
             ; id>
          ))
    ; s-step(
      | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
      , "91"
      , "6"
      , "96"
      , "7"
      )
    ; topdown(
        s-step(
        | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
        , "91"
        , "14"
        , "96"
        , "6"
        )
        ; try(
            s-step(
            | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
            , "92"
            , "8"
            , "95"
            , "38"
            )
            ; (s-step(
               | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
               , "92"
               , "8"
               , "92"
               , "38"
               )
               ; \ As(Off(p), Wld()) -> Var(p) \
               <+ s-step(
                  | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                  , "93"
                  , "11"
                  , "95"
                  , "38"
                  )
                  ; (s-step(
                     | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                     , "93"
                     , "11"
                     , "93"
                     , "44"
                     )
                     ; \ As(Off(p), t) -> As(Var(p), t) \
                     <+ s-step(
                        | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                        , "94"
                        , "11"
                        , "95"
                        , "38"
                        )
                        ; \ Anno(
                              pt1
                            , As(
                                Off(p)
                              , Anno(
                                  pt2
                                , As(Off(p'), Wld())
                                )
                              )
                            ) -> Anno(
                                   pt1
                                 , As(Var(p), pt2)
                                 ) \))
          )
      )
    < s-exit(
      | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
      , "matrix-pat-to-term"
      , "89"
      , "2"
      , "96"
      , "7"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
      , "matrix-pat-to-term"
      , "89"
      , "2"
      , "96"
      , "7"
      )
      ; fail

  MatrixRowsEmpty :
    Matrix(rows) -> <r-exit(
                     | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                     , "MatrixRowsEmpty"
                     , "100"
                     , "2"
                     , "102"
                     , "53"
                     )> <s-step(
                         | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                         , "101"
                         , "21"
                         , "101"
                         , "28"
                         )
                         ; lchoices> states
    where r-enter(|"strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str", "MatrixRowsEmpty", "100,2,102,53")
          <+ r-exit(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "MatrixRowsEmpty"
             , "100"
             , "2"
             , "102"
             , "53"
             )
             ; fail
    where s-step(
          | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
          , "102"
          , "10"
          , "102"
          , "53"
          )
          ; (s-step(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "102"
             , "10"
             , "102"
             , "43"
             )
             ; <(s-step(
                 | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                 , "102"
                 , "11"
                 , "102"
                 , "37"
                 )
                 ; map(
                     s-step(
                     | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                     , "102"
                     , "15"
                     , "102"
                     , "35"
                     )
                     ; \ Row([], [], s) -> s \
                   ))> rows) => states
          <+ r-exit(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "MatrixRowsEmpty"
             , "100"
             , "2"
             , "102"
             , "53"
             )
             ; fail

  SkipWild :
    Matrix(rows) -> <r-exit(
                     | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                     , "SkipWild"
                     , "106"
                     , "2"
                     , "108"
                     , "62"
                     )> Matrix(rows')
    where r-enter(|"strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str", "SkipWild", "106,2,108,62")
          <+ r-exit(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "SkipWild"
             , "106"
             , "2"
             , "108"
             , "62"
             )
             ; fail
    where s-step(
          | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
          , "108"
          , "10"
          , "108"
          , "62"
          )
          ; (s-step(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "108"
             , "10"
             , "108"
             , "53"
             )
             ; <(s-step(
                 | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                 , "108"
                 , "11"
                 , "108"
                 , "47"
                 )
                 ; map(
                     s-step(
                     | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                     , "108"
                     , "15"
                     , "108"
                     , "46"
                     )
                     ; Row(
                         s-step(
                         | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                         , "108"
                         , "19"
                         , "108"
                         , "20"
                         )
                         ; id
                       , s-step(
                         | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                         , "108"
                         , "23"
                         , "108"
                         , "41"
                         )
                         ; ?[As(_, Wld())|<s-step(
                                           | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                                           , "108"
                                           , "38"
                                           , "108"
                                           , "39"
                                           )
                                           ; id>]
                       , s-step(
                         | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                         , "108"
                         , "44"
                         , "108"
                         , "45"
                         )
                         ; id
                       )
                   ))> rows) => rows'
          <+ r-exit(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "SkipWild"
             , "106"
             , "2"
             , "108"
             , "62"
             )
             ; fail

  ShiftColumn :
    Matrix(rows) -> <r-exit(
                     | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                     , "ShiftColumn"
                     , "113"
                     , "2"
                     , "116"
                     , "37"
                     )> Matrix(rows')
    where r-enter(|"strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str", "ShiftColumn", "113,2,116,37")
          <+ r-exit(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "ShiftColumn"
             , "113"
             , "2"
             , "116"
             , "37"
             )
             ; fail
    where s-step(
          | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
          , "115"
          , "10"
          , "116"
          , "37"
          )
          ; (s-step(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "115"
             , "10"
             , "115"
             , "59"
             )
             ; <(s-step(
                 | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                 , "115"
                 , "11"
                 , "115"
                 , "53"
                 )
                 ; not(s-step(
                       | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                       , "115"
                       , "15"
                       , "115"
                       , "52"
                       )
                       ; map(
                           s-step(
                           | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                           , "115"
                           , "19"
                           , "115"
                           , "51"
                           )
                           ; Row(
                               s-step(
                               | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                               , "115"
                               , "23"
                               , "115"
                               , "44"
                               )
                               ; [s-step(
                                  | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                                  , "115"
                                  , "24"
                                  , "115"
                                  , "40"
                                  )
                                  ; As(
                                      s-step(
                                      | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                                      , "115"
                                      , "27"
                                      , "115"
                                      , "28"
                                      )
                                      ; id
                                    , s-step(
                                      | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                                      , "115"
                                      , "30"
                                      , "115"
                                      , "39"
                                      )
                                      ; not(s-step(
                                            | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                                            , "115"
                                            , "34"
                                            , "115"
                                            , "38"
                                            )
                                            ; Wld)
                                    )|s-step(
                                      | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                                      , "115"
                                      , "42"
                                      , "115"
                                      , "43"
                                      )
                                      ; id]
                             , s-step(
                               | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                               , "115"
                               , "46"
                               , "115"
                               , "47"
                               )
                               ; id
                             , s-step(
                               | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                               , "115"
                               , "49"
                               , "115"
                               , "50"
                               )
                               ; id
                             )
                         )))> rows)
          ; s-step(
            | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
            , "116"
            , "3"
            , "116"
            , "37"
            )
          ; (s-step(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "116"
             , "3"
             , "116"
             , "28"
             )
             ; <(s-step(
                 | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                 , "116"
                 , "4"
                 , "116"
                 , "22"
                 )
                 ; map(
                     s-step(
                     | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                     , "116"
                     , "8"
                     , "116"
                     , "21"
                     )
                     ; ShiftColumnRow
                   ))> rows) => rows'
          <+ r-exit(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "ShiftColumn"
             , "113"
             , "2"
             , "116"
             , "37"
             )
             ; fail

  ShiftColumnRow :
    Row(ts1, [t|ts2], s) -> <r-exit(
                             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                             , "ShiftColumnRow"
                             , "118"
                             , "2"
                             , "119"
                             , "51"
                             )> Row([t|ts1], ts2, s)
    where r-enter(|"strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str", "ShiftColumnRow", "118,2,119,51")
          <+ r-exit(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "ShiftColumnRow"
             , "118"
             , "2"
             , "119"
             , "51"
             )
             ; fail

  Mixture :
    Matrix(rows) -> <r-exit(
                     | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                     , "Mixture"
                     , "128"
                     , "2"
                     , "141"
                     , "59"
                     )> Case(label, Var(path), alts, def)
    where r-enter(|"strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str", "Mixture", "128,2,141,59")
          <+ r-exit(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "Mixture"
             , "128"
             , "2"
             , "141"
             , "59"
             )
             ; fail
    where s-step(
          | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
          , "131"
          , "1"
          , "141"
          , "59"
          )
          ; (s-step(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "131"
             , "1"
             , "131"
             , "27"
             )
             ; (s-step(
                | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                , "131"
                , "1"
                , "131"
                , "19"
                )
                ; <(s-step(
                    | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                    , "131"
                    , "2"
                    , "131"
                    , "13"
                    )
                    ; get-row-path)> rows) => path)
          ; s-step(
            | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
            , "133"
            , "3"
            , "141"
            , "59"
            )
          ; (s-step(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "133"
             , "3"
             , "133"
             , "23"
             )
             ; (s-step(
                | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                , "133"
                , "3"
                , "133"
                , "17"
                )
                ; <(s-step(
                    | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                    , "133"
                    , "4"
                    , "133"
                    , "11"
                    )
                    ; outedges)> rows) => cs)
          ; s-step(
            | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
            , "135"
            , "3"
            , "141"
            , "59"
            )
          ; (s-step(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "135"
             , "3"
             , "135"
             , "34"
             )
             ; (s-step(
                | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                , "135"
                , "3"
                , "135"
                , "26"
                )
                ; <(s-step(
                    | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                    , "135"
                    , "4"
                    , "135"
                    , "14"
                    )
                    ; transitions)> (rows, cs)) => alts)
          ; s-step(
            | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
            , "137"
            , "3"
            , "141"
            , "59"
            )
          ; (s-step(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "137"
             , "3"
             , "137"
             , "29"
             )
             ; (s-step(
                | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                , "137"
                , "3"
                , "137"
                , "22"
                )
                ; <(s-step(
                    | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                    , "137"
                    , "4"
                    , "137"
                    , "16"
                    )
                    ; default-state)> rows) => def)
          ; s-step(
            | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
            , "139"
            , "3"
            , "141"
            , "59"
            )
          ; (s-step(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "139"
             , "3"
             , "139"
             , "14"
             )
             ; (s-step(
                | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                , "139"
                , "3"
                , "139"
                , "5"
                )
                ; new) => label)
          ; s-step(
            | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
            , "141"
            , "3"
            , "141"
            , "59"
            )
          ; rules (
              MatrixSeenBefore :
                Matrix(rows) -> Continue(label)
            )
          <+ r-exit(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "Mixture"
             , "128"
             , "2"
             , "141"
             , "59"
             )
             ; fail

  get-row-path =
    s-enter(
    | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
    , "get-row-path"
    , "143"
    , "2"
    , "144"
    , "42"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
      , "144"
      , "4"
      , "144"
      , "42"
      )
    ; ?[Row(
          [As(
             Off(
               <s-step(
                | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                , "144"
                , "19"
                , "144"
                , "20"
                )
                ; id>
             )
           , _
           )|_]
        , _
        , _
        )|_]
    < s-exit(
      | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
      , "get-row-path"
      , "143"
      , "2"
      , "144"
      , "42"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
      , "get-row-path"
      , "143"
      , "2"
      , "144"
      , "42"
      )
      ; fail


strategies
  outedges =
    s-enter(
    | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
    , "outedges"
    , "152"
    , "2"
    , "153"
    , "25"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
      , "153"
      , "4"
      , "153"
      , "25"
      )
    ; (s-step(
       | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
       , "153"
       , "4"
       , "153"
       , "19"
       )
       ; filter(
           s-step(
           | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
           , "153"
           , "11"
           , "153"
           , "18"
           )
           ; ConsArgs
         ))
    ; s-step(
      | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
      , "153"
      , "22"
      , "153"
      , "25"
      )
    ; uniq
    < s-exit(
      | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
      , "outedges"
      , "152"
      , "2"
      , "153"
      , "25"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
      , "outedges"
      , "152"
      , "2"
      , "153"
      , "25"
      )
      ; fail

  offsets =
    s-enter(
    | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
    , "offsets"
    , "155"
    , "2"
    , "156"
    , "14"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
      , "156"
      , "4"
      , "156"
      , "14"
      )
    ; map(
        s-step(
        | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
        , "156"
        , "8"
        , "156"
        , "13"
        )
        ; offset
      )
    < s-exit(
      | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
      , "offsets"
      , "155"
      , "2"
      , "156"
      , "14"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
      , "offsets"
      , "155"
      , "2"
      , "156"
      , "14"
      )
      ; fail

  offset :
    As(Off(p), t) -> <r-exit(
                      | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                      , "offset"
                      , "158"
                      , "2"
                      , "159"
                      , "26"
                      )> Var(p)
    where r-enter(|"strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str", "offset", "158,2,159,26")
          <+ r-exit(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "offset"
             , "158"
             , "2"
             , "159"
             , "26"
             )
             ; fail


rules

  ConsArgs :
    Row(
      [As(
         _
       , Anno(Op(c, t*), pt)
       )|_]
    , _
    , _
    ) -> <r-exit(
          | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
          , "ConsArgs"
          , "163"
          , "2"
          , "165"
          , "53"
          )> ( Fun(
                 c
               , <s-step(
                  | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                  , "165"
                  , "13"
                  , "165"
                  , "18"
                  )
                  ; length> t*
               )
             , <s-step(
                | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                , "165"
                , "27"
                , "165"
                , "33"
                )
                ; offsets> [t*]
             , <s-step(
                | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                , "165"
                , "43"
                , "165"
                , "48"
                )
                ; offset> pt
             )
    where r-enter(|"strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str", "ConsArgs", "163,2,165,53")
          <+ r-exit(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "ConsArgs"
             , "163"
             , "2"
             , "165"
             , "53"
             )
             ; fail

  ConsArgs :
    Row(
      [As(
         Off(p)
       , Op(c, t*)
       )|_]
    , _
    , _
    ) -> <r-exit(
          | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
          , "ConsArgs"
          , "167"
          , "2"
          , "169"
          , "51"
          )> ( Fun(
                 c
               , <s-step(
                  | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                  , "169"
                  , "13"
                  , "169"
                  , "18"
                  )
                  ; length> t*
               )
             , <s-step(
                | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                , "169"
                , "27"
                , "169"
                , "33"
                )
                ; offsets> [t*]
             , ["a"|p]
             )
    where r-enter(|"strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str", "ConsArgs", "167,2,169,51")
          <+ r-exit(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "ConsArgs"
             , "167"
             , "2"
             , "169"
             , "51"
             )
             ; fail

  ConsArgs :
    Row(
      [As(
         _
       , Anno(Int(n), pt)
       )|_]
    , _
    , _
    ) -> <r-exit(
          | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
          , "ConsArgs"
          , "171"
          , "2"
          , "172"
          , "69"
          )> ( Int(n)
             , []
             , <s-step(
                | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                , "172"
                , "59"
                , "172"
                , "64"
                )
                ; offset> pt
             )
    where r-enter(|"strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str", "ConsArgs", "171,2,172,69")
          <+ r-exit(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "ConsArgs"
             , "171"
             , "2"
             , "172"
             , "69"
             )
             ; fail

  ConsArgs :
    Row(
      [As(
         _
       , Anno(Real(n), pt)
       )|_]
    , _
    , _
    ) -> <r-exit(
          | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
          , "ConsArgs"
          , "174"
          , "2"
          , "175"
          , "71"
          )> ( Real(n)
             , []
             , <s-step(
                | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                , "175"
                , "61"
                , "175"
                , "66"
                )
                ; offset> pt
             )
    where r-enter(|"strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str", "ConsArgs", "174,2,175,71")
          <+ r-exit(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "ConsArgs"
             , "174"
             , "2"
             , "175"
             , "71"
             )
             ; fail

  ConsArgs :
    Row(
      [As(
         _
       , Anno(Str(x), pt)
       )|_]
    , _
    , _
    ) -> <r-exit(
          | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
          , "ConsArgs"
          , "177"
          , "2"
          , "178"
          , "69"
          )> ( Str(x)
             , []
             , <s-step(
                | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                , "178"
                , "59"
                , "178"
                , "64"
                )
                ; offset> pt
             )
    where r-enter(|"strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str", "ConsArgs", "177,2,178,69")
          <+ r-exit(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "ConsArgs"
             , "177"
             , "2"
             , "178"
             , "69"
             )
             ; fail

  ConsArgs :
    Row(
      [As(_, Anno(Wld(), pt))|_]
    , _
    , _
    ) -> <r-exit(
          | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
          , "ConsArgs"
          , "180"
          , "2"
          , "181"
          , "68"
          )> ( Wld()
             , []
             , <s-step(
                | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                , "181"
                , "58"
                , "181"
                , "63"
                )
                ; offset> pt
             )
    where r-enter(|"strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str", "ConsArgs", "180,2,181,68")
          <+ r-exit(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "ConsArgs"
             , "180"
             , "2"
             , "181"
             , "68"
             )
             ; fail


strategies
  transitions =
    s-enter(
    | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
    , "transitions"
    , "187"
    , "2"
    , "188"
    , "19"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
      , "188"
      , "4"
      , "188"
      , "19"
      )
    ; rzip(
        s-step(
        | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
        , "188"
        , "9"
        , "188"
        , "18"
        )
        ; Transition
      )
    < s-exit(
      | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
      , "transitions"
      , "187"
      , "2"
      , "188"
      , "19"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
      , "transitions"
      , "187"
      , "2"
      , "188"
      , "19"
      )
      ; fail


rules

  Transition :
    (rows, (c, args, ann)) -> <r-exit(
                               | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                               , "Transition"
                               , "192"
                               , "2"
                               , "194"
                               , "73"
                               )> Alt(c, args, ann, Matrix(rows'))
    where r-enter(|"strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str", "Transition", "192,2,194,73")
          <+ r-exit(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "Transition"
             , "192"
             , "2"
             , "194"
             , "73"
             )
             ; fail
    where s-step(
          | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
          , "194"
          , "10"
          , "194"
          , "73"
          )
          ; (s-step(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "194"
             , "10"
             , "194"
             , "64"
             )
             ; <(s-step(
                 | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                 , "194"
                 , "11"
                 , "194"
                 , "58"
                 )
                 ; filter(
                     s-step(
                     | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                     , "194"
                     , "18"
                     , "194"
                     , "57"
                     )
                     ; ConsTransition(
                         s-step(
                         | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                         , "194"
                         , "33"
                         , "194"
                         , "56"
                         )
                         ; MatchCons(|c, args, ann)
                       )
                   ))> rows) => rows'
          <+ r-exit(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "Transition"
             , "192"
             , "2"
             , "194"
             , "73"
             )
             ; fail

  ConsTransition(match-cons) :
    Row(
      [As(_, t)|pats]
    , pats'
    , fin
    ) -> <r-exit(
          | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
          , "ConsTransition"
          , "200"
          , "2"
          , "203"
          , "33"
          )> Row(
               pats
             , <s-step(
                | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                , "202"
                , "15"
                , "202"
                , "18"
                )
                ; conc> (pats'', pats')
             , fin
             )
    where r-enter(|"strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str", "ConsTransition", "200,2,203,33")
          <+ r-exit(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "ConsTransition"
             , "200"
             , "2"
             , "203"
             , "33"
             )
             ; fail
    where s-step(
          | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
          , "203"
          , "10"
          , "203"
          , "33"
          )
          ; (s-step(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "203"
             , "10"
             , "203"
             , "23"
             )
             ; <(s-step(
                 | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                 , "203"
                 , "11"
                 , "203"
                 , "20"
                 )
                 ; match-cons)> t) => pats''
          <+ r-exit(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "ConsTransition"
             , "200"
             , "2"
             , "203"
             , "33"
             )
             ; fail

  MatchCons(|c', args, ann):
    Anno(Op(c, t*), pt) -> <r-exit(
                            | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                            , "MatchCons"
                            , "205"
                            , "2"
                            , "207"
                            , "50"
                            )> [t*, pt]
    where r-enter(|"strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str", "MatchCons", "205,2,207,50")
          <+ r-exit(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "MatchCons"
             , "205"
             , "2"
             , "207"
             , "50"
             )
             ; fail
    where s-step(
          | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
          , "207"
          , "10"
          , "207"
          , "50"
          )
          ; (s-step(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "207"
             , "10"
             , "207"
             , "26"
             )
             ; (s-step(
                | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                , "207"
                , "10"
                , "207"
                , "12"
                )
                ; !c') => Fun(c, ar))
          ; s-step(
            | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
            , "207"
            , "29"
            , "207"
            , "50"
            )
          ; <(s-step(
              | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
              , "207"
              , "30"
              , "207"
              , "31"
              )
              ; eq)> ( <s-step(
                        | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                        , "207"
                        , "36"
                        , "207"
                        , "41"
                        )
                        ; length> t*
                     , ar
                     )
          <+ r-exit(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "MatchCons"
             , "205"
             , "2"
             , "207"
             , "50"
             )
             ; fail

  MatchCons(|c', args, ann):
    Op(c, t*) -> <r-exit(
                  | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                  , "MatchCons"
                  , "209"
                  , "2"
                  , "211"
                  , "50"
                  )> [ t*
                     , As(Off(ann), Wld())
                     ]
    where r-enter(|"strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str", "MatchCons", "209,2,211,50")
          <+ r-exit(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "MatchCons"
             , "209"
             , "2"
             , "211"
             , "50"
             )
             ; fail
    where s-step(
          | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
          , "211"
          , "10"
          , "211"
          , "50"
          )
          ; (s-step(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "211"
             , "10"
             , "211"
             , "26"
             )
             ; (s-step(
                | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                , "211"
                , "10"
                , "211"
                , "12"
                )
                ; !c') => Fun(c, ar))
          ; s-step(
            | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
            , "211"
            , "29"
            , "211"
            , "50"
            )
          ; <(s-step(
              | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
              , "211"
              , "30"
              , "211"
              , "31"
              )
              ; eq)> ( <s-step(
                        | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                        , "211"
                        , "36"
                        , "211"
                        , "41"
                        )
                        ; length> t*
                     , ar
                     )
          <+ r-exit(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "MatchCons"
             , "209"
             , "2"
             , "211"
             , "50"
             )
             ; fail

  MatchCons(|c, args, ann):
    Anno(Str(x), pt) -> <r-exit(
                         | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                         , "MatchCons"
                         , "213"
                         , "2"
                         , "215"
                         , "34"
                         )> [pt]
    where r-enter(|"strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str", "MatchCons", "213,2,215,34")
          <+ r-exit(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "MatchCons"
             , "213"
             , "2"
             , "215"
             , "34"
             )
             ; fail
    where s-step(
          | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
          , "215"
          , "10"
          , "215"
          , "34"
          )
          ; (s-step(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "215"
             , "10"
             , "215"
             , "21"
             )
             ; (s-step(
                | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                , "215"
                , "10"
                , "215"
                , "11"
                )
                ; !c) => Str(x))
          ; s-step(
            | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
            , "215"
            , "24"
            , "215"
            , "34"
            )
          ; (s-step(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "215"
             , "24"
             , "215"
             , "28"
             )
             ; !args) => []
          <+ r-exit(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "MatchCons"
             , "213"
             , "2"
             , "215"
             , "34"
             )
             ; fail

  MatchCons(|c, args, ann):
    Anno(Real(r), pt) -> <r-exit(
                          | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                          , "MatchCons"
                          , "217"
                          , "2"
                          , "219"
                          , "35"
                          )> [pt]
    where r-enter(|"strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str", "MatchCons", "217,2,219,35")
          <+ r-exit(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "MatchCons"
             , "217"
             , "2"
             , "219"
             , "35"
             )
             ; fail
    where s-step(
          | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
          , "219"
          , "10"
          , "219"
          , "35"
          )
          ; (s-step(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "219"
             , "10"
             , "219"
             , "22"
             )
             ; (s-step(
                | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                , "219"
                , "10"
                , "219"
                , "11"
                )
                ; !c) => Real(r))
          ; s-step(
            | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
            , "219"
            , "25"
            , "219"
            , "35"
            )
          ; (s-step(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "219"
             , "25"
             , "219"
             , "29"
             )
             ; !args) => []
          <+ r-exit(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "MatchCons"
             , "217"
             , "2"
             , "219"
             , "35"
             )
             ; fail

  MatchCons(|c, args, ann):
    Anno(Int(n), pt) -> <r-exit(
                         | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                         , "MatchCons"
                         , "221"
                         , "2"
                         , "223"
                         , "34"
                         )> [pt]
    where r-enter(|"strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str", "MatchCons", "221,2,223,34")
          <+ r-exit(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "MatchCons"
             , "221"
             , "2"
             , "223"
             , "34"
             )
             ; fail
    where s-step(
          | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
          , "223"
          , "10"
          , "223"
          , "34"
          )
          ; (s-step(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "223"
             , "10"
             , "223"
             , "21"
             )
             ; (s-step(
                | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                , "223"
                , "10"
                , "223"
                , "11"
                )
                ; !c) => Int(n))
          ; s-step(
            | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
            , "223"
            , "24"
            , "223"
            , "34"
            )
          ; (s-step(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "223"
             , "24"
             , "223"
             , "28"
             )
             ; !args) => []
          <+ r-exit(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "MatchCons"
             , "221"
             , "2"
             , "223"
             , "34"
             )
             ; fail

  MatchCons(|c, args, ann):
    Wld() -> <r-exit(
              | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
              , "MatchCons"
              , "225"
              , "2"
              , "227"
              , "58"
              )> [ t*
                 , As(Off(ann), Wld())
                 ]
    where r-enter(|"strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str", "MatchCons", "225,2,227,58")
          <+ r-exit(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "MatchCons"
             , "225"
             , "2"
             , "227"
             , "58"
             )
             ; fail
    where s-step(
          | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
          , "227"
          , "10"
          , "227"
          , "58"
          )
          ; (s-step(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "227"
             , "10"
             , "227"
             , "52"
             )
             ; <(s-step(
                 | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                 , "227"
                 , "11"
                 , "227"
                 , "46"
                 )
                 ; map(
                     s-step(
                     | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                     , "227"
                     , "15"
                     , "227"
                     , "44"
                     )
                     ; \ Var(p) -> As(Off(p), Wld()) \
                   ))> args) => t*
          <+ r-exit(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "MatchCons"
             , "225"
             , "2"
             , "227"
             , "58"
             )
             ; fail

  MatchCons(|c, args, ann):
    Anno(Wld(), pt) -> <r-exit(
                        | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                        , "MatchCons"
                        , "229"
                        , "2"
                        , "231"
                        , "58"
                        )> [t*, pt]
    where r-enter(|"strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str", "MatchCons", "229,2,231,58")
          <+ r-exit(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "MatchCons"
             , "229"
             , "2"
             , "231"
             , "58"
             )
             ; fail
    where s-step(
          | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
          , "231"
          , "10"
          , "231"
          , "58"
          )
          ; (s-step(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "231"
             , "10"
             , "231"
             , "52"
             )
             ; <(s-step(
                 | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                 , "231"
                 , "11"
                 , "231"
                 , "46"
                 )
                 ; map(
                     s-step(
                     | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
                     , "231"
                     , "15"
                     , "231"
                     , "44"
                     )
                     ; \ Var(p) -> As(Off(p), Wld()) \
                   ))> args) => t*
          <+ r-exit(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "MatchCons"
             , "229"
             , "2"
             , "231"
             , "58"
             )
             ; fail


strategies
  default-state =
    s-enter(
    | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
    , "default-state"
    , "237"
    , "2"
    , "239"
    , "18"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
      , "238"
      , "4"
      , "239"
      , "18"
      )
    ; (s-step(
       | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
       , "238"
       , "4"
       , "238"
       , "18"
       )
       ; filter(
           s-step(
           | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
           , "238"
           , "11"
           , "238"
           , "17"
           )
           ; WildPat
         ))
    ; s-step(
      | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
      , "239"
      , "6"
      , "239"
      , "18"
      )
    ; !Matrix(
         <s-step(
          | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
          , "239"
          , "15"
          , "239"
          , "16"
          )
          ; id>
       )
    < s-exit(
      | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
      , "default-state"
      , "237"
      , "2"
      , "239"
      , "18"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
      , "default-state"
      , "237"
      , "2"
      , "239"
      , "18"
      )
      ; fail

  WildPat :
    Row(
      [As(_, Wld())|pats]
    , pats'
    , fin
    ) -> <r-exit(
          | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
          , "WildPat"
          , "241"
          , "2"
          , "242"
          , "66"
          )> Row(pats, pats', fin)
    where r-enter(|"strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str", "WildPat", "241,2,242,66")
          <+ r-exit(
             | "strategoxt/stratego-libraries/strc/lib/stratego/strc/match/matrix-to-dfa.str"
             , "WildPat"
             , "241"
             , "2"
             , "242"
             , "66"
             )
             ; fail