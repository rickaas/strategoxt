module compile-match

imports
  org.strategoxt.imp.debuggers.stratego.runtime


imports
  stratego/strc/match/match-to-matrix
  stratego/strc/match/matrix-to-dfa
  stratego/strc/opt/opt-lib


strategies
  match-to-dfa =
    s-enter(|"strategoxt/stratego-libraries/strc/lib/stratego/strc/match/compile-match.str", "match-to-dfa", "9,2,12,13")
    ; s-step(|"strategoxt/stratego-libraries/strc/lib/stratego/strc/match/compile-match.str", "10,4,12,13")
    ; (s-step(|"strategoxt/stratego-libraries/strc/lib/stratego/strc/match/compile-match.str", "10,4,10,18") ; match-to-matrix)
    ; s-step(|"strategoxt/stratego-libraries/strc/lib/stratego/strc/match/compile-match.str", "11,6,12,13")
    ; (s-step(|"strategoxt/stratego-libraries/strc/lib/stratego/strc/match/compile-match.str", "11,6,11,18") ; matrix-to-dfa)
    ; s-step(|"strategoxt/stratego-libraries/strc/lib/stratego/strc/match/compile-match.str", "12,6,12,13")
    ; strename
    < s-exit(|"strategoxt/stratego-libraries/strc/lib/stratego/strc/match/compile-match.str", "match-to-dfa", "9,2,12,13")
    + s-exit(|"strategoxt/stratego-libraries/strc/lib/stratego/strc/match/compile-match.str", "match-to-dfa", "9,2,12,13")
      ; fail