module test12

imports
  org.strategoxt.imp.debuggers.stratego.runtime


imports
  collection/list/cons
  collection/tuple/cons


signature
  sorts
    Term

  constructors
    I : Term
    F : Term * Term -> Term
    G : Term -> Term


rules

  R :
    F(x, x) -> <r-exit(
                | "strategoxt/stratego-libraries/strc/tests/test1/test12.str"
                , "R"
                , "12"
                , "2"
                , "12"
                , "20"
                )> G(x)
    where r-enter(|"strategoxt/stratego-libraries/strc/tests/test1/test12.str", "R", "12,2,12,20")
          <+ r-exit(
             | "strategoxt/stratego-libraries/strc/tests/test1/test12.str"
             , "R"
             , "12"
             , "2"
             , "12"
             , "20"
             )
             ; fail


strategies
  main =
    s-enter(
    | "strategoxt/stratego-libraries/strc/tests/test1/test12.str"
    , "main"
    , "16"
    , "2"
    , "17"
    , "22"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/strc/tests/test1/test12.str"
      , "17"
      , "4"
      , "17"
      , "22"
      )
    ; (s-step(
       | "strategoxt/stratego-libraries/strc/tests/test1/test12.str"
       , "17"
       , "4"
       , "17"
       , "14"
       )
       ; <(s-step(
           | "strategoxt/stratego-libraries/strc/tests/test1/test12.str"
           , "17"
           , "5"
           , "17"
           , "5"
           )
           ; R)> F(I, I)) => G(I)
    < s-exit(
      | "strategoxt/stratego-libraries/strc/tests/test1/test12.str"
      , "main"
      , "16"
      , "2"
      , "17"
      , "22"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/strc/tests/test1/test12.str"
      , "main"
      , "16"
      , "2"
      , "17"
      , "22"
      )
      ; fail