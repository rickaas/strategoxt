module test-chain02

imports
  org.strategoxt.imp.debuggers.stratego.runtime


imports
  libstratego-lib


strategies
  main =
    s-enter(|"strategoxt/stratego-libraries/strc/tests/test1/test-chain02.str", "main", "7,2,12,16")
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test-chain02.str", "8,4,12,16")
    ; (s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test-chain02.str", "8,4,8,10")
       ; (s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test-chain02.str", "8,4,8,5")
          ; !3) => z)
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test-chain02.str", "9,6,12,16")
    ; (s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test-chain02.str", "9,6,9,52")
       ; rules (
           Foo :+
             (x, y, _) -> ( <s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test-chain02.str", "9,34,9,36") ; add> (x, 1)
                          , y
                          , z
                          )
         ))
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test-chain02.str", "10,6,12,16")
    ; (s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test-chain02.str", "10,6,10,53")
       ; rules (
           Foo :+
             (x, y, _) -> ( <s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test-chain02.str", "10,34,10,36") ; add> (x, 10)
                          , y
                          , z
                          )
         ))
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test-chain02.str", "11,6,12,16")
    ; (s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test-chain02.str", "11,6,11,29")
       ; <(s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test-chain02.str", "11,7,11,18") ; bigchain-Foo)> (0, 0, 0))
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test-chain02.str", "12,6,12,16")
    ; ?(11, 0, 3)
    < s-exit(|"strategoxt/stratego-libraries/strc/tests/test1/test-chain02.str", "main", "7,2,12,16")
    + s-exit(|"strategoxt/stratego-libraries/strc/tests/test1/test-chain02.str", "main", "7,2,12,16")
      ; fail