module test76

imports
  org.strategoxt.imp.debuggers.stratego.runtime


imports
  libstratego-lib


strategies
  main =
    s-enter(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "main", "5,2,8,4")
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "6,4,8,4")
    ; test-suite(
        s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "6,15,6,47")
        ; !"Annotations in static patterns"
      , s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "7,6,7,29") ; annos-in-static-patterns
      )
    < s-exit(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "main", "5,2,8,4")
    + s-exit(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "main", "5,2,8,4")
      ; fail

  annos-in-static-patterns =
    s-enter(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "annos-in-static-patterns", "10,2,64,6")
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "11,6,64,6")
    ; (s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "11,6,11,35")
       ; rules (
           Foo :
             (1, x) -> <s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "11,29,11,31") ; inc> x
         ))
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "13,6,64,6")
    ; (s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "13,6,13,31")
       ; rules ( Fred :
                   Some(x) -> x ))
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "14,6,64,6")
    ; (s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "14,6,14,31")
       ; rules ( Fred :
                   None() -> () ))
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "16,6,64,6")
    ; (s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "16,6,16,25")
       ; rules ( Bar :
                   1 -> () ))
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "18,6,64,6")
    ; (s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "18,6,22,6")
       ; apply-test(
           s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "18,17,18,31")
           ; !"No annotions"
         , s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "19,8,19,10") ; Foo
         , s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "20,8,20,14")
           ; !(1, 2)
         , s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "21,8,21,9")
           ; !3
         ))
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "24,6,64,6")
    ; (s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "24,6,28,6")
       ; apply-test(
           s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "24,17,24,44")
           ; !"Annotion in first element"
         , s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "25,8,25,10") ; Foo
         , s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "26,8,26,22")
           ; !(1{"anno"}, 2)
         , s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "27,8,27,9")
           ; !3
         ))
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "30,6,64,6")
    ; (s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "30,6,34,6")
       ; apply-test(
           s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "30,17,30,47")
           ; !"No annotion in first element"
         , s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "31,8,31,10") ; Foo
         , s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "32,8,32,16")
           ; !(1{}, 2)
         , s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "33,8,33,9")
           ; !3
         ))
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "36,6,64,6")
    ; (s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "36,6,40,6")
       ; apply-test(
           s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "36,17,36,32")
           ; !"Anno of tuple"
         , s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "37,8,37,10") ; Foo
         , s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "38,8,38,22")
           ; !(1, 2){"anno"}
         , s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "39,8,39,9")
           ; !3
         ))
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "42,6,64,6")
    ; (s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "42,6,46,6")
       ; apply-test(
           s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "42,17,42,41")
           ; !"Anno of second element"
         , s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "43,8,43,10") ; Foo
         , s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "44,8,44,29")
           ; !(1, 2{"Foo"}){"anno"}
         , s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "45,8,45,9")
           ; !3
         ))
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "48,6,64,6")
    ; (s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "48,6,52,6")
       ; apply-test(
           s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "48,17,48,30")
           ; !"Anno of int"
         , s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "49,8,49,10") ; Bar
         , s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "50,8,50,12")
           ; !1{2}
         , s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "51,8,51,10")
           ; !()
         ))
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "54,6,64,6")
    ; (s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "54,6,58,6")
       ; apply-test(
           s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "54,17,54,31")
           ; !"Anno of Some"
         , s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "55,8,55,11") ; Fred
         , s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "56,8,56,18")
           ; !Some(7){2}
         , s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "57,8,57,9")
           ; !7
         ))
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "60,6,64,6")
    ; apply-test(
        s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "60,17,60,31")
        ; !"Anno of None"
      , s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "61,8,61,11") ; Fred
      , s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "62,8,62,17")
        ; !None(){2}
      , s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "63,8,63,10")
        ; !()
      )
    < s-exit(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "annos-in-static-patterns", "10,2,64,6")
    + s-exit(|"strategoxt/stratego-libraries/strc/tests/test1/test76.str", "annos-in-static-patterns", "10,2,64,6")
      ; fail