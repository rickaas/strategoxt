module test27

imports
  org.strategoxt.imp.debuggers.stratego.runtime


imports
  collection/list/cons
  collection/tuple/cons


strategies
  main =
    s-enter(|"strategoxt/stratego-libraries/strc/tests/test1/test27.str", "main", "5,2,6,23")
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test27.str", "6,4,6,23")
    ; (s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test27.str", "6,4,6,6")
       ; !())
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test27.str", "6,9,6,23")
    ; (s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test27.str", "6,9,6,18")
       ; try(
           s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test27.str", "6,13,6,17") ; test1
         ))
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test27.str", "6,21,6,23")
    ; ?()
    < s-exit(|"strategoxt/stratego-libraries/strc/tests/test1/test27.str", "main", "5,2,6,23")
    + s-exit(|"strategoxt/stratego-libraries/strc/tests/test1/test27.str", "main", "5,2,6,23")
      ; fail

  try(s) =
    s-enter(|"strategoxt/stratego-libraries/strc/tests/test1/test27.str", "try", "8,2,9,10")
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test27.str", "9,4,9,10")
    ; (s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test27.str", "9,4,9,4") ; s
       <+ s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test27.str", "9,9,9,10") ; id)
    < s-exit(|"strategoxt/stratego-libraries/strc/tests/test1/test27.str", "try", "8,2,9,10")
    + s-exit(|"strategoxt/stratego-libraries/strc/tests/test1/test27.str", "try", "8,2,9,10")
      ; fail

  test1 =
    s-enter(|"strategoxt/stratego-libraries/strc/tests/test1/test27.str", "test1", "11,2,12,22")
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test27.str", "12,4,12,22")
    ; (s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test27.str", "12,4,12,6")
       ; ?()
       < s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test27.str", "12,10,12,13") ; fail
       + s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test27.str", "12,17,12,22")
         ; !("a"))
    < s-exit(|"strategoxt/stratego-libraries/strc/tests/test1/test27.str", "test1", "11,2,12,22")
    + s-exit(|"strategoxt/stratego-libraries/strc/tests/test1/test27.str", "test1", "11,2,12,22")
      ; fail