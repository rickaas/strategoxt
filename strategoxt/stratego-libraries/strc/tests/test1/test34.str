module test34

imports
  org.strategoxt.imp.debuggers.stratego.runtime


imports
  libstratego-lib


strategies
  main =
    s-enter(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "main", "6,3,12,14")
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "7,5,12,14")
    ; (s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "7,5,7,9") ; test1)
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "8,7,12,14")
    ; (s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "8,7,8,11") ; test2)
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "11,7,12,14")
    ; (s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "11,7,11,21")
       ; say(
           s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "11,11,11,20")
           ; !"success"
         ))
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "12,7,12,14")
    ; <(s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "12,8,12,11") ; exit)> 0
    < s-exit(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "main", "6,3,12,14")
    + s-exit(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "main", "6,3,12,14")
      ; fail

  test1 =
    s-enter(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "test1", "14,3,18,23")
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "15,5,18,23")
    ; (s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "15,5,15,17")
       ; say(
           s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "15,9,15,16")
           ; !"test1"
         ))
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "16,7,18,23")
    ; (s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "16,7,16,47")
       ; rules (
           DynRule1 :
             None() -> Some("Blaat")
         ))
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "17,7,18,23")
    ; (s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "17,7,17,23")
       ; <(s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "17,8,17,15") ; DynRule1)> None())
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "18,7,18,23")
    ; say(
        s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "18,11,18,22")
        ; !"test1 yes"
      )
    < s-exit(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "test1", "14,3,18,23")
    + s-exit(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "test1", "14,3,18,23")
      ; fail

  test2 =
    s-enter(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "test2", "20,3,26,24")
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "21,5,26,24")
    ; (s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "21,5,21,17")
       ; say(
           s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "21,9,21,16")
           ; !"test2"
         ))
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "22,7,26,24")
    ; (s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "22,7,22,51")
       ; rules (
           DynRule2 :
             None(){t*} -> Some("Blaat")
         ))
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "23,7,26,24")
    ; (s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "23,7,23,35")
       ; <(s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "23,8,23,15") ; DynRule2)> None(){"whatever"})
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "24,7,26,24")
    ; (s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "24,7,24,24")
       ; say(
           s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "24,11,24,23")
           ; !"test2a yes"
         ))
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "25,7,26,24")
    ; (s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "25,7,25,23")
       ; <(s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "25,8,25,15") ; DynRule2)> None())
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "26,7,26,24")
    ; say(
        s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "26,11,26,23")
        ; !"test2b yes"
      )
    < s-exit(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "test2", "20,3,26,24")
    + s-exit(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "test2", "20,3,26,24")
      ; fail

  test3 =
    s-enter(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "test3", "28,3,34,24")
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "29,5,34,24")
    ; (s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "29,5,29,17")
       ; say(
           s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "29,9,29,16")
           ; !"test3"
         ))
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "30,7,34,24")
    ; (s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "30,7,30,56")
       ; rules (
           DynRule3 :
             Some("aap"){t*} -> Some("Blaat")
         ))
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "31,7,34,24")
    ; (s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "31,7,31,40")
       ; <(s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "31,8,31,15") ; DynRule3)> Some("aap"){"whatever"})
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "32,7,34,24")
    ; (s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "32,7,32,24")
       ; say(
           s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "32,11,32,23")
           ; !"test3a yes"
         ))
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "33,7,34,24")
    ; (s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "33,7,33,23")
       ; <(s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "33,8,33,15") ; DynRule3)> None())
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "34,7,34,24")
    ; say(
        s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "34,11,34,23")
        ; !"test3b yes"
      )
    < s-exit(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "test3", "28,3,34,24")
    + s-exit(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "test3", "28,3,34,24")
      ; fail

  test4 =
    s-enter(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "test4", "36,3,40,23")
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "37,5,40,23")
    ; (s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "37,5,37,17")
       ; say(
           s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "37,9,37,16")
           ; !"test4"
         ))
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "38,7,40,23")
    ; (s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "38,7,38,47")
       ; rules (
           DynRule4 :
             None() -> Some("Blaat")
         ))
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "39,7,40,23")
    ; (s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "39,7,39,35")
       ; <(s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "39,8,39,15") ; DynRule4)> None(){"whatever"})
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "40,7,40,23")
    ; say(
        s-step(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "40,11,40,22")
        ; !"test4 yes"
      )
    < s-exit(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "test4", "36,3,40,23")
    + s-exit(|"strategoxt/stratego-libraries/strc/tests/test1/test34.str", "test4", "36,3,40,23")
      ; fail