module test66

imports
  org.strategoxt.imp.debuggers.stratego.runtime


imports
  libstratego-lib


strategies
  main =
    s-enter(|"strategoxt/stratego-libraries/strc/tests/testneg/test05.str", "main", "12,2,17,24")
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/testneg/test05.str", "13,6,17,24")
    ; (s-step(|"strategoxt/stratego-libraries/strc/tests/testneg/test05.str", "13,6,13,15") ; define-Var)
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/testneg/test05.str", "14,6,17,24")
    ; (s-step(|"strategoxt/stratego-libraries/strc/tests/testneg/test05.str", "14,6,14,16") ; define-List)
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/testneg/test05.str", "16,6,17,24")
    ; (s-step(|"strategoxt/stratego-libraries/strc/tests/testneg/test05.str", "16,6,16,13")
       ; <(s-step(|"strategoxt/stratego-libraries/strc/tests/testneg/test05.str", "16,7,16,9") ; Foo)> [])
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/testneg/test05.str", "17,6,17,24")
    ; debug(
        s-step(|"strategoxt/stratego-libraries/strc/tests/testneg/test05.str", "17,12,17,23")
        ; !"Applied: "
      )
    < s-exit(|"strategoxt/stratego-libraries/strc/tests/testneg/test05.str", "main", "12,2,17,24")
    + s-exit(|"strategoxt/stratego-libraries/strc/tests/testneg/test05.str", "main", "12,2,17,24")
      ; fail

  define-Var =
    s-enter(|"strategoxt/stratego-libraries/strc/tests/testneg/test05.str", "define-Var", "19,2,20,27")
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/testneg/test05.str", "20,4,20,27")
    ; rules ( Foo :
                x -> "Var" )
    < s-exit(|"strategoxt/stratego-libraries/strc/tests/testneg/test05.str", "define-Var", "19,2,20,27")
    + s-exit(|"strategoxt/stratego-libraries/strc/tests/testneg/test05.str", "define-Var", "19,2,20,27")
      ; fail

  define-List =
    s-enter(|"strategoxt/stratego-libraries/strc/tests/testneg/test05.str", "define-List", "22,2,23,28")
    ; s-step(|"strategoxt/stratego-libraries/strc/tests/testneg/test05.str", "23,4,23,28")
    ; rules ( Foo :
                [] -> "List" )
    < s-exit(|"strategoxt/stratego-libraries/strc/tests/testneg/test05.str", "define-List", "22,2,23,28")
    + s-exit(|"strategoxt/stratego-libraries/strc/tests/testneg/test05.str", "define-List", "22,2,23,28")
      ; fail