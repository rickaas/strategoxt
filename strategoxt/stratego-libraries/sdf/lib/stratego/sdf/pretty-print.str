module stratego/sdf/pretty-print

imports
  org.strategoxt.imp.debuggers.stratego.runtime


imports
  libstratego-gpp


strategies
  pp-sdf-box =
    s-enter(|"strategoxt/stratego-libraries/sdf/lib/stratego/sdf/pretty-print.str", "pp-sdf-box", "7,2,9,35")
    ; s-step(|"strategoxt/stratego-libraries/sdf/lib/stratego/sdf/pretty-print.str", "8,4,9,35")
    ; (s-step(|"strategoxt/stratego-libraries/sdf/lib/stratego/sdf/pretty-print.str", "8,4,8,12") ; sdf-ppfix)
    ; s-step(|"strategoxt/stratego-libraries/sdf/lib/stratego/sdf/pretty-print.str", "9,6,9,35")
    ; ast2box(
      | [ <s-step(|"strategoxt/stratego-libraries/sdf/lib/stratego/sdf/pretty-print.str", "9,19,9,30") ; pp-table-sdf>
        ]
      )
    < s-exit(|"strategoxt/stratego-libraries/sdf/lib/stratego/sdf/pretty-print.str", "pp-sdf-box", "7,2,9,35")
    + s-exit(|"strategoxt/stratego-libraries/sdf/lib/stratego/sdf/pretty-print.str", "pp-sdf-box", "7,2,9,35")
      ; fail

  pp-sdf-string =
    s-enter(|"strategoxt/stratego-libraries/sdf/lib/stratego/sdf/pretty-print.str", "pp-sdf-string", "11,2,13,25")
    ; s-step(|"strategoxt/stratego-libraries/sdf/lib/stratego/sdf/pretty-print.str", "12,4,13,25")
    ; (s-step(|"strategoxt/stratego-libraries/sdf/lib/stratego/sdf/pretty-print.str", "12,4,12,13") ; pp-sdf-box)
    ; s-step(|"strategoxt/stratego-libraries/sdf/lib/stratego/sdf/pretty-print.str", "13,6,13,25")
    ; box2text-string(|80)
    < s-exit(|"strategoxt/stratego-libraries/sdf/lib/stratego/sdf/pretty-print.str", "pp-sdf-string", "11,2,13,25")
    + s-exit(|"strategoxt/stratego-libraries/sdf/lib/stratego/sdf/pretty-print.str", "pp-sdf-string", "11,2,13,25")
      ; fail

  pp-sdf-stream(|stream) =
    s-enter(|"strategoxt/stratego-libraries/sdf/lib/stratego/sdf/pretty-print.str", "pp-sdf-stream", "15,2,17,33")
    ; s-step(|"strategoxt/stratego-libraries/sdf/lib/stratego/sdf/pretty-print.str", "16,4,17,33")
    ; (s-step(|"strategoxt/stratego-libraries/sdf/lib/stratego/sdf/pretty-print.str", "16,4,16,13") ; pp-sdf-box)
    ; s-step(|"strategoxt/stratego-libraries/sdf/lib/stratego/sdf/pretty-print.str", "17,6,17,33")
    ; box2text-stream(|80, stream)
    < s-exit(|"strategoxt/stratego-libraries/sdf/lib/stratego/sdf/pretty-print.str", "pp-sdf-stream", "15,2,17,33")
    + s-exit(|"strategoxt/stratego-libraries/sdf/lib/stratego/sdf/pretty-print.str", "pp-sdf-stream", "15,2,17,33")
      ; fail

  pp-table-sdf =
    s-enter(|"strategoxt/stratego-libraries/sdf/lib/stratego/sdf/pretty-print.str", "pp-table-sdf", "19,2,20,26")
    ; s-step(|"strategoxt/stratego-libraries/sdf/lib/stratego/sdf/pretty-print.str", "20,4,20,26")
    ; import-term(Sdf2.pp.af)
    < s-exit(|"strategoxt/stratego-libraries/sdf/lib/stratego/sdf/pretty-print.str", "pp-table-sdf", "19,2,20,26")
    + s-exit(|"strategoxt/stratego-libraries/sdf/lib/stratego/sdf/pretty-print.str", "pp-table-sdf", "19,2,20,26")
      ; fail