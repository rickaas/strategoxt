module stratego/rtg/simplify

imports
  org.strategoxt.imp.debuggers.stratego.runtime


imports
  stratego/rtg/determinize
  stratego/rtg/normalize
  stratego/rtg/reduce
  stratego/rtg/util


strategies
  rtg2dfta =
    s-enter(
    | "strategoxt/stratego-libraries/rtg/lib/stratego/rtg/simplify.str"
    , "rtg2dfta"
    , "15"
    , "2"
    , "17"
    , "20"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/rtg/lib/stratego/rtg/simplify.str"
      , "15"
      , "13"
      , "17"
      , "20"
      )
    ; (s-step(
       | "strategoxt/stratego-libraries/rtg/lib/stratego/rtg/simplify.str"
       , "15"
       , "13"
       , "15"
       , "14"
       )
       ; id)
    ; s-step(
      | "strategoxt/stratego-libraries/rtg/lib/stratego/rtg/simplify.str"
      , "16"
      , "6"
      , "17"
      , "20"
      )
    ; (s-step(
       | "strategoxt/stratego-libraries/rtg/lib/stratego/rtg/simplify.str"
       , "16"
       , "6"
       , "16"
       , "18"
       )
       ; rtg-normalize)
    ; s-step(
      | "strategoxt/stratego-libraries/rtg/lib/stratego/rtg/simplify.str"
      , "17"
      , "6"
      , "17"
      , "20"
      )
    ; rtg-determinize
    < s-exit(
      | "strategoxt/stratego-libraries/rtg/lib/stratego/rtg/simplify.str"
      , "rtg2dfta"
      , "15"
      , "2"
      , "17"
      , "20"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/rtg/lib/stratego/rtg/simplify.str"
      , "rtg2dfta"
      , "15"
      , "2"
      , "17"
      , "20"
      )
      ; fail

  rtg-normalize =
    s-enter(
    | "strategoxt/stratego-libraries/rtg/lib/stratego/rtg/simplify.str"
    , "rtg-normalize"
    , "24"
    , "2"
    , "31"
    , "28"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/rtg/lib/stratego/rtg/simplify.str"
      , "24"
      , "18"
      , "31"
      , "28"
      )
    ; (s-step(
       | "strategoxt/stratego-libraries/rtg/lib/stratego/rtg/simplify.str"
       , "24"
       , "18"
       , "24"
       , "19"
       )
       ; id)
    ; s-step(
      | "strategoxt/stratego-libraries/rtg/lib/stratego/rtg/simplify.str"
      , "25"
      , "6"
      , "31"
      , "28"
      )
    ; (s-step(
       | "strategoxt/stratego-libraries/rtg/lib/stratego/rtg/simplify.str"
       , "25"
       , "6"
       , "25"
       , "27"
       )
       ; rtg-upgrade-string-int)
    ; s-step(
      | "strategoxt/stratego-libraries/rtg/lib/stratego/rtg/simplify.str"
      , "26"
      , "6"
      , "31"
      , "28"
      )
    ; (s-step(
       | "strategoxt/stratego-libraries/rtg/lib/stratego/rtg/simplify.str"
       , "26"
       , "6"
       , "26"
       , "15"
       )
       ; rtg-reduce)
    ; s-step(
      | "strategoxt/stratego-libraries/rtg/lib/stratego/rtg/simplify.str"
      , "27"
      , "6"
      , "31"
      , "28"
      )
    ; (s-step(
       | "strategoxt/stratego-libraries/rtg/lib/stratego/rtg/simplify.str"
       , "27"
       , "6"
       , "27"
       , "28"
       )
       ; rtg-ungroup-productions)
    ; s-step(
      | "strategoxt/stratego-libraries/rtg/lib/stratego/rtg/simplify.str"
      , "28"
      , "6"
      , "31"
      , "28"
      )
    ; (s-step(
       | "strategoxt/stratego-libraries/rtg/lib/stratego/rtg/simplify.str"
       , "28"
       , "6"
       , "28"
       , "28"
       )
       ; rtg-remove-nested-trees)
    ; s-step(
      | "strategoxt/stratego-libraries/rtg/lib/stratego/rtg/simplify.str"
      , "29"
      , "6"
      , "31"
      , "28"
      )
    ; (s-step(
       | "strategoxt/stratego-libraries/rtg/lib/stratego/rtg/simplify.str"
       , "29"
       , "6"
       , "29"
       , "31"
       )
       ; rtg-remove-injection-rules)
    ; s-step(
      | "strategoxt/stratego-libraries/rtg/lib/stratego/rtg/simplify.str"
      , "30"
      , "6"
      , "31"
      , "28"
      )
    ; (s-step(
       | "strategoxt/stratego-libraries/rtg/lib/stratego/rtg/simplify.str"
       , "30"
       , "6"
       , "30"
       , "15"
       )
       ; rtg-reduce)
    ; s-step(
      | "strategoxt/stratego-libraries/rtg/lib/stratego/rtg/simplify.str"
      , "31"
      , "6"
      , "31"
      , "28"
      )
    ; rtg-ungroup-productions
    < s-exit(
      | "strategoxt/stratego-libraries/rtg/lib/stratego/rtg/simplify.str"
      , "rtg-normalize"
      , "24"
      , "2"
      , "31"
      , "28"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/rtg/lib/stratego/rtg/simplify.str"
      , "rtg-normalize"
      , "24"
      , "2"
      , "31"
      , "28"
      )
      ; fail

  rtg-normalize-deprecated =
    s-enter(
    | "strategoxt/stratego-libraries/rtg/lib/stratego/rtg/simplify.str"
    , "rtg-normalize-deprecated"
    , "38"
    , "2"
    , "40"
    , "26"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/rtg/lib/stratego/rtg/simplify.str"
      , "38"
      , "29"
      , "40"
      , "26"
      )
    ; (s-step(
       | "strategoxt/stratego-libraries/rtg/lib/stratego/rtg/simplify.str"
       , "38"
       , "29"
       , "38"
       , "30"
       )
       ; id)
    ; s-step(
      | "strategoxt/stratego-libraries/rtg/lib/stratego/rtg/simplify.str"
      , "39"
      , "6"
      , "40"
      , "26"
      )
    ; (s-step(
       | "strategoxt/stratego-libraries/rtg/lib/stratego/rtg/simplify.str"
       , "39"
       , "6"
       , "39"
       , "15"
       )
       ; rtg-reduce)
    ; s-step(
      | "strategoxt/stratego-libraries/rtg/lib/stratego/rtg/simplify.str"
      , "40"
      , "6"
      , "40"
      , "26"
      )
    ; rtg-group-productions
    < s-exit(
      | "strategoxt/stratego-libraries/rtg/lib/stratego/rtg/simplify.str"
      , "rtg-normalize-deprecated"
      , "38"
      , "2"
      , "40"
      , "26"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/rtg/lib/stratego/rtg/simplify.str"
      , "rtg-normalize-deprecated"
      , "38"
      , "2"
      , "40"
      , "26"
      )
      ; fail


strategies
  rtg-upgrade-string-int =
    s-enter(
    | "strategoxt/stratego-libraries/rtg/lib/stratego/rtg/simplify.str"
    , "rtg-upgrade-string-int"
    , "47"
    , "2"
    , "51"
    , "5"
    )
    ; s-step(
      | "strategoxt/stratego-libraries/rtg/lib/stratego/rtg/simplify.str"
      , "48"
      , "4"
      , "51"
      , "5"
      )
    ; topdown(
        s-step(
        | "strategoxt/stratego-libraries/rtg/lib/stratego/rtg/simplify.str"
        , "48"
        , "12"
        , "51"
        , "4"
        )
        ; try(
            s-step(
            | "strategoxt/stratego-libraries/rtg/lib/stratego/rtg/simplify.str"
            , "49"
            , "8"
            , "50"
            , "47"
            )
            ; (s-step(
               | "strategoxt/stratego-libraries/rtg/lib/stratego/rtg/simplify.str"
               , "49"
               , "8"
               , "49"
               , "50"
               )
               ; \ Ref(String()) -> Appl(StringTerm(), []) \
               + s-step(
                 | "strategoxt/stratego-libraries/rtg/lib/stratego/rtg/simplify.str"
                 , "50"
                 , "8"
                 , "50"
                 , "47"
                 )
                 ; \ Ref(Int()) -> Appl(IntTerm(), []) \)
          )
      )
    < s-exit(
      | "strategoxt/stratego-libraries/rtg/lib/stratego/rtg/simplify.str"
      , "rtg-upgrade-string-int"
      , "47"
      , "2"
      , "51"
      , "5"
      )
    + s-exit(
      | "strategoxt/stratego-libraries/rtg/lib/stratego/rtg/simplify.str"
      , "rtg-upgrade-string-int"
      , "47"
      , "2"
      , "51"
      , "5"
      )
      ; fail