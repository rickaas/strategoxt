module regular-xtc-tools

imports
  org.strategoxt.imp.debuggers.stratego.runtime


imports
  pp-rtg
  libstratego-sglr


strategies
  xtc-pp-abstract-stratego =
    s-enter(|"strategoxt/syntax/stratego-regular/xtc/regular-xtc-tools.str", "xtc-pp-abstract-stratego", "8,2,9,69")
    ; s-step(|"strategoxt/syntax/stratego-regular/xtc/regular-xtc-tools.str", "9,4,9,69")
    ; xtc-transform(
        s-step(|"strategoxt/syntax/stratego-regular/xtc/regular-xtc-tools.str", "9,18,9,31")
        ; !"pp-stratego"
      , s-step(|"strategoxt/syntax/stratego-regular/xtc/regular-xtc-tools.str", "9,34,9,68")
        ; !["--abstract"|<s-step(|"strategoxt/syntax/stratego-regular/xtc/regular-xtc-tools.str", "9,52,9,63") ; pass-verbose> ()]
      )
    < s-exit(|"strategoxt/syntax/stratego-regular/xtc/regular-xtc-tools.str", "xtc-pp-abstract-stratego", "8,2,9,69")
    + s-exit(|"strategoxt/syntax/stratego-regular/xtc/regular-xtc-tools.str", "xtc-pp-abstract-stratego", "8,2,9,69")
      ; fail

  xtc-rtg-front-end =
    s-enter(|"strategoxt/syntax/stratego-regular/xtc/regular-xtc-tools.str", "xtc-rtg-front-end", "14,2,19,26")
    ; s-step(|"strategoxt/syntax/stratego-regular/xtc/regular-xtc-tools.str", "15,4,19,26")
    ; (s-step(|"strategoxt/syntax/stratego-regular/xtc/regular-xtc-tools.str", "15,4,15,18") ; xtc-ensure-file)
    ; s-step(|"strategoxt/syntax/stratego-regular/xtc/regular-xtc-tools.str", "16,6,19,26")
    ; (s-step(|"strategoxt/syntax/stratego-regular/xtc/regular-xtc-tools.str", "16,6,16,16")
       ; ?FILE(
            <s-step(|"strategoxt/syntax/stratego-regular/xtc/regular-xtc-tools.str", "16,13,16,14") ; id>
          ))
    ; s-step(|"strategoxt/syntax/stratego-regular/xtc/regular-xtc-tools.str", "17,6,19,26")
    ; (s-step(|"strategoxt/syntax/stratego-regular/xtc/regular-xtc-tools.str", "17,6,17,19") ; parse-rtg-file)
    ; s-step(|"strategoxt/syntax/stratego-regular/xtc/regular-xtc-tools.str", "18,6,19,26")
    ; (s-step(|"strategoxt/syntax/stratego-regular/xtc/regular-xtc-tools.str", "18,6,18,15") ; rtg-reduce)
    ; s-step(|"strategoxt/syntax/stratego-regular/xtc/regular-xtc-tools.str", "19,6,19,26")
    ; rtg-group-productions
    < s-exit(|"strategoxt/syntax/stratego-regular/xtc/regular-xtc-tools.str", "xtc-rtg-front-end", "14,2,19,26")
    + s-exit(|"strategoxt/syntax/stratego-regular/xtc/regular-xtc-tools.str", "xtc-rtg-front-end", "14,2,19,26")
      ; fail

  xtc-pp-rtg =
    s-enter(|"strategoxt/syntax/stratego-regular/xtc/regular-xtc-tools.str", "xtc-pp-rtg", "25,2,28,13")
    ; s-step(|"strategoxt/syntax/stratego-regular/xtc/regular-xtc-tools.str", "26,4,28,13")
    ; (s-step(|"strategoxt/syntax/stratego-regular/xtc/regular-xtc-tools.str", "26,4,26,29")
       ; where(s-step(|"strategoxt/syntax/stratego-regular/xtc/regular-xtc-tools.str", "26,10,26,28")
               ; f := <s-step(|"strategoxt/syntax/stratego-regular/xtc/regular-xtc-tools.str", "26,16,26,27") ; xtc-new-file>))
    ; s-step(|"strategoxt/syntax/stratego-regular/xtc/regular-xtc-tools.str", "27,6,28,13")
    ; (s-step(|"strategoxt/syntax/stratego-regular/xtc/regular-xtc-tools.str", "27,6,27,20")
       ; pp-rtg-file(|f))
    ; s-step(|"strategoxt/syntax/stratego-regular/xtc/regular-xtc-tools.str", "28,6,28,13")
    ; !FILE(f)
    < s-exit(|"strategoxt/syntax/stratego-regular/xtc/regular-xtc-tools.str", "xtc-pp-rtg", "25,2,28,13")
    + s-exit(|"strategoxt/syntax/stratego-regular/xtc/regular-xtc-tools.str", "xtc-pp-rtg", "25,2,28,13")
      ; fail


strategies
  my-parse-rtg-file =
    s-enter(|"strategoxt/syntax/stratego-regular/xtc/regular-xtc-tools.str", "my-parse-rtg-file", "35,2,38,17")
    ; s-step(|"strategoxt/syntax/stratego-regular/xtc/regular-xtc-tools.str", "36,4,38,17")
    ; (s-step(|"strategoxt/syntax/stratego-regular/xtc/regular-xtc-tools.str", "36,4,36,41")
       ; where(s-step(|"strategoxt/syntax/stratego-regular/xtc/regular-xtc-tools.str", "36,10,36,40")
               ; tbl := <s-step(|"strategoxt/syntax/stratego-regular/xtc/regular-xtc-tools.str", "36,18,36,39") ; my-get-rtg-parse-table>))
    ; s-step(|"strategoxt/syntax/stratego-regular/xtc/regular-xtc-tools.str", "37,6,38,17")
    ; (s-step(|"strategoxt/syntax/stratego-regular/xtc/regular-xtc-tools.str", "37,6,37,21")
       ; parse-file(|tbl))
    ; s-step(|"strategoxt/syntax/stratego-regular/xtc/regular-xtc-tools.str", "38,6,38,17")
    ; rtg-parsefix
    < s-exit(|"strategoxt/syntax/stratego-regular/xtc/regular-xtc-tools.str", "my-parse-rtg-file", "35,2,38,17")
    + s-exit(|"strategoxt/syntax/stratego-regular/xtc/regular-xtc-tools.str", "my-parse-rtg-file", "35,2,38,17")
      ; fail

  my-get-rtg-parse-table =
    s-enter(|"strategoxt/syntax/stratego-regular/xtc/regular-xtc-tools.str", "my-get-rtg-parse-table", "40,2,45,44")
    ; s-step(|"strategoxt/syntax/stratego-regular/xtc/regular-xtc-tools.str", "41,4,45,44")
    ; (s-step(|"strategoxt/syntax/stratego-regular/xtc/regular-xtc-tools.str", "41,4,41,22") ; MyMemoRTGParseTable
       <+ s-step(|"strategoxt/syntax/stratego-regular/xtc/regular-xtc-tools.str", "42,7,45,44")
          ; (s-step(|"strategoxt/syntax/stratego-regular/xtc/regular-xtc-tools.str", "42,7,42,25") ; get-rtg-parse-table)
          ; s-step(|"strategoxt/syntax/stratego-regular/xtc/regular-xtc-tools.str", "43,9,45,44")
          ; (s-step(|"strategoxt/syntax/stratego-regular/xtc/regular-xtc-tools.str", "43,9,43,24") ; open-parse-table)
          ; s-step(|"strategoxt/syntax/stratego-regular/xtc/regular-xtc-tools.str", "44,9,45,44")
          ; (s-step(|"strategoxt/syntax/stratego-regular/xtc/regular-xtc-tools.str", "44,9,44,12") ; ?tbl)
          ; s-step(|"strategoxt/syntax/stratego-regular/xtc/regular-xtc-tools.str", "45,9,45,44")
          ; rules ( MyMemoRTGParseTable :
                      _ -> tbl ))
    < s-exit(|"strategoxt/syntax/stratego-regular/xtc/regular-xtc-tools.str", "my-get-rtg-parse-table", "40,2,45,44")
    + s-exit(|"strategoxt/syntax/stratego-regular/xtc/regular-xtc-tools.str", "my-get-rtg-parse-table", "40,2,45,44")
      ; fail

  external STRRTG-get-rtg-parsetable(|)