module Abox-2-html

imports
  org.strategoxt.imp.debuggers.stratego.runtime


imports
  libstratego-lib
  libstratego-xtc
  Abox-2-html-lib
  Box
  Box-util
  plain-text


strategies
  io-Abox-2-html =
    s-enter(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "io-Abox-2-html", "38,2,43,4")
    ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "39,4,43,4")
    ; xtc-io-wrap(
        s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "40,8,42,23")
        ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "40,8,40,16") ; read-from)
        ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "41,8,42,23")
        ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "41,8,41,16") ; abox2html)
        ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "42,8,42,23")
        ; topdown-print-to
      )
    < s-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "io-Abox-2-html", "38,2,43,4")
    + s-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "io-Abox-2-html", "38,2,43,4")
      ; fail

  abox2html =
    s-enter(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "abox2html", "45,2,49,14")
    ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "46,6,49,14")
    ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "46,6,46,14") ; normalize)
    ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "47,6,49,14")
    ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "47,6,47,30")
       ; topdown(
           s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "47,15,47,28")
           ; try(
               s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "47,19,47,27") ; Abox2html
             )
         ))
    ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "48,6,49,14")
    ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "48,6,48,41")
       ; !TABLE(
            []
          , [ TR(
                []
              , [ TD(
                    []
                  , <s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "48,34,48,35") ; id>
                  )
                ]
              )
            ]
          ))
    ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "49,6,49,14")
    ; html2text
    < s-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "abox2html", "45,2,49,14")
    + s-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "abox2html", "45,2,49,14")
      ; fail


rules

  Abox2html :
    S(s) -> <r-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Abox2html", "53,2,54,26")> <s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "54,13,54,23") ; html-string> s
    where r-enter(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Abox2html", "53,2,54,26")
          <+ r-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Abox2html", "53,2,54,26")
             ; fail

  Abox2html :
    C([], bs) -> <r-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Abox2html", "57,2,59,61")> TDTR(
                                                                                                        TR(
                                                                                                          []
                                                                                                        , [ TD(["colspan=\"100\" class=\"comment\""], [bs2])
                                                                                                          ]
                                                                                                        )
                                                                                                      )
    where r-enter(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Abox2html", "57,2,59,61")
          <+ r-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Abox2html", "57,2,59,61")
             ; fail
    where s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "59,12,59,61")
          ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "59,12,59,54")
             ; <(s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "59,13,59,50")
                 ; map(
                     s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "59,17,59,49")
                     ; \ S(x) -> <s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "59,28,59,44") ; make-html-comment> x \
                   ))> bs) => bs2
          <+ r-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Abox2html", "57,2,59,61")
             ; fail

  Abox2html :
    FBOX(fo, b) -> <r-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Abox2html", "64,2,71,20")> s
    where r-enter(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Abox2html", "64,2,71,20")
          <+ r-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Abox2html", "64,2,71,20")
             ; fail
    where s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "66,12,71,20")
          ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "66,12,71,15")
             ; <(s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "66,15,70,16")
                 ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "66,15,66,57")
                    ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "66,15,66,18") ; KW)
                    ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "66,23,66,57")
                    ; !SPAN(["class=\"keyword\""], [b])
                    <+ s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "67,15,70,16")
                       ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "67,15,67,57")
                          ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "67,15,67,19") ; VAR)
                          ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "67,23,67,57")
                          ; !SPAN(["class=\"variable\""], [b])
                          <+ s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "68,15,70,16")
                             ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "68,15,68,57")
                                ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "68,15,68,19") ; NUM)
                                ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "68,23,68,57")
                                ; !SPAN(["class=\"number\""], [b])
                                <+ s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "69,15,70,16")
                                   ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "69,15,69,57")
                                      ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "69,15,69,20") ; MATH)
                                      ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "69,23,69,57")
                                      ; !SPAN(["class=\"math\""], [b])
                                      <+ s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "70,15,70,16") ; !b)))))> fo) => s
          <+ r-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Abox2html", "64,2,71,20")
             ; fail

  Abox2html :
    H(so, b) -> <r-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Abox2html", "74,2,77,46")> s
    where r-enter(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Abox2html", "74,2,77,46")
          <+ r-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Abox2html", "74,2,77,46")
             ; fail
    where s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "76,12,77,46")
          ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "76,12,76,28")
             ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "76,12,76,22")
                ; <(s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "76,13,76,18") ; Hspace)> so) => hs)
          ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "77,12,77,46")
          ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "77,12,77,41")
             ; <(s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "77,13,77,39")
                 ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "77,13,77,27")
                    ; filter(
                        s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "77,20,77,26")
                        ; not(s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "77,24,77,25") ; [])
                      ))
                 ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "77,29,77,39")
                 ; sep-by(
                     s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "77,36,77,38") ; !hs
                   ))> b) => s
          <+ r-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Abox2html", "74,2,77,46")
             ; fail

  Abox2html :
    V(so, b) -> <r-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Abox2html", "80,0,87,26")> [TDTD(), TABLE([], s)]
    where r-enter(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Abox2html", "80,0,87,26")
          <+ r-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Abox2html", "80,0,87,26")
             ; fail
    where s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "83,6,87,26")
          ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "83,6,83,21")
             ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "83,6,83,15")
                ; <(s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "83,7,83,12") ; Vspace)> so) => vs)
          ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "84,6,87,26")
          ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "84,6,84,21")
             ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "84,6,84,15")
                ; <(s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "84,7,84,12") ; Ispace)> so) => is)
          ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "85,6,87,26")
          ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "85,6,85,23")
             ; <(s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "85,7,85,21")
                 ; filter(
                     s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "85,14,85,20")
                     ; not(s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "85,18,85,19") ; [])
                   ))> b)
          ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "86,6,87,26")
          ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "86,6,86,29")
             ; [s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "86,7,86,14")
                ; tov(
                    s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "86,11,86,13")
                    ; !""
                  )|s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "86,16,86,28")
                    ; map(
                        s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "86,20,86,27")
                        ; tov(
                            s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "86,24,86,26") ; !is
                          )
                      )])
          ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "87,6,87,26")
          ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "87,6,87,21")
             ; separate-by(
                 s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "87,18,87,20") ; !vs
               )) => s
          <+ r-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Abox2html", "80,0,87,26")
             ; fail

  Abox2html :
    HV(so, b) -> <r-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Abox2html", "90,0,99,11")> s
    where r-enter(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Abox2html", "90,0,99,11")
          <+ r-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Abox2html", "90,0,99,11")
             ; fail
    where s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "93,6,99,11")
          ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "93,6,93,21")
             ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "93,6,93,15")
                ; <(s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "93,7,93,12") ; Hspace)> so) => hs)
          ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "94,6,99,11")
          ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "95,9,98,57")
             ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "95,9,95,30")
                ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "95,9,95,11")
                   ; ?[])
                ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "95,13,95,30")
                ; <(s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "95,14,95,28")
                    ; filter(
                        s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "95,21,95,27")
                        ; not(s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "95,25,95,26") ; [])
                      ))> b
                <+ s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "97,9,98,57")
                   ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "97,9,97,30")
                      ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "97,9,97,23")
                         ; at-last(
                             s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "97,17,97,22")
                             ; ![" "]
                           )) => sep)
                   ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "98,9,98,57")
                   ; ![ TDTD()
                      , <s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "98,20,98,53")
                         ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "98,20,98,34")
                            ; filter(
                                s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "98,27,98,33")
                                ; not(s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "98,31,98,32") ; [])
                              ))
                         ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "98,37,98,53")
                         ; separate-by(
                             s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "98,49,98,52") ; !sep
                           )> b
                      ])) => s
          <+ r-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Abox2html", "90,0,99,11")
             ; fail

  Abox2html :
    A(aos, so, b) -> <r-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Abox2html", "102,0,108,28")> TD'(
                                                                                                              TD(
                                                                                                                []
                                                                                                              , [TABLE([], [s])]
                                                                                                              )
                                                                                                            )
    where r-enter(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Abox2html", "102,0,108,28")
          <+ r-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Abox2html", "102,0,108,28")
             ; fail
    where s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "105,6,108,28")
          ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "105,6,105,28")
             ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "105,6,105,22")
                ; <(s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "105,7,105,20") ; construct-rows)> b) => bs)
          ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "106,6,108,28")
          ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "106,6,106,21")
             ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "106,6,106,15")
                ; <(s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "106,7,106,12") ; Vspace)> so) => vs)
          ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "107,6,108,28")
          ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "107,6,107,28")
             ; <(s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "107,7,107,25")
                 ; map(
                     s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "107,12,107,22")
                     ; toa(
                         s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "107,17,107,20") ; !aos
                       )
                   ))> bs)
          ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "108,6,108,28")
          ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "108,6,108,23")
             ; separate-by(
                 s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "108,19,108,21") ; !vs
               )) => s
          <+ r-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Abox2html", "102,0,108,28")
             ; fail

  Abox2html :
    ALT(b1, b2) -> <r-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Abox2html", "111,0,112,21")> b1
    where r-enter(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Abox2html", "111,0,112,21")
          <+ r-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Abox2html", "111,0,112,21")
             ; fail

  Abox2html :
    L(b1, b2) -> <r-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Abox2html", "115,0,116,21")> HR()
    where r-enter(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Abox2html", "115,0,116,21")
          <+ r-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Abox2html", "115,0,116,21")
             ; fail

  Abox2html :
    LNAT(i, b) -> <r-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Abox2html", "119,0,120,22")> HR()
    where r-enter(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Abox2html", "119,0,120,22")
          <+ r-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Abox2html", "119,0,120,22")
             ; fail

  Abox2html :
    LBL(url, text) -> <r-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Abox2html", "123,0,124,43")> [ANCHOR(url), text]
    where r-enter(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Abox2html", "123,0,124,43")
          <+ r-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Abox2html", "123,0,124,43")
             ; fail

  Abox2html :
    REF(url, text) -> <r-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Abox2html", "127,0,128,39")> HREF(url, text)
    where r-enter(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Abox2html", "127,0,128,39")
          <+ r-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Abox2html", "127,0,128,39")
             ; fail

  toa(aoptions) :
    R([], bs) -> <r-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "toa", "130,0,147,9")> TR(["valign=\"top\""], [s])
    where r-enter(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "toa", "130,0,147,9")
          <+ r-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "toa", "130,0,147,9")
             ; fail
    where s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "133,3,147,9")
          ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "133,3,133,33")
             ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "133,3,133,14")
                ; <(s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "133,4,133,11") ; aoptions)> ()) => AOPTIONS(aos))
          ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "134,3,147,9")
          ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "134,3,134,12")
             ; !(bs, aos))
          ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "135,3,147,9")
          ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "135,3,147,4")
             ; rec x (
                 s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "135,10,147,0")
                 ; {a, b, a', as, ao, aos':
                     s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "136,6,146,38")
                     ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "136,6,136,19")
                        ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "136,6,136,14")
                           ; ?([], _))
                        ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "136,17,136,19")
                        ; ![]
                        <+ s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "138,6,146,38")
                           ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "138,6,139,37")
                              ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "138,6,138,24")
                                 ; ?( [C(a, b)|as]
                                    , aos'
                                    ))
                              ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "139,6,139,37")
                              ; ![TD(
                                    []
                                  , [C(a, b)]
                                  )|<s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "139,25,139,25") ; x> (as, aos')]
                              <+ s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "142,6,146,38")
                                 ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "142,6,143,56")
                                    ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "142,6,142,27")
                                       ; ?( [a, a'|as]
                                          , [ao|aos']
                                          ))
                                    ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "143,6,143,56")
                                    ; ![TD(
                                          [ <s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "143,13,143,16") ; aopt> ao
                                          ]
                                        , a
                                        ), <s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "143,27,143,33") ; make-hs> ao|<s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "143,39,143,39") ; x> ([a'|as], aos')]
                                    <+ s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "145,6,146,38")
                                       ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "145,6,145,24")
                                          ; ?([a|as], [ao|aos']))
                                       ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "146,6,146,38")
                                       ; ![TD(
                                             [ <s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "146,13,146,16") ; aopt> ao
                                             ]
                                           , a
                                           )|<s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "146,26,146,26") ; x> (as, aos')])))
                   }
               )) => s
          <+ r-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "toa", "130,0,147,9")
             ; fail


strategies
  aopt =
    s-enter(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "aopt", "151,2,154,33")
    ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "152,6,154,33")
    ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "152,6,152,31")
       ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "152,6,152,11")
          ; ?AL(_))
       ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "152,15,152,31")
       ; !"align=\"left\""
       + s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "153,6,154,33")
         ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "153,6,153,32")
            ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "153,6,153,11")
               ; ?AR(_))
            ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "153,15,153,32")
            ; !"align=\"right\""
            + s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "154,6,154,33")
              ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "154,6,154,11")
                 ; ?AC(_))
              ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "154,15,154,33")
              ; !"align=\"center\""))
    < s-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "aopt", "151,2,154,33")
    + s-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "aopt", "151,2,154,33")
      ; fail

  make-hs =
    s-enter(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "make-hs", "156,2,159,26")
    ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "157,4,159,26")
    ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "157,4,157,21") ; SOpts-of-alignment)
    ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "158,5,159,26")
    ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "158,5,158,10") ; Hspace)
    ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "159,6,159,25")
    ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "159,6,159,8")
       ; ?[]
       <+ s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "159,13,159,25")
          ; !TD(
               []
             , <s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "159,22,159,23") ; id>
             ))
    < s-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "make-hs", "156,2,159,26")
    + s-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "make-hs", "156,2,159,26")
      ; fail

  tov(is) =
    s-enter(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "tov", "161,2,170,38")
    ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "162,3,170,38")
    ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "162,3,169,8")
       ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "163,3,168,58")
          ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "163,3,163,10")
             ; L(
                 s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "163,5,163,6") ; id
               , s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "163,8,163,9") ; id
               )
             <+ s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "165,3,168,58")
                ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "165,3,165,13")
                   ; LNAT(
                       s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "165,8,165,9") ; id
                     , s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "165,11,165,12") ; id
                     )
                   <+ s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "167,3,168,58")
                      ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "167,3,167,4") ; ?b)
                      ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "168,3,168,58")
                      ; !TABLE(
                           []
                         , [ TR(
                               ["valign=\"top\""]
                             , [ <s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "168,38,168,39") ; is> ()
                               , TD([], [b])
                               ]
                             )
                           ]
                         )))) => s)
    ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "170,3,170,38")
    ; !TR(
         ["valign=\"top\""]
       , [TD([], [s])]
       )
    < s-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "tov", "161,2,170,38")
    + s-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "tov", "161,2,170,38")
      ; fail

  Hspace =
    s-enter(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Hspace", "172,2,173,48")
    ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "173,4,173,48")
    ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "173,4,173,12") ; hs-length)
    ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "173,16,173,47")
    ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "173,16,173,22")
       ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "173,16,173,17")
          ; ?0)
       ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "173,20,173,22")
       ; ![]
       <+ s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "173,27,173,47")
          ; <(s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "173,28,173,31") ; copy)> ( <s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "173,36,173,37") ; id>
                                                                                                , NBSP()
                                                                                                ))
    < s-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Hspace", "172,2,173,48")
    + s-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Hspace", "172,2,173,48")
      ; fail

  Vspace =
    s-enter(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Vspace", "175,2,176,64")
    ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "176,4,176,64")
    ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "176,4,176,12") ; vs-length)
    ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "176,16,176,63")
    ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "176,16,176,22")
       ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "176,16,176,17")
          ; ?0)
       ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "176,20,176,22")
       ; !""
       <+ s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "176,27,176,63")
          ; !TR(
               []
             , [ TD(
                   []
                 , <s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "176,42,176,45") ; copy> ( <s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "176,50,176,51") ; id>
                                                                                                     , BR()
                                                                                                     )
                 )
               ]
             ))
    < s-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Vspace", "175,2,176,64")
    + s-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Vspace", "175,2,176,64")
      ; fail

  Ispace =
    s-enter(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Ispace", "178,2,179,56")
    ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "179,4,179,56")
    ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "179,4,179,12") ; is-length)
    ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "179,16,179,55")
    ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "179,16,179,22")
       ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "179,16,179,17")
          ; ?0)
       ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "179,20,179,22")
       ; !""
       <+ s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "179,27,179,55")
          ; !TD(
               []
             , <s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "179,36,179,39") ; copy> ( <s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "179,43,179,44") ; id>
                                                                                                 , NBSP()
                                                                                                 )
             ))
    < s-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Ispace", "178,2,179,56")
    + s-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Ispace", "178,2,179,56")
      ; fail

  sep-by(s) =
    s-enter(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "sep-by", "181,2,184,11")
    ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "182,6,184,11")
    ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "182,6,182,24")
       ; map(
           s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "182,11,182,22")
           ; \ x -> [x] \
         ))
    ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "183,6,184,11")
    ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "183,6,183,19")
       ; separate-by(
           s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "183,18,183,18") ; s
         ))
    ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "184,6,184,11")
    ; concat
    < s-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "sep-by", "181,2,184,11")
    + s-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "sep-by", "181,2,184,11")
      ; fail

  normalize =
    s-enter(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "normalize", "186,2,189,34")
    ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "187,3,189,34")
    ; topdown(
        s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "187,12,189,32")
        ; try(
            s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "187,21,189,30")
            ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "187,21,187,37")
               ; \ H(_, [b]) -> b \
               + s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "188,21,189,30")
                 ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "188,21,188,37")
                    ; \ V(_, [b]) -> b \
                    + s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "189,21,189,30") ; Distribute))
          )
      )
    < s-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "normalize", "186,2,189,34")
    + s-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "normalize", "186,2,189,34")
      ; fail

  Flat-list =
    s-enter(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Flat-list", "191,0,193,38")
    ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "192,3,193,38")
    ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "192,3,192,9") ; is-list)
    ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "193,3,193,38")
    ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "193,3,193,20")
       ; map(
           s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "193,8,193,18")
           ; \ [x] -> x \
         ))
    ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "193,23,193,38")
    ; filter(
        s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "193,31,193,37")
        ; not(s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "193,35,193,36") ; [])
      )
    < s-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Flat-list", "191,0,193,38")
    + s-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Flat-list", "191,0,193,38")
      ; fail

  Distribute =
    s-enter(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Distribute", "196,0,202,37")
    ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "197,3,202,37")
    ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "197,3,197,14")
       ; ?H(so, xs))
    ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "198,3,202,37")
    ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "198,3,198,38")
       ; <(s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "198,4,198,35")
           ; split-fetch(
               s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "198,17,198,33")
               ; ?V(so', [a|as])
             ))> xs)
    ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "199,3,202,37")
    ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "199,3,199,11")
       ; ?(l1, l2))
    ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "200,3,202,37")
    ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "200,3,200,14")
       ; <(s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "200,4,200,11")
           ; not(s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "200,8,200,10")
                 ; ?[]))> l2)
    ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "201,3,202,37")
    ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "201,3,201,54")
       ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "201,3,201,47")
          ; <(s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "201,4,201,40")
              ; at-last(
                  s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "201,13,201,38")
                  ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "201,13,201,16")
                     ; [ s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "201,14,201,15") ; ?b
                       ])
                  ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "201,19,201,38")
                  ; ![H(so, [b|l2])]
                ))> [a|as]) => l1')
    ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "202,3,202,37")
    ; !H(
         so
       , <s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "202,12,202,15") ; conc> (l1, [V(so', l1')])
       )
    < s-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Distribute", "196,0,202,37")
    + s-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "Distribute", "196,0,202,37")
      ; fail

  make-html-comment =
    s-enter(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "make-html-comment", "207,0,223,25")
    ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "208,2,223,25")
    ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "208,2,208,15") ; explode-string)
    ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "209,3,223,25")
    ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "209,3,209,9") ; reverse)
    ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "210,3,223,25")
    ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "210,3,210,15")
       ; split(
           s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "210,9,210,10") ; id
         , s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "210,12,210,14")
           ; ![]
         ))
    ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "211,3,223,25")
    ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "211,3,219,7")
       ; rec x (
           s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "211,10,219,3")
           ; {xs, ys, a:
               s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "212,6,218,20")
               ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "212,6,212,57")
                  ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "212,6,212,13")
                     ; ?([], ys))
                  ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "212,15,212,57")
                  ; ![ <s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "212,18,212,53")
                        ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "212,18,212,38")
                           ; remove-trailing(
                               s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "212,34,212,37")
                               ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "212,34,212,34") ; 9
                                  + s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "212,36,212,37") ; 32)
                             ))
                        ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "212,40,212,53")
                        ; implode-string> ys
                     ]
                  <+ s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "214,6,218,20")
                     ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "214,6,215,61")
                        ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "214,6,214,19")
                           ; ?([10|xs], ys))
                        ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "215,6,215,61")
                        ; ![<s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "215,9,215,44")
                             ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "215,9,215,29")
                                ; remove-trailing(
                                    s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "215,25,215,28")
                                    ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "215,25,215,25") ; 9
                                       + s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "215,27,215,28") ; 32)
                                  ))
                             ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "215,31,215,44")
                             ; implode-string> ys|<s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "215,51,215,51") ; x> (xs, [])]
                        <+ s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "217,6,218,20")
                           ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "217,6,217,17")
                              ; ?([a|xs], ys))
                           ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "218,6,218,20")
                           ; <(s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "218,7,218,7") ; x)> (xs, [a|ys])))
             }
         ))
    ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "220,3,223,25")
    ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "220,3,220,22")
       ; remove-trailing(
           s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "220,19,220,21")
           ; ?""
         ))
    ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "221,3,223,25")
    ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "221,3,221,9") ; reverse)
    ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "222,3,223,25")
    ; (s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "222,3,222,22")
       ; remove-trailing(
           s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "222,19,222,21")
           ; ?""
         ))
    ; s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "223,3,223,25")
    ; map(
        s-step(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "223,8,223,23")
        ; \ x -> [x, BR()] \
      )
    < s-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "make-html-comment", "207,0,223,25")
    + s-exit(|"strategoxt/syntax/gpp/tools2/Abox-2-html.str", "make-html-comment", "207,0,223,25")
      ; fail